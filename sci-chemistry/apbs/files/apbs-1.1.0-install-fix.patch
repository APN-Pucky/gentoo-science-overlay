--- Makefile.am	2009-03-05 21:30:56.000000000 +0100
+++ Makefile.am.new	2009-03-17 16:43:38.000000000 +0100
@@ -28,10 +28,20 @@
 	-rm -f ./bin/apbs
 
 install-data-local:
-	mkdir -p ${prefix}/share
-	-cp -rf examples ${prefix}/share 
-	-cp -rf doc ${prefix}/share 
-	-cp -rf tools ${prefix}/share
+	mkdir -p $(DESTDIR)${prefix}/share/GENTOO_PKG_NAME/examples 
+	mkdir -p $(DESTDIR)${prefix}/share/GENTOO_PKG_NAME/tools
+	-rm -f doc/LICENSE.txt
+	-rm -f tools/manip/*.pyc
+	-rm -f tools/**/*.o
+	-rm -f tools/**/Makefile*
+	-rm -f tools/**/**/*.o
+	-rm -f tools/**/**/Makefile*
+	-rm -f tools/Makefile*
+	-rm -f examples/Makefile*
+	-rm -f examples/**/Makefile*
+	-cp -rf doc $(DESTDIR)${prefix}/share/doc/GENTOO_PKG_NAME/html
+	-cp -rf examples $(DESTDIR)${prefix}/share/GENTOO_PKG_NAME/
+	-cp -rf tools $(DESTDIR)${prefix}/share/GENTOO_PKG_NAME/
 
 test:
 	cd examples; make test
--- contrib/opal/ZSI/Makefile.am	2009-03-05 21:30:09.000000000 +0100
+++ contrib/opal/ZSI/Makefile.am.new	2009-03-18 12:31:29.000000000 +0100
@@ -15,6 +15,6 @@
 export PYTHONPATH:=	${SITEPKGS}
 
 install-data-local:
-	-mkdir -p ${SITEPKGS}
-	${py_path} setup.py install --prefix=${prefix}
+	-mkdir -p $(DESTDIR)${SITEPKGS}
+	${py_path} setup.py install --prefix=$(DESTDIR)${prefix}
 	

--- contrib/opal/Makefile.am	2009-03-05 21:30:09.000000000 +0100
+++ contrib/opal/Makefile.am.new	2009-03-18 12:53:40.000000000 +0100
@@ -14,9 +14,9 @@
 SUBDIRS = $(always_built_SUBDIRS) .
 
 install-data-local:
-	-cp ${top_apbsdir}/contrib/opal/opal-py-1.9.3/wsdl/*.py ${SITEPKGS}
-	-cp ${top_apbsdir}/contrib/opal/ApbsClientHelp ${SITEPKGS}
-	-cp -R ${top_apbsdir}/contrib/opal/ZSI/ZSI ${SITEPKGS}
+	-cp ${top_apbsdir}/contrib/opal/opal-py-1.9.3/wsdl/*.py $(DESTDIR)${SITEPKGS}
+	-cp ${top_apbsdir}/contrib/opal/ApbsClientHelp $(DESTDIR)${SITEPKGS}
+	-cp -R ${top_apbsdir}/contrib/opal/ZSI/ZSI $(DESTDIR)${SITEPKGS}
 
 	
 	

--- bin/Makefile.am	2009-03-05 21:30:49.000000000 +0100
+++ bin/Makefile.am.new	2009-03-18 13:04:00.000000000 +0100
@@ -30,6 +30,6 @@
 include_HEADERS = routines.h
 
 install-data-local:
-	-cp -p ${top_apbsdir}/bin/ApbsClient.py ${prefix}/bin
-	-chmod 755 ${prefix}/bin/ApbsClient.py
-	-rm -f ${prefix}/bin/wsdl2py 
\ No newline at end of file
+	-cp -p ${top_apbsdir}/bin/ApbsClient.py $(DESTDIR)${prefix}/bin
+	-chmod 755 $(DESTDIR)${prefix}/bin/ApbsClient.py
+	-rm -f $(DESTDIR)${prefix}/bin/wsdl2py 
