--- ncbi_cxx--12_0_0/src/build-system/configure.ori	2013-05-20 23:03:20.000000000 +0200
+++ ncbi_cxx--12_0_0/src/build-system/configure	2014-06-23 22:22:50.000000000 +0200
@@ -1,19 +1,13 @@
 #! /bin/sh
 # Guess values for system-dependent variables and create Makefiles.
-# Generated by GNU Autoconf 2.59 for ncbi-tools++ 0.0.
+# Generated by GNU Autoconf 2.60 for ncbi-tools++ 0.0.
 #
 # Report bugs to <cpp-core@ncbi.nlm.nih.gov>.
 #
-# Copyright (C) 2003 Free Software Foundation, Inc.
+# Copyright (C) 1992, 1993, 1994, 1995, 1996, 1998, 1999, 2000, 2001,
+# 2002, 2003, 2004, 2005, 2006 Free Software Foundation, Inc.
 # This configure script is free software; the Free Software Foundation
 # gives unlimited permission to copy, distribute and modify it.
-# Support unset when possible.
-if ( (MAIL=60; unset MAIL) || exit) >/dev/null 2>&1; then
-  as_unset=unset
-else
-  as_unset=false
-fi
-
 ## --------------------- ##
 ## M4sh Initialization.  ##
 ## --------------------- ##
@@ -25,11 +19,35 @@
   # Zsh 3.x and 4.x performs word splitting on ${1+"$@"}, which
   # is contrary to our usage.  Disable this feature.
   alias -g '${1+"$@"}'='"$@"'
-elif test -n "${BASH_VERSION+set}" && (set -o posix) >/dev/null 2>&1; then
-  set -o posix
+  setopt NO_GLOB_SUBST
+else
+  case `(set -o) 2>/dev/null` in *posix*) set -o posix;; esac
 fi
+BIN_SH=xpg4; export BIN_SH # for Tru64
 DUALCASE=1; export DUALCASE # for MKS sh
 
+
+# PATH needs CR
+# Avoid depending upon Character Ranges.
+as_cr_letters='abcdefghijklmnopqrstuvwxyz'
+as_cr_LETTERS='ABCDEFGHIJKLMNOPQRSTUVWXYZ'
+as_cr_Letters=$as_cr_letters$as_cr_LETTERS
+as_cr_digits='0123456789'
+as_cr_alnum=$as_cr_Letters$as_cr_digits
+
+# The user is always right.
+if test "${PATH_SEPARATOR+set}" != set; then
+  echo "#! /bin/sh" >conf$$.sh
+  echo  "exit 0"   >>conf$$.sh
+  chmod +x conf$$.sh
+  if (PATH="/nonexistent;."; conf$$.sh) >/dev/null 2>&1; then
+    PATH_SEPARATOR=';'
+  else
+    PATH_SEPARATOR=:
+  fi
+  rm -f conf$$.sh
+fi
+
 # Support unset when possible.
 if ( (MAIL=60; unset MAIL) || exit) >/dev/null 2>&1; then
   as_unset=unset
@@ -38,8 +56,43 @@
 fi
 
 
+# IFS
+# We need space, tab and new line, in precisely that order.  Quoting is
+# there to prevent editors from complaining about space-tab.
+# (If _AS_PATH_WALK were called with IFS unset, it would disable word
+# splitting by setting IFS to empty value.)
+as_nl='
+'
+IFS=" ""	$as_nl"
+
+# Find who we are.  Look in the path if we contain no directory separator.
+case $0 in
+  *[\\/]* ) as_myself=$0 ;;
+  *) as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+  test -r "$as_dir/$0" && as_myself=$as_dir/$0 && break
+done
+IFS=$as_save_IFS
+
+     ;;
+esac
+# We did not find ourselves, most probably we were run as `sh COMMAND'
+# in which case we are not to be found in the path.
+if test "x$as_myself" = x; then
+  as_myself=$0
+fi
+if test ! -f "$as_myself"; then
+  echo "$as_myself: error: cannot find myself; rerun with an absolute file name" >&2
+  { (exit 1); exit 1; }
+fi
+
 # Work around bugs in pre-3.0 UWIN ksh.
-$as_unset ENV MAIL MAILPATH
+for as_var in ENV MAIL MAILPATH
+do ($as_unset $as_var) >/dev/null 2>&1 && $as_unset $as_var
+done
 PS1='$ '
 PS2='> '
 PS4='+ '
@@ -53,18 +106,19 @@
   if (set +x; test -z "`(eval $as_var=C; export $as_var) 2>&1`"); then
     eval $as_var=C; export $as_var
   else
-    $as_unset $as_var
+    ($as_unset $as_var) >/dev/null 2>&1 && $as_unset $as_var
   fi
 done
 
 # Required to use basename.
-if expr a : '\(a\)' >/dev/null 2>&1; then
+if expr a : '\(a\)' >/dev/null 2>&1 &&
+   test "X`expr 00001 : '.*\(...\)'`" = X001; then
   as_expr=expr
 else
   as_expr=false
 fi
 
-if (basename /) >/dev/null 2>&1 && test "X`basename / 2>&1`" = "X/"; then
+if (basename -- /) >/dev/null 2>&1 && test "X`basename -- / 2>&1`" = "X/"; then
   as_basename=basename
 else
   as_basename=false
@@ -72,160 +126,394 @@
 
 
 # Name of the executable.
-as_me=`$as_basename "$0" ||
+as_me=`$as_basename -- "$0" ||
 $as_expr X/"$0" : '.*/\([^/][^/]*\)/*$' \| \
 	 X"$0" : 'X\(//\)$' \| \
-	 X"$0" : 'X\(/\)$' \| \
-	 .     : '\(.\)' 2>/dev/null ||
+	 X"$0" : 'X\(/\)' \| . 2>/dev/null ||
 echo X/"$0" |
-    sed '/^.*\/\([^/][^/]*\)\/*$/{ s//\1/; q; }
-  	  /^X\/\(\/\/\)$/{ s//\1/; q; }
-  	  /^X\/\(\/\).*/{ s//\1/; q; }
+    sed '/^.*\/\([^/][^/]*\)\/*$/{
+	    s//\1/
+	    q
+	  }
+	  /^X\/\(\/\/\)$/{
+	    s//\1/
+	    q
+	  }
+	  /^X\/\(\/\).*/{
+	    s//\1/
+	    q
+	  }
   	  s/.*/./; q'`
 
+# CDPATH.
+$as_unset CDPATH
 
-# PATH needs CR, and LINENO needs CR and PATH.
-# Avoid depending upon Character Ranges.
-as_cr_letters='abcdefghijklmnopqrstuvwxyz'
-as_cr_LETTERS='ABCDEFGHIJKLMNOPQRSTUVWXYZ'
-as_cr_Letters=$as_cr_letters$as_cr_LETTERS
-as_cr_digits='0123456789'
-as_cr_alnum=$as_cr_Letters$as_cr_digits
+$as_unset ZSH_VERSION || test "${ZSH_VERSION+set}" != set || { ZSH_VERSION=; export ZSH_VERSION; }
 
-# The user is always right.
-if test "${PATH_SEPARATOR+set}" != set; then
-  echo "#! /bin/sh" >conf$$.sh
-  echo  "exit 0"   >>conf$$.sh
-  chmod +x conf$$.sh
-  if (PATH="/nonexistent;."; conf$$.sh) >/dev/null 2>&1; then
-    PATH_SEPARATOR=';'
+if test "x$CONFIG_SHELL" = x; then
+  if (eval "test -z \"\${ZSH_VERSION+set}\" || exit \$?; :") 2>/dev/null; then
+  as_have_required=yes
   else
-    PATH_SEPARATOR=:
+  as_have_required=no
   fi
-  rm -f conf$$.sh
+
+  if test $as_have_required = yes && 	 (eval "test -z \"\${ZSH_VERSION+set}\" || exit \$?; :
+(as_func_return () {
+  (exit \$1)
+}
+as_func_success () {
+  as_func_return 0
+}
+as_func_failure () {
+  as_func_return 1
+}
+as_func_ret_success () {
+  return 0
+}
+as_func_ret_failure () {
+  return 1
+}
+
+exitcode=0
+if as_func_success; then
+  :
+else
+  exitcode=1
+  echo as_func_success failed.
 fi
 
+if as_func_failure; then
+  exitcode=1
+  echo as_func_failure succeeded.
+fi
 
-  as_lineno_1=$LINENO
-  as_lineno_2=$LINENO
-  as_lineno_3=`(expr $as_lineno_1 + 1) 2>/dev/null`
-  test "x$as_lineno_1" != "x$as_lineno_2" &&
-  test "x$as_lineno_3"  = "x$as_lineno_2"  || {
-  # Find who we are.  Look in the path if we contain no path at all
-  # relative or not.
-  case $0 in
-    *[\\/]* ) as_myself=$0 ;;
-    *) as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
-for as_dir in $PATH
-do
-  IFS=$as_save_IFS
-  test -z "$as_dir" && as_dir=.
-  test -r "$as_dir/$0" && as_myself=$as_dir/$0 && break
-done
+if as_func_ret_success; then
+  :
+else
+  exitcode=1
+  echo as_func_ret_success failed.
+fi
 
-       ;;
-  esac
-  # We did not find ourselves, most probably we were run as `sh COMMAND'
-  # in which case we are not to be found in the path.
-  if test "x$as_myself" = x; then
-    as_myself=$0
+if as_func_ret_failure; then
+  exitcode=1
+  echo as_func_ret_failure succeeded.
   fi
-  if test ! -f "$as_myself"; then
-    { echo "$as_me: error: cannot find myself; rerun with an absolute path" >&2
-   { (exit 1); exit 1; }; }
+
+if ( set x; as_func_ret_success y && test x = \"\$1\" ); then
+  :
+else
+  exitcode=1
+  echo positional parameters were not saved.
   fi
-  case $CONFIG_SHELL in
-  '')
-    $as_unset ZSH_VERSION || test "${ZSH_VERSION+set}" != set || { ZSH_VERSION=; export ZSH_VERSION; }
-    for as_base in sh ksh sh5 bash; do
+
+test \$exitcode = 0) || { (exit 1); exit 1; }
+
+(
+  as_lineno_1=\$LINENO
+  as_lineno_2=\$LINENO
+  test \"x\$as_lineno_1\" != \"x\$as_lineno_2\" &&
+  test \"x\`expr \$as_lineno_1 + 1\`\" = \"x\$as_lineno_2\") || { (exit 1); exit 1; }
+") 2> /dev/null; then
+  :
+else
+  as_candidate_shells=
       as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
-for as_dir in /bin$PATH_SEPARATOR/usr/bin$PATH_SEPARATOR$PATH
+for as_dir in /usr/bin/posix$PATH_SEPARATOR/bin$PATH_SEPARATOR/usr/bin$PATH_SEPARATOR$PATH
 do
   IFS=$as_save_IFS
   test -z "$as_dir" && as_dir=.
   case $as_dir in
          /*)
-           if ("$as_dir/$as_base" -c \
-                 'test -z "$ZSH_VERSION" && {
+	   for as_base in sh ksh sh5 bash; do
+	     as_candidate_shells="$as_candidate_shells $as_dir/$as_base"
+	   done;;
+       esac
+done
+IFS=$as_save_IFS
+
+
+      for as_shell in $as_candidate_shells $SHELL; do
+	 # Try only shells that exist, to save several forks.
+	 if { test -f "$as_shell" || test -f "$as_shell.exe"; } &&
+		{ ("$as_shell") 2> /dev/null <<\_ASEOF
+# Be Bourne compatible
+if test -n "${ZSH_VERSION+set}" && (emulate sh) >/dev/null 2>&1; then
+  emulate sh
+  NULLCMD=:
+  # Zsh 3.x and 4.x performs word splitting on ${1+"$@"}, which
+  # is contrary to our usage.  Disable this feature.
+  alias -g '${1+"$@"}'='"$@"'
+  setopt NO_GLOB_SUBST
+else
+  case `(set -o) 2>/dev/null` in *posix*) set -o posix;; esac
+fi
+BIN_SH=xpg4; export BIN_SH # for Tru64
+DUALCASE=1; export DUALCASE # for MKS sh
+
+test -z "${ZSH_VERSION+set}" || exit $?; :
+_ASEOF
+}; then
+  CONFIG_SHELL=$as_shell
+	       as_have_required=yes
+	       if { "$as_shell" 2> /dev/null <<\_ASEOF
+# Be Bourne compatible
+if test -n "${ZSH_VERSION+set}" && (emulate sh) >/dev/null 2>&1; then
+  emulate sh
+  NULLCMD=:
+  # Zsh 3.x and 4.x performs word splitting on ${1+"$@"}, which
+  # is contrary to our usage.  Disable this feature.
+  alias -g '${1+"$@"}'='"$@"'
+  setopt NO_GLOB_SUBST
+else
+  case `(set -o) 2>/dev/null` in *posix*) set -o posix;; esac
+fi
+BIN_SH=xpg4; export BIN_SH # for Tru64
+DUALCASE=1; export DUALCASE # for MKS sh
+
+test -z "${ZSH_VERSION+set}" || exit $?; :
+(as_func_return () {
+  (exit $1)
+}
+as_func_success () {
+  as_func_return 0
+}
+as_func_failure () {
+  as_func_return 1
+}
+as_func_ret_success () {
+  return 0
+}
+as_func_ret_failure () {
+  return 1
+}
+
+exitcode=0
+if as_func_success; then
+  :
+else
+  exitcode=1
+  echo as_func_success failed.
+fi
+
+if as_func_failure; then
+  exitcode=1
+  echo as_func_failure succeeded.
+fi
+
+if as_func_ret_success; then
+  :
+else
+  exitcode=1
+  echo as_func_ret_success failed.
+fi
+
+if as_func_ret_failure; then
+  exitcode=1
+  echo as_func_ret_failure succeeded.
+fi
+
+if ( set x; as_func_ret_success y && test x = "$1" ); then
+  :
+else
+  exitcode=1
+  echo positional parameters were not saved.
+fi
+
+test $exitcode = 0) || { (exit 1); exit 1; }
+
+(
   as_lineno_1=$LINENO
   as_lineno_2=$LINENO
-  as_lineno_3=`(expr $as_lineno_1 + 1) 2>/dev/null`
   test "x$as_lineno_1" != "x$as_lineno_2" &&
-  test "x$as_lineno_3"  = "x$as_lineno_2" ; }') 2>/dev/null
-           then
-             $as_unset BASH_ENV || test "${BASH_ENV+set}" != set || { BASH_ENV=; export BASH_ENV; }
-             $as_unset ENV || test "${ENV+set}" != set || { ENV=; export ENV; }
-             CONFIG_SHELL=$as_dir/$as_base
-             export CONFIG_SHELL
-             exec "$CONFIG_SHELL" "$0" ${1+"$@"}
-           fi;;
-         esac
+  test "x`expr $as_lineno_1 + 1`" = "x$as_lineno_2") || { (exit 1); exit 1; }
+
+_ASEOF
+}; then
+  break
+fi
+
+fi
+
        done
+
+      if test "x$CONFIG_SHELL" != x; then
+  for as_var in BASH_ENV ENV
+        do ($as_unset $as_var) >/dev/null 2>&1 && $as_unset $as_var
 done
-;;
-  esac
+        export CONFIG_SHELL
+        exec "$CONFIG_SHELL" "$as_myself" ${1+"$@"}
+fi
+
+
+    if test $as_have_required = no; then
+  echo This script requires a shell more modern than all the
+      echo shells that I found on your system.  Please install a
+      echo modern shell, or manually run the script under such a
+      echo shell if you do have one.
+      { (exit 1); exit 1; }
+fi
+
+
+fi
+
+fi
+
+# Support unset when possible.
+if ( (MAIL=60; unset MAIL) || exit) >/dev/null 2>&1; then
+  as_unset=unset
+else
+  as_unset=false
+fi
+
+
+
+(eval "test -z \"\${ZSH_VERSION+set}\" || exit \$?; as_func_return () {
+  (exit \$1)
+}
+as_func_success () {
+  as_func_return 0
+}
+as_func_failure () {
+  as_func_return 1
+}
+as_func_ret_success () {
+  return 0
+}
+as_func_ret_failure () {
+  return 1
+}
+
+exitcode=0
+if as_func_success; then
+  :
+else
+  exitcode=1
+  echo as_func_success failed.
+fi
+
+if as_func_failure; then
+  exitcode=1
+  echo as_func_failure succeeded.
+fi
+
+if as_func_ret_success; then
+  :
+else
+  exitcode=1
+  echo as_func_ret_success failed.
+fi
+
+if as_func_ret_failure; then
+  exitcode=1
+  echo as_func_ret_failure succeeded.
+fi
+
+if ( set x; as_func_ret_success y && test x = \"\$1\" ); then
+  :
+else
+  exitcode=1
+  echo positional parameters were not saved.
+fi
+
+test \$exitcode = 0") || {
+  echo No shell found that supports shell functions.
+  echo Please tell autoconf@gnu.org about your system,
+  echo including any error possibly output before this
+  echo message
+}
+
+
+
+  as_lineno_1=$LINENO
+  as_lineno_2=$LINENO
+  test "x$as_lineno_1" != "x$as_lineno_2" &&
+  test "x`expr $as_lineno_1 + 1`" = "x$as_lineno_2" || {
 
   # Create $as_me.lineno as a copy of $as_myself, but with $LINENO
   # uniformly replaced by the line number.  The first 'sed' inserts a
-  # line-number line before each line; the second 'sed' does the real
-  # work.  The second script uses 'N' to pair each line-number line
-  # with the numbered line, and appends trailing '-' during
-  # substitution so that $LINENO is not a special case at line end.
+  # line-number line after each line using $LINENO; the second 'sed'
+  # does the real work.  The second script uses 'N' to pair each
+  # line-number line with the line containing $LINENO, and appends
+  # trailing '-' during substitution so that $LINENO is not a special
+  # case at line end.
   # (Raja R Harinath suggested sed '=', and Paul Eggert wrote the
-  # second 'sed' script.  Blame Lee E. McMahon for sed's syntax.  :-)
-  sed '=' <$as_myself |
+  # scripts with optimization help from Paolo Bonzini.  Blame Lee
+  # E. McMahon (1931-1989) for sed's syntax.  :-)
+  sed -n '
+    p
+    /[$]LINENO/=
+  ' <$as_myself |
     sed '
+      s/[$]LINENO.*/&-/
+      t lineno
+      b
+      :lineno
       N
-      s,$,-,
       : loop
-      s,^\(['$as_cr_digits']*\)\(.*\)[$]LINENO\([^'$as_cr_alnum'_]\),\1\2\1\3,
+      s/[$]LINENO\([^'$as_cr_alnum'_].*\n\)\(.*\)/\2\1\2/
       t loop
-      s,-$,,
-      s,^['$as_cr_digits']*\n,,
+      s/-\n.*//
     ' >$as_me.lineno &&
-  chmod +x $as_me.lineno ||
+  chmod +x "$as_me.lineno" ||
     { echo "$as_me: error: cannot create $as_me.lineno; rerun with a POSIX shell" >&2
    { (exit 1); exit 1; }; }
 
   # Don't try to exec as it changes $[0], causing all sort of problems
   # (the dirname of $[0] is not the place where we might find the
-  # original and so on.  Autoconf is especially sensible to this).
-  . ./$as_me.lineno
+  # original and so on.  Autoconf is especially sensitive to this).
+  . "./$as_me.lineno"
   # Exit status is that of the last command.
   exit
 }
 
 
-case `echo "testing\c"; echo 1,2,3`,`echo -n testing; echo 1,2,3` in
-  *c*,-n*) ECHO_N= ECHO_C='
-' ECHO_T='	' ;;
-  *c*,*  ) ECHO_N=-n ECHO_C= ECHO_T= ;;
-  *)       ECHO_N= ECHO_C='\c' ECHO_T= ;;
+if (as_dir=`dirname -- /` && test "X$as_dir" = X/) >/dev/null 2>&1; then
+  as_dirname=dirname
+else
+  as_dirname=false
+fi
+
+ECHO_C= ECHO_N= ECHO_T=
+case `echo -n x` in
+-n*)
+  case `echo 'x\c'` in
+  *c*) ECHO_T='	';;	# ECHO_T is single tab character.
+  *)   ECHO_C='\c';;
+  esac;;
+*)
+  ECHO_N='-n';;
 esac
 
-if expr a : '\(a\)' >/dev/null 2>&1; then
+if expr a : '\(a\)' >/dev/null 2>&1 &&
+   test "X`expr 00001 : '.*\(...\)'`" = X001; then
   as_expr=expr
 else
   as_expr=false
 fi
 
 rm -f conf$$ conf$$.exe conf$$.file
+if test -d conf$$.dir; then
+  rm -f conf$$.dir/conf$$.file
+else
+  rm -f conf$$.dir
+  mkdir conf$$.dir
+fi
 echo >conf$$.file
 if ln -s conf$$.file conf$$ 2>/dev/null; then
-  # We could just check for DJGPP; but this test a) works b) is more generic
-  # and c) will remain valid once DJGPP supports symlinks (DJGPP 2.04).
-  if test -f conf$$.exe; then
-    # Don't use ln at all; we don't have any links
-    as_ln_s='cp -p'
-  else
     as_ln_s='ln -s'
-  fi
+  # ... but there are two gotchas:
+  # 1) On MSYS, both `ln -s file dir' and `ln file dir' fail.
+  # 2) DJGPP < 2.04 has no symlinks; `ln -s' creates a wrapper executable.
+  # In both cases, we have to default to `cp -p'.
+  ln -s conf$$.file conf$$.dir 2>/dev/null && test ! -f conf$$.exe ||
+    as_ln_s='cp -p'
 elif ln conf$$.file conf$$ 2>/dev/null; then
   as_ln_s=ln
 else
   as_ln_s='cp -p'
 fi
-rm -f conf$$ conf$$.exe conf$$.file
+rm -f conf$$ conf$$.exe conf$$.dir/conf$$.file conf$$.file
+rmdir conf$$.dir 2>/dev/null
 
 if mkdir -p . 2>/dev/null; then
   as_mkdir_p=:
@@ -234,7 +522,19 @@
   as_mkdir_p=false
 fi
 
-as_executable_p="test -f"
+# Find out whether ``test -x'' works.  Don't use a zero-byte file, as
+# systems may use methods other than mode bits to determine executability.
+cat >conf$$.file <<_ASEOF
+#! /bin/sh
+exit 0
+_ASEOF
+chmod +x conf$$.file
+if test -x conf$$.file >/dev/null 2>&1; then
+  as_executable_p="test -x"
+else
+  as_executable_p=:
+fi
+rm -f conf$$.file
 
 # Sed expression to map a string onto a valid CPP name.
 as_tr_cpp="eval sed 'y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g'"
@@ -243,39 +543,27 @@
 as_tr_sh="eval sed 'y%*+%pp%;s%[^_$as_cr_alnum]%_%g'"
 
 
-# IFS
-# We need space, tab and new line, in precisely that order.
-as_nl='
-'
-IFS=" 	$as_nl"
-
-# CDPATH.
-$as_unset CDPATH
 
+exec 7<&0 </dev/null 6>&1
 
 # Name of the host.
 # hostname on some systems (SVR3.2, Linux) returns a bogus exit status,
 # so uname gets run too.
 ac_hostname=`(hostname || uname -n) 2>/dev/null | sed 1q`
 
-exec 6>&1
-
 #
 # Initializations.
 #
 ac_default_prefix=/usr/local
+ac_clean_files=
 ac_config_libobj_dir=.
+LIBOBJS=
 cross_compiling=no
 subdirs=
 MFLAGS=
 MAKEFLAGS=
 SHELL=${CONFIG_SHELL-/bin/sh}
 
-# Maximum number of lines to put in a shell here document.
-# This variable seems obsolete.  It should probably be removed, and
-# only ac_max_sed_lines should be used.
-: ${ac_max_here_lines=38}
-
 # Identity of this package.
 PACKAGE_NAME='ncbi-tools++'
 PACKAGE_TARNAME='ncbi-tools--'
@@ -312,17 +600,441 @@
 #endif
 #if HAVE_INTTYPES_H
 # include <inttypes.h>
-#else
+#endif
 # if HAVE_STDINT_H
 #  include <stdint.h>
 # endif
-#endif
 #if HAVE_UNISTD_H
 # include <unistd.h>
 #endif"
 
-ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS PROJECTS build build_cpu build_vendor build_os host host_cpu host_vendor host_os INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA CC CFLAGS LDFLAGS CPPFLAGS ac_ct_CC EXEEXT OBJEXT CXX CXXFLAGS ac_ct_CXX MT_SFX DLL DLL_LIB_SETTING IF_WITH_DLL UNLESS_WITH_DLL STATIC USUAL_AND_DLL USUAL_AND_LIB LN_S RANLIB ac_ct_RANLIB AR STRIP DISTCC CCACHE TAIL TOUCH EGREP VALGRIND_PATH CXXCPP TCHECK_CL AMQ CPP Z_INCLUDE Z_LIBS BZ2_INCLUDE BZ2_LIBS LZO_INCLUDE LZO_LIBS PCRE_INCLUDE PCRE_LIBS LIBGCRYPT_CONFIG GCRYPT_INCLUDE GCRYPT_LIBS LIBGNUTLS_CONFIG GNUTLS_INCLUDE GNUTLS_LIBS OPENSSL_INCLUDE OPENSSL_LIBS KRB5_CONFIG KRB5_INCLUDE KRB5_LIBS CURL_INCLUDE CURL_LIBS FTDS64_INCLUDE FTDS64_LIBS FTDS64_LIB FTDS64_CTLIB_INCLUDE FTDS64_CTLIB_LIBS FTDS64_CTLIB_LIB FTDS_INCLUDE FTDS_LIBS FTDS_LIB freetds ftds64 mysql_config PYTHON PYTHON_INCLUDE PYTHON_LIBS PYTHON23 PYTHON23_INCLUDE PYTHON23_LIBS PYTHON24 PYTHON24_INCLUDE PYTHON24_LIBS PYTHON25 PYTHON25_INCLUDE PYTHON25_LIBS PERL _ACJNI_JAVAC X_CFLAGS X_PRE_LIBS X_LIBS X_EXTRA_LIBS wxconf EXPAT_INCLUDE EXPAT_LIBS SABLOT_INCLUDE SABLOT_LIBS LIBXML_INCLUDE LIBXML_LIBS LIBXSLT_INCLUDE LIBXSLT_LIBS XSLTPROC LIBEXSLT_INCLUDE LIBEXSLT_LIBS SQLITE3_INCLUDE SQLITE3_LIBS OECHEM_INCLUDE OECHEM_LIBS SGE_INCLUDE SGE_LIBS MUPARSER_INCLUDE MUPARSER_LIBS HDF5_INCLUDE HDF5_LIBS JPEG_INCLUDE JPEG_LIBS PNG_INCLUDE PNG_LIBS TIFF_INCLUDE TIFF_LIBS UNGIF_INCLUDE UNGIF_LIBS GIF_INCLUDE GIF_LIBS XPM_INCLUDE XPM_LIBS freetype_config FTGL_INCLUDE FTGL_LIBS MAGIC_INCLUDE MAGIC_LIBS MIMETIC_INCLUDE MIMETIC_LIBS signature build_root top_srcdir srcdir status_dir builddir runpath ncbi_runpath c_ncbi_runpath LINK C_LINK TAIL_N EGREP_Q FAST_CFLAGS FAST_CXXFLAGS OBJCXX_CXXFLAGS DEPFLAGS DEPFLAGS_POST FAST_LDFLAGS APP_LDFLAGS DLL_LDFLAGS C_LIBS OBJCXX_LIBS GCCPCH RUNPATH_ORIGIN NO_STRICT_ALIASING D_SFX DEBUG_SFX LIB_OR_DLL FORCE_STATIC_LIB APP_LIB_SETTING APP_LIBS_SETTING LINK_DLL has_dll_loadable LINK_LOADABLE CFLAGS_DLL CXXFLAGS_DLL ALLOW_UNDEF FORBID_UNDEF OPT_GROUPS local_lbsm ncbi_crypt CONNEXT XCONNEXT serial bdb dbapi objects gui algo app internal sra check CHECK_ARG CHECK_TOOLS CHECK_TIMEOUT_MULT CHECK_OS_NAME FEATURES script_shell make_shell obj_ext lib_pre lib_l_pre lib_ext dll_ext loadable_ext lib_l_ext exe_ext f_compile f_outobj f_outlib f_libpath f_runpath f_outexe BDB_LIB BDB_CACHE_LIB DBAPI_DRIVER DBAPI_CTLIB DBAPI_DBLIB DBAPI_MYSQL DBAPI_ODBC THREAD_LIBS NCBIATOMIC_LIB NETWORK_LIBS NETWORK_PURE_LIBS RESOLVER_LIBS MATH_LIBS KSTAT_LIBS RPCSVC_LIBS CRYPT_LIBS DL_LIBS RT_LIBS UUID_LIBS DEMANGLE_LIBS ICONV_LIBS Z_LIB BZ2_LIB PCREPOSIX_LIBS PCRE_LIB OPENSSL_STATIC_LIBS TLS_INCLUDE TLS_LIBS SYBASE_PATH SYBASE_LCL_PATH SYBASE_INCLUDE SYBASE_LIBS SYBASE_DLLS SYBASE_DBLIBS MYSQL_INCLUDE MYSQL_LIBS BERKELEYDB_INCLUDE BERKELEYDB_LIBS BERKELEYDB_STATIC_LIBS BERKELEYDB_CXX_LIBS BERKELEYDB_CXX_STATIC_LIBS ODBC_INCLUDE ODBC_LIBS BOOST_INCLUDE BOOST_LIBPATH BOOST_TAG BOOST_REGEX_LIBS BOOST_REGEX_STATIC_LIBS BOOST_SYSTEM_LIBS BOOST_SYSTEM_STATIC_LIBS BOOST_TEST_PEM_LIBS BOOST_TEST_PEM_STATIC_LIBS BOOST_TEST_TEM_LIBS BOOST_TEST_TEM_STATIC_LIBS BOOST_TEST_UTF_LIBS BOOST_TEST_UTF_STATIC_LIBS BOOST_THREAD_LIBS BOOST_THREAD_STATIC_LIBS NCBI_C_INCLUDE NCBI_C_LIBPATH OPENGL_INCLUDE OPENGL_LIBS OPENGL_STATIC_LIBS OSMESA_INCLUDE OSMESA_LIBS OSMESA_STATIC_LIBS GLUT_INCLUDE GLUT_LIBS GLEW_INCLUDE GLEW_LIBS GLEW_STATIC_LIBS WXWIDGETS_INCLUDE WXWIDGETS_LIBS WXWIDGETS_STATIC_LIBS WXWIDGETS_GL_LIBS WXWIDGETS_GL_STATIC_LIBS WXWIDGETS_POST_LINK FASTCGI_INCLUDE FASTCGI_LIBS FASTCGI_OBJS NCBI_SSS_INCLUDE NCBI_SSS_LIBPATH LIBSSSUTILS LIBSSSDB sssutils SP_INCLUDE SP_LIBS ORBACUS_INCLUDE ORBACUS_LIBPATH LIBOB LIBIMR ICU_CONFIG ICU_INCLUDE ICU_LIBS ICU_STATIC_LIBS EXPAT_STATIC_LIBS SABLOT_STATIC_LIBS LIBXML_STATIC_LIBS LIBXSLT_STATIC_LIBS LIBEXSLT_STATIC_LIBS XERCES_INCLUDE XERCES_LIBS XERCES_STATIC_LIBS XALAN_INCLUDE XALAN_LIBS XALAN_STATIC_LIBS ZORBA_INCLUDE ZORBA_LIBS ZORBA_STATIC_LIBS SQLITE3_STATIC_LIBS FREETYPE_INCLUDE FREETYPE_LIBS ncbi_xreader_pubseqos ncbi_xreader_pubseqos2 UNLESS_PUBSEQOS PERL_INCLUDE PERL_LIBS JDK_PATH JDK_INCLUDE ncbi_java NCBI_C_ncbi BINCOPY APP_NOCOPY APP_OR_NULL IF_REBUILDING_LIBS IF_REBUILDING_CONDITIONALLY IF_DEACTIVATING configurables_mfname CC_FILTER CXX_FILTER AR_FILTER LINK_FILTER CC_WRAPPER CXX_WRAPPER AR_WRAPPER LINK_WRAPPER KeepStateTarget Rules serial_ws50_rtti_kludge ncbicntr UNIX_SRC UNIX_USR_PROJ compiler compiler_root compiler_version COMPILER OSTYPE NCBI_PLATFORM_BITS LIBOBJS LTLIBOBJS'
+ac_subst_vars='SHELL
+PATH_SEPARATOR
+PACKAGE_NAME
+PACKAGE_TARNAME
+PACKAGE_VERSION
+PACKAGE_STRING
+PACKAGE_BUGREPORT
+exec_prefix
+prefix
+program_transform_name
+bindir
+sbindir
+libexecdir
+datarootdir
+datadir
+sysconfdir
+sharedstatedir
+localstatedir
+includedir
+oldincludedir
+docdir
+infodir
+htmldir
+dvidir
+pdfdir
+psdir
+libdir
+localedir
+mandir
+DEFS
+ECHO_C
+ECHO_N
+ECHO_T
+LIBS
+build_alias
+host_alias
+target_alias
+PROJECTS
+build
+build_cpu
+build_vendor
+build_os
+host
+host_cpu
+host_vendor
+host_os
+INSTALL_PROGRAM
+INSTALL_SCRIPT
+INSTALL_DATA
+CC
+CFLAGS
+LDFLAGS
+CPPFLAGS
+ac_ct_CC
+EXEEXT
+OBJEXT
+CXX
+CXXFLAGS
+ac_ct_CXX
+MT_SFX
+DLL
+DLL_LIB_SETTING
+IF_WITH_DLL
+UNLESS_WITH_DLL
+STATIC
+USUAL_AND_DLL
+USUAL_AND_LIB
+LN_S
+RANLIB
+AR
+STRIP
+DISTCC
+CCACHE
+TAIL
+TOUCH
+GREP
+EGREP
+VALGRIND_PATH
+LDD
+CXXCPP
+TCHECK_CL
+AMQ
+CPP
+Z_INCLUDE
+Z_LIBS
+BZ2_INCLUDE
+BZ2_LIBS
+LZO_INCLUDE
+LZO_LIBS
+PCRE_INCLUDE
+PCRE_LIBS
+LIBGCRYPT_CONFIG
+GCRYPT_INCLUDE
+GCRYPT_LIBS
+LIBGNUTLS_CONFIG
+GNUTLS_INCLUDE
+GNUTLS_LIBS
+OPENSSL_INCLUDE
+OPENSSL_LIBS
+KRB5_CONFIG
+KRB5_INCLUDE
+KRB5_LIBS
+CURL_INCLUDE
+CURL_LIBS
+FTDS64_INCLUDE
+FTDS64_LIBS
+FTDS64_LIB
+FTDS64_CTLIB_INCLUDE
+FTDS64_CTLIB_LIBS
+FTDS64_CTLIB_LIB
+FTDS_INCLUDE
+FTDS_LIBS
+FTDS_LIB
+freetds
+ftds64
+mysql_config
+PYTHON
+PYTHON_INCLUDE
+PYTHON_LIBS
+PYTHON23
+PYTHON23_INCLUDE
+PYTHON23_LIBS
+PYTHON24
+PYTHON24_INCLUDE
+PYTHON24_LIBS
+PYTHON25
+PYTHON25_INCLUDE
+PYTHON25_LIBS
+PERL
+_ACJNI_JAVAC
+XMKMF
+X_CFLAGS
+X_PRE_LIBS
+X_LIBS
+X_EXTRA_LIBS
+wxconf
+EXPAT_INCLUDE
+EXPAT_LIBS
+SABLOT_INCLUDE
+SABLOT_LIBS
+LIBXML_INCLUDE
+LIBXML_LIBS
+LIBXSLT_INCLUDE
+LIBXSLT_LIBS
+XSLTPROC
+LIBEXSLT_INCLUDE
+LIBEXSLT_LIBS
+SQLITE3_INCLUDE
+SQLITE3_LIBS
+OECHEM_INCLUDE
+OECHEM_LIBS
+SGE_INCLUDE
+SGE_LIBS
+MUPARSER_INCLUDE
+MUPARSER_LIBS
+HDF5_INCLUDE
+HDF5_LIBS
+JPEG_INCLUDE
+JPEG_LIBS
+PNG_INCLUDE
+PNG_LIBS
+TIFF_INCLUDE
+TIFF_LIBS
+UNGIF_INCLUDE
+UNGIF_LIBS
+GIF_INCLUDE
+GIF_LIBS
+XPM_INCLUDE
+XPM_LIBS
+freetype_config
+FTGL_INCLUDE
+FTGL_LIBS
+MAGIC_INCLUDE
+MAGIC_LIBS
+MIMETIC_INCLUDE
+MIMETIC_LIBS
+GSOAP_SOAPCPP2
+GSOAP_WSDL2H
+GSOAP_INCLUDE
+GSOAP_LIBS
+MONGODB_INCLUDE
+MONGODB_LIBS
+signature
+build_root
+top_srcdir
+srcdir
+status_dir
+builddir
+runpath
+ncbi_runpath
+c_ncbi_runpath
+LINK
+C_LINK
+TAIL_N
+EGREP_Q
+LDD_R
+FAST_CFLAGS
+FAST_CXXFLAGS
+OBJCXX_CXXFLAGS
+DEPFLAGS
+DEPFLAGS_POST
+FAST_LDFLAGS
+APP_LDFLAGS
+DLL_LDFLAGS
+C_LIBS
+OBJCXX_LIBS
+GCCPCH
+RUNPATH_ORIGIN
+NO_STRICT_ALIASING
+D_SFX
+DEBUG_SFX
+LIB_OR_DLL
+FORCE_STATIC_LIB
+APP_LIB_SETTING
+APP_LIBS_SETTING
+LINK_DLL
+has_dll_loadable
+LINK_LOADABLE
+CFLAGS_DLL
+CXXFLAGS_DLL
+ALLOW_UNDEF
+FORBID_UNDEF
+OPT_GROUPS
+local_lbsm
+ncbi_crypt
+CONNEXT
+XCONNEXT
+serial
+bdb
+dbapi
+objects
+gui
+algo
+app
+internal
+check
+CHECK_ARG
+CHECK_TOOLS
+CHECK_TIMEOUT_MULT
+CHECK_OS_NAME
+FEATURES
+script_shell
+make_shell
+obj_ext
+lib_pre
+lib_l_pre
+lib_ext
+dll_ext
+loadable_ext
+lib_l_ext
+exe_ext
+f_compile
+f_outobj
+f_outlib
+f_libpath
+f_runpath
+f_outexe
+BDB_LIB
+BDB_CACHE_LIB
+DBAPI_DRIVER
+DBAPI_CTLIB
+DBAPI_DBLIB
+DBAPI_MYSQL
+DBAPI_ODBC
+THREAD_LIBS
+NCBIATOMIC_LIB
+OPENMP_FLAGS
+NETWORK_LIBS
+NETWORK_PURE_LIBS
+RESOLVER_LIBS
+MATH_LIBS
+KSTAT_LIBS
+RPCSVC_LIBS
+CRYPT_LIBS
+DL_LIBS
+RT_LIBS
+UUID_LIBS
+DEMANGLE_LIBS
+ICONV_LIBS
+Z_LIB
+BZ2_LIB
+PCREPOSIX_LIBS
+PCRE_LIB
+OPENSSL_STATIC_LIBS
+TLS_INCLUDE
+TLS_LIBS
+SYBASE_PATH
+SYBASE_LCL_PATH
+SYBASE_INCLUDE
+SYBASE_LIBS
+SYBASE_DLLS
+SYBASE_DBLIBS
+MYSQL_INCLUDE
+MYSQL_LIBS
+BERKELEYDB_INCLUDE
+BERKELEYDB_LIBS
+BERKELEYDB_STATIC_LIBS
+BERKELEYDB_CXX_LIBS
+BERKELEYDB_CXX_STATIC_LIBS
+ODBC_INCLUDE
+ODBC_LIBS
+BOOST_INCLUDE
+BOOST_LIBPATH
+BOOST_TAG
+BOOST_FILESYSTEM_LIBS
+BOOST_FILESYSTEM_STATIC_LIBS
+BOOST_REGEX_LIBS
+BOOST_REGEX_STATIC_LIBS
+BOOST_SYSTEM_LIBS
+BOOST_SYSTEM_STATIC_LIBS
+BOOST_TEST_PEM_LIBS
+BOOST_TEST_PEM_STATIC_LIBS
+BOOST_TEST_TEM_LIBS
+BOOST_TEST_TEM_STATIC_LIBS
+BOOST_TEST_UTF_LIBS
+BOOST_TEST_UTF_STATIC_LIBS
+BOOST_THREAD_LIBS
+BOOST_THREAD_STATIC_LIBS
+NCBI_C_INCLUDE
+NCBI_C_LIBPATH
+OPENGL_INCLUDE
+OPENGL_LIBS
+OPENGL_STATIC_LIBS
+OSMESA_INCLUDE
+OSMESA_LIBS
+OSMESA_STATIC_LIBS
+GLUT_INCLUDE
+GLUT_LIBS
+GLEW_INCLUDE
+GLEW_LIBS
+GLEW_STATIC_LIBS
+WXWIDGETS_INCLUDE
+WXWIDGETS_LIBS
+WXWIDGETS_STATIC_LIBS
+WXWIDGETS_GL_LIBS
+WXWIDGETS_GL_STATIC_LIBS
+WXWIDGETS_POST_LINK
+FASTCGI_INCLUDE
+FASTCGI_LIBS
+FASTCGI_OBJS
+NCBI_SSS_INCLUDE
+NCBI_SSS_LIBPATH
+LIBSSSUTILS
+LIBSSSDB
+sssutils
+SP_INCLUDE
+SP_LIBS
+ORBACUS_INCLUDE
+ORBACUS_LIBPATH
+LIBOB
+LIBIMR
+ICU_CONFIG
+ICU_INCLUDE
+ICU_LIBS
+ICU_STATIC_LIBS
+EXPAT_STATIC_LIBS
+SABLOT_STATIC_LIBS
+LIBXML_STATIC_LIBS
+LIBXSLT_STATIC_LIBS
+LIBEXSLT_STATIC_LIBS
+XERCES_INCLUDE
+XERCES_LIBS
+XERCES_STATIC_LIBS
+XALAN_INCLUDE
+XALAN_LIBS
+XALAN_STATIC_LIBS
+ZORBA_INCLUDE
+ZORBA_LIBS
+ZORBA_STATIC_LIBS
+SQLITE3_STATIC_LIBS
+FREETYPE_INCLUDE
+FREETYPE_LIBS
+GSOAP_PATH
+MONGODB_STATIC_LIBS
+ncbi_xreader_pubseqos
+ncbi_xreader_pubseqos2
+UNLESS_PUBSEQOS
+PERL_INCLUDE
+PERL_LIBS
+JDK_PATH
+JDK_INCLUDE
+ncbi_java
+NCBI_C_ncbi
+BINCOPY
+APP_NOCOPY
+APP_OR_NULL
+IF_REBUILDING_LIBS
+IF_REBUILDING_CONDITIONALLY
+IF_DEACTIVATING
+configurables_mfname
+CC_FILTER
+CXX_FILTER
+AR_FILTER
+LINK_FILTER
+CC_WRAPPER
+CXX_WRAPPER
+AR_WRAPPER
+LINK_WRAPPER
+KeepStateTarget
+Rules
+serial_ws50_rtti_kludge
+ncbicntr
+UNIX_SRC
+UNIX_USR_PROJ
+compiler
+compiler_root
+compiler_version
+COMPILER
+OSTYPE
+NCBI_PLATFORM_BITS
+LIBOBJS
+LTLIBOBJS'
 ac_subst_files=''
+      ac_precious_vars='build_alias
+host_alias
+target_alias
+CC
+CFLAGS
+LDFLAGS
+CPPFLAGS
+CXX
+CXXFLAGS
+CCC
+CXXCPP
+CPP
+XMKMF'
+
 
 # Initialize some variables set by options.
 ac_init_help=
@@ -349,34 +1061,48 @@
 # and all the variables that are supposed to be based on exec_prefix
 # by default will actually change.
 # Use braces instead of parens because sh, perl, etc. also accept them.
+# (The list follows the same order as the GNU Coding Standards.)
 bindir='${exec_prefix}/bin'
 sbindir='${exec_prefix}/sbin'
 libexecdir='${exec_prefix}/libexec'
-datadir='${prefix}/share'
+datarootdir='${prefix}/share'
+datadir='${datarootdir}'
 sysconfdir='${prefix}/etc'
 sharedstatedir='${prefix}/com'
 localstatedir='${prefix}/var'
-libdir='${exec_prefix}/lib'
 includedir='${prefix}/include'
 oldincludedir='/usr/include'
-infodir='${prefix}/info'
-mandir='${prefix}/man'
+docdir='${datarootdir}/doc/${PACKAGE_TARNAME}'
+infodir='${datarootdir}/info'
+htmldir='${docdir}'
+dvidir='${docdir}'
+pdfdir='${docdir}'
+psdir='${docdir}'
+libdir='${exec_prefix}/lib'
+localedir='${datarootdir}/locale'
+mandir='${datarootdir}/man'
 
 ac_prev=
+ac_dashdash=
 for ac_option
 do
   # If the previous option needs an argument, assign it.
   if test -n "$ac_prev"; then
-    eval "$ac_prev=\$ac_option"
+    eval $ac_prev=\$ac_option
     ac_prev=
     continue
   fi
 
-  ac_optarg=`expr "x$ac_option" : 'x[^=]*=\(.*\)'`
+  case $ac_option in
+  *=*)	ac_optarg=`expr "X$ac_option" : '[^=]*=\(.*\)'` ;;
+  *)	ac_optarg=yes ;;
+  esac
 
   # Accept the important Cygnus configure options, so we can diagnose typos.
 
-  case $ac_option in
+  case $ac_dashdash$ac_option in
+  --)
+    ac_dashdash=yes ;;
 
   -bindir | --bindir | --bindi | --bind | --bin | --bi)
     ac_prev=bindir ;;
@@ -398,12 +1124,18 @@
   --config-cache | -C)
     cache_file=config.cache ;;
 
-  -datadir | --datadir | --datadi | --datad | --data | --dat | --da)
+  -datadir | --datadir | --datadi | --datad)
     ac_prev=datadir ;;
-  -datadir=* | --datadir=* | --datadi=* | --datad=* | --data=* | --dat=* \
-  | --da=*)
+  -datadir=* | --datadir=* | --datadi=* | --datad=*)
     datadir=$ac_optarg ;;
 
+  -datarootdir | --datarootdir | --datarootdi | --datarootd | --dataroot \
+  | --dataroo | --dataro | --datar)
+    ac_prev=datarootdir ;;
+  -datarootdir=* | --datarootdir=* | --datarootdi=* | --datarootd=* \
+  | --dataroot=* | --dataroo=* | --dataro=* | --datar=*)
+    datarootdir=$ac_optarg ;;
+
   -disable-* | --disable-*)
     ac_feature=`expr "x$ac_option" : 'x-*disable-\(.*\)'`
     # Reject names that are not valid shell variable names.
@@ -411,7 +1143,17 @@
       { echo "$as_me: error: invalid feature name: $ac_feature" >&2
    { (exit 1); exit 1; }; }
     ac_feature=`echo $ac_feature | sed 's/-/_/g'`
-    eval "enable_$ac_feature=no" ;;
+    eval enable_$ac_feature=no ;;
+
+  -docdir | --docdir | --docdi | --doc | --do)
+    ac_prev=docdir ;;
+  -docdir=* | --docdir=* | --docdi=* | --doc=* | --do=*)
+    docdir=$ac_optarg ;;
+
+  -dvidir | --dvidir | --dvidi | --dvid | --dvi | --dv)
+    ac_prev=dvidir ;;
+  -dvidir=* | --dvidir=* | --dvidi=* | --dvid=* | --dvi=* | --dv=*)
+    dvidir=$ac_optarg ;;
 
   -enable-* | --enable-*)
     ac_feature=`expr "x$ac_option" : 'x-*enable-\([^=]*\)'`
@@ -420,11 +1162,7 @@
       { echo "$as_me: error: invalid feature name: $ac_feature" >&2
    { (exit 1); exit 1; }; }
     ac_feature=`echo $ac_feature | sed 's/-/_/g'`
-    case $ac_option in
-      *=*) ac_optarg=`echo "$ac_optarg" | sed "s/'/'\\\\\\\\''/g"`;;
-      *) ac_optarg=yes ;;
-    esac
-    eval "enable_$ac_feature='$ac_optarg'" ;;
+    eval enable_$ac_feature=\$ac_optarg ;;
 
   -exec-prefix | --exec_prefix | --exec-prefix | --exec-prefi \
   | --exec-pref | --exec-pre | --exec-pr | --exec-p | --exec- \
@@ -451,6 +1189,12 @@
   -host=* | --host=* | --hos=* | --ho=*)
     host_alias=$ac_optarg ;;
 
+  -htmldir | --htmldir | --htmldi | --htmld | --html | --htm | --ht)
+    ac_prev=htmldir ;;
+  -htmldir=* | --htmldir=* | --htmldi=* | --htmld=* | --html=* | --htm=* \
+  | --ht=*)
+    htmldir=$ac_optarg ;;
+
   -includedir | --includedir | --includedi | --included | --include \
   | --includ | --inclu | --incl | --inc)
     ac_prev=includedir ;;
@@ -475,13 +1219,16 @@
   | --libexe=* | --libex=* | --libe=*)
     libexecdir=$ac_optarg ;;
 
+  -localedir | --localedir | --localedi | --localed | --locale)
+    ac_prev=localedir ;;
+  -localedir=* | --localedir=* | --localedi=* | --localed=* | --locale=*)
+    localedir=$ac_optarg ;;
+
   -localstatedir | --localstatedir | --localstatedi | --localstated \
-  | --localstate | --localstat | --localsta | --localst \
-  | --locals | --local | --loca | --loc | --lo)
+  | --localstate | --localstat | --localsta | --localst | --locals)
     ac_prev=localstatedir ;;
   -localstatedir=* | --localstatedir=* | --localstatedi=* | --localstated=* \
-  | --localstate=* | --localstat=* | --localsta=* | --localst=* \
-  | --locals=* | --local=* | --loca=* | --loc=* | --lo=*)
+  | --localstate=* | --localstat=* | --localsta=* | --localst=* | --locals=*)
     localstatedir=$ac_optarg ;;
 
   -mandir | --mandir | --mandi | --mand | --man | --ma | --m)
@@ -546,6 +1293,16 @@
   | --progr-tra=* | --program-tr=* | --program-t=*)
     program_transform_name=$ac_optarg ;;
 
+  -pdfdir | --pdfdir | --pdfdi | --pdfd | --pdf | --pd)
+    ac_prev=pdfdir ;;
+  -pdfdir=* | --pdfdir=* | --pdfdi=* | --pdfd=* | --pdf=* | --pd=*)
+    pdfdir=$ac_optarg ;;
+
+  -psdir | --psdir | --psdi | --psd | --ps)
+    ac_prev=psdir ;;
+  -psdir=* | --psdir=* | --psdi=* | --psd=* | --ps=*)
+    psdir=$ac_optarg ;;
+
   -q | -quiet | --quiet | --quie | --qui | --qu | --q \
   | -silent | --silent | --silen | --sile | --sil)
     silent=yes ;;
@@ -602,11 +1359,7 @@
       { echo "$as_me: error: invalid package name: $ac_package" >&2
    { (exit 1); exit 1; }; }
     ac_package=`echo $ac_package| sed 's/-/_/g'`
-    case $ac_option in
-      *=*) ac_optarg=`echo "$ac_optarg" | sed "s/'/'\\\\\\\\''/g"`;;
-      *) ac_optarg=yes ;;
-    esac
-    eval "with_$ac_package='$ac_optarg'" ;;
+    eval with_$ac_package=\$ac_optarg ;;
 
   -without-* | --without-*)
     ac_package=`expr "x$ac_option" : 'x-*without-\(.*\)'`
@@ -615,7 +1368,7 @@
       { echo "$as_me: error: invalid package name: $ac_package" >&2
    { (exit 1); exit 1; }; }
     ac_package=`echo $ac_package | sed 's/-/_/g'`
-    eval "with_$ac_package=no" ;;
+    eval with_$ac_package=no ;;
 
   --x)
     # Obsolete; use --with-x.
@@ -646,8 +1399,7 @@
     expr "x$ac_envvar" : ".*[^_$as_cr_alnum]" >/dev/null &&
       { echo "$as_me: error: invalid variable name: $ac_envvar" >&2
    { (exit 1); exit 1; }; }
-    ac_optarg=`echo "$ac_optarg" | sed "s/'/'\\\\\\\\''/g"`
-    eval "$ac_envvar='$ac_optarg'"
+    eval $ac_envvar=\$ac_optarg
     export $ac_envvar ;;
 
   *)
@@ -667,27 +1419,19 @@
    { (exit 1); exit 1; }; }
 fi
 
-# Be sure to have absolute paths.
-for ac_var in exec_prefix prefix
-do
-  eval ac_val=$`echo $ac_var`
-  case $ac_val in
-    [\\/$]* | ?:[\\/]* | NONE | '' ) ;;
-    *)  { echo "$as_me: error: expected an absolute directory name for --$ac_var: $ac_val" >&2
-   { (exit 1); exit 1; }; };;
-  esac
-done
-
-# Be sure to have absolute paths.
-for ac_var in bindir sbindir libexecdir datadir sysconfdir sharedstatedir \
-	      localstatedir libdir includedir oldincludedir infodir mandir
+# Be sure to have absolute directory names.
+for ac_var in	exec_prefix prefix bindir sbindir libexecdir datarootdir \
+		datadir sysconfdir sharedstatedir localstatedir includedir \
+		oldincludedir docdir infodir htmldir dvidir pdfdir psdir \
+		libdir localedir mandir
 do
-  eval ac_val=$`echo $ac_var`
+  eval ac_val=\$$ac_var
   case $ac_val in
-    [\\/$]* | ?:[\\/]* ) ;;
-    *)  { echo "$as_me: error: expected an absolute directory name for --$ac_var: $ac_val" >&2
-   { (exit 1); exit 1; }; };;
+    [\\/$]* | ?:[\\/]* )  continue;;
+    NONE | '' ) case $ac_var in *prefix ) continue;; esac;;
   esac
+  { echo "$as_me: error: expected an absolute directory name for --$ac_var: $ac_val" >&2
+   { (exit 1); exit 1; }; }
 done
 
 # There might be people who depend on the old broken behavior: `$host'
@@ -714,86 +1458,158 @@
 test "$silent" = yes && exec 6>/dev/null
 
 
+ac_pwd=`pwd` && test -n "$ac_pwd" &&
+ac_ls_di=`ls -di .` &&
+ac_pwd_ls_di=`cd "$ac_pwd" && ls -di .` ||
+  { echo "$as_me: error: Working directory cannot be determined" >&2
+   { (exit 1); exit 1; }; }
+test "X$ac_ls_di" = "X$ac_pwd_ls_di" ||
+  { echo "$as_me: error: pwd does not report name of working directory" >&2
+   { (exit 1); exit 1; }; }
+
+
 # Find the source files, if location was not specified.
 if test -z "$srcdir"; then
   ac_srcdir_defaulted=yes
-  # Try the directory containing this script, then its parent.
-  ac_confdir=`(dirname "$0") 2>/dev/null ||
+  # Try the directory containing this script, then the parent directory.
+  ac_confdir=`$as_dirname -- "$0" ||
 $as_expr X"$0" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
 	 X"$0" : 'X\(//\)[^/]' \| \
 	 X"$0" : 'X\(//\)$' \| \
-	 X"$0" : 'X\(/\)' \| \
-	 .     : '\(.\)' 2>/dev/null ||
+	 X"$0" : 'X\(/\)' \| . 2>/dev/null ||
 echo X"$0" |
-    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
-  	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
-  	  /^X\(\/\/\)$/{ s//\1/; q; }
-  	  /^X\(\/\).*/{ s//\1/; q; }
+    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{
+	    s//\1/
+	    q
+	  }
+	  /^X\(\/\/\)[^/].*/{
+	    s//\1/
+	    q
+	  }
+	  /^X\(\/\/\)$/{
+	    s//\1/
+	    q
+	  }
+	  /^X\(\/\).*/{
+	    s//\1/
+	    q
+	  }
   	  s/.*/./; q'`
   srcdir=$ac_confdir
-  if test ! -r $srcdir/$ac_unique_file; then
+  if test ! -r "$srcdir/$ac_unique_file"; then
     srcdir=..
   fi
 else
   ac_srcdir_defaulted=no
 fi
-if test ! -r $srcdir/$ac_unique_file; then
-  if test "$ac_srcdir_defaulted" = yes; then
-    { echo "$as_me: error: cannot find sources ($ac_unique_file) in $ac_confdir or .." >&2
-   { (exit 1); exit 1; }; }
-  else
+if test ! -r "$srcdir/$ac_unique_file"; then
+  test "$ac_srcdir_defaulted" = yes && srcdir="$ac_confdir or .."
     { echo "$as_me: error: cannot find sources ($ac_unique_file) in $srcdir" >&2
    { (exit 1); exit 1; }; }
   fi
+ac_msg="sources are in $srcdir, but \`cd $srcdir' does not work"
+ac_abs_confdir=`(
+	cd "$srcdir" && test -r "./$ac_unique_file" || { echo "$as_me: error: $ac_msg" >&2
+   { (exit 1); exit 1; }; }
+	pwd)`
+# When building in place, set srcdir=.
+if test "$ac_abs_confdir" = "$ac_pwd"; then
+  srcdir=.
+fi
+# Remove unnecessary trailing slashes from srcdir.
+# Double slashes in file names in object file debugging info
+# mess up M-x gdb in Emacs.
+case $srcdir in
+*/) srcdir=`expr "X$srcdir" : 'X\(.*[^/]\)' \| "X$srcdir" : 'X\(.*\)'`;;
+esac
+
+
+#### Check the passed arguments against the list of available ones
+x_with_list="\
+debug max-debug symbols optimization profiling tcheck dll static static-exe \
+plugin-auto-load bundles bin-release mt 64 universal exe runpath hard-runpath \
+lfs limited-linker openmp \
+autodep suffix hostspec version execopy bincopy lib-rebuilds lib-rebuilds=ask \
+deactivation makefile-auto-update projects flat-makefile configure-dialog \
+check ncbi-public strip pch caution ccache distcc \
+ncbi-c wxwidgets wxwidgets-ucs fastcgi sss sssdb sssutils included-sss \
+geo included-geo \
+z bz2 lzo pcre gcrypt gnutls openssl krb5 sybase sybase-local sybase-new \
+ftds mysql orbacus freetype ftgl opengl mesa glut glew glew-mx \
+bdb python perl jni sqlite3 icu boost boost-tag \
+sp expat sablot libxml libxslt libexslt xerces xalan zorba \
+oechem sge muparser hdf5 \
+gif jpeg tiff png xpm magic curl mimetic gsoap mongodb 3psw \
+local-lbsm ncbi-crypt connext \
+serial objects dbapi app ctools gui algo internal gbench"
+
+x_with_list=`echo "$x_with_list" | sed 's/\([^ ][^ ]*\)/--with-\1 --without-\1/g'`
+
+
+for x_arg in "$@" ; do
+   if test -z "$x_arg" ; then
+      continue
+   fi
+
+   x_okay=
+   for x_desc in $x_with_list ; do
+      if test "$x_arg" = "$x_desc" ; then
+         x_okay="okay"
+         break
+      fi
+   done
+   if test "$x_okay" = "okay" ; then
+      continue
 fi
-(cd $srcdir && test -r ./$ac_unique_file) 2>/dev/null ||
-  { echo "$as_me: error: sources are in $srcdir, but \`cd $srcdir' does not work" >&2
+
+   case "$x_arg" in
+      --with-extra-action= | --exec-prefix= | --with-projects= | --srcdir= \
+      | --cache-file= | --build= | --host= | --target= | --with-runpath= \
+      | --with-relative-runpath= | --x-includes= | --x-libraries= )
+      { echo "$as_me: error: $x_arg:  requires value;  use --help to show usage" >&2
+   { (exit 1); exit 1; }; }
+      ;;
+
+      --with-extra-action=* | --with-build-root=* | --with-build-root-sfx=* \
+      | --with-fake-root=* | --with-saved-settings=* \
+      | --with-projects=* | --with-check=* | --with-check-tools=* \
+      | --with-universal=* | --with-tcheck=* \
+      | --cache-file=* | --build=* | --host=* | --prefix=* | --exec-prefix=* \
+      | --libdir=* | --bindir=* | --includedir=* | --srcdir=* \
+      | [A-Z]*=* \
+      | --with-z=* | --with-bz2=* | --with-lzo=* \
+      | --with-pcre=* | --with-ncbi-c=* | --with-sss=* \
+      | --with-gcrypt=* | --with-gnutls=* | --with-openssl=* \
+      | --with-krb5=* | --with-curl=* | --with-gsoap=* | --with-mongodb=* \
+      | --with-sybase-local=* | --with-wxwidgets=* | --with-mimetic=* \
+      | --with-ftds=* | --with-mysql=* | --with-fastcgi=* \
+      | --with-sqlite3=* | --with-expat=* | --with-sablot=* \
+      | --with-icu=* | --with-xerces=* | --with-xalan=* | --with-zorba=* \
+      | --with-libxml=* | --with-libxslt=* | --with-exslt=* \
+      | --with-bdb=* | --with-odbc=* | --with-python=* | --with-perl=* \
+      | --with-freetype=* | --with-ftgl=* | --with-gif=* | --with-jpeg=* \
+      | --with-png=* | --with-tiff=* | --with-xpm=* | --with-opengl=* \
+      | --with-mesa=* | --with-glut=* | --with-glew=* | --with-oechem=* \
+      | --with-boost=* | --with-boost-tag=* | --with-orbacus=* | --with-sge=* \
+      | --with-muparser=* | --with-hdf5=* | --with-jni=* | --with-magic=* \
+      | --x-includes=* | --x-libraries=* | --with-3psw=* \
+      | --target=* | --with-runpath=* | --with-relative-runpath=* \
+      | --help | --no-create | --no-recursion)
+      ;;
+
+      * )
+      { echo "$as_me: error: $x_arg:  unknown option;  use --help to show usage" >&2
    { (exit 1); exit 1; }; }
-srcdir=`echo "$srcdir" | sed 's%\([^\\/]\)[\\/]*$%\1%'`
-ac_env_build_alias_set=${build_alias+set}
-ac_env_build_alias_value=$build_alias
-ac_cv_env_build_alias_set=${build_alias+set}
-ac_cv_env_build_alias_value=$build_alias
-ac_env_host_alias_set=${host_alias+set}
-ac_env_host_alias_value=$host_alias
-ac_cv_env_host_alias_set=${host_alias+set}
-ac_cv_env_host_alias_value=$host_alias
-ac_env_target_alias_set=${target_alias+set}
-ac_env_target_alias_value=$target_alias
-ac_cv_env_target_alias_set=${target_alias+set}
-ac_cv_env_target_alias_value=$target_alias
-ac_env_CC_set=${CC+set}
-ac_env_CC_value=$CC
-ac_cv_env_CC_set=${CC+set}
-ac_cv_env_CC_value=$CC
-ac_env_CFLAGS_set=${CFLAGS+set}
-ac_env_CFLAGS_value=$CFLAGS
-ac_cv_env_CFLAGS_set=${CFLAGS+set}
-ac_cv_env_CFLAGS_value=$CFLAGS
-ac_env_LDFLAGS_set=${LDFLAGS+set}
-ac_env_LDFLAGS_value=$LDFLAGS
-ac_cv_env_LDFLAGS_set=${LDFLAGS+set}
-ac_cv_env_LDFLAGS_value=$LDFLAGS
-ac_env_CPPFLAGS_set=${CPPFLAGS+set}
-ac_env_CPPFLAGS_value=$CPPFLAGS
-ac_cv_env_CPPFLAGS_set=${CPPFLAGS+set}
-ac_cv_env_CPPFLAGS_value=$CPPFLAGS
-ac_env_CXX_set=${CXX+set}
-ac_env_CXX_value=$CXX
-ac_cv_env_CXX_set=${CXX+set}
-ac_cv_env_CXX_value=$CXX
-ac_env_CXXFLAGS_set=${CXXFLAGS+set}
-ac_env_CXXFLAGS_value=$CXXFLAGS
-ac_cv_env_CXXFLAGS_set=${CXXFLAGS+set}
-ac_cv_env_CXXFLAGS_value=$CXXFLAGS
-ac_env_CXXCPP_set=${CXXCPP+set}
-ac_env_CXXCPP_value=$CXXCPP
-ac_cv_env_CXXCPP_set=${CXXCPP+set}
-ac_cv_env_CXXCPP_value=$CXXCPP
-ac_env_CPP_set=${CPP+set}
-ac_env_CPP_value=$CPP
-ac_cv_env_CPP_set=${CPP+set}
-ac_cv_env_CPP_value=$CPP
+      ;;
+   esac
+done
+
+for ac_var in $ac_precious_vars; do
+  eval ac_env_${ac_var}_set=\${${ac_var}+set}
+  eval ac_env_${ac_var}_value=\$${ac_var}
+  eval ac_cv_env_${ac_var}_set=\${${ac_var}+set}
+  eval ac_cv_env_${ac_var}_value=\$${ac_var}
+done
 
 #
 # Report the --help message.
@@ -822,9 +1638,6 @@
   -n, --no-create         do not create output files
       --srcdir=DIR        find the sources in DIR [configure dir or \`..']
 
-_ACEOF
-
-  cat <<_ACEOF
 Installation directories:
   --prefix=PREFIX         install architecture-independent files in PREFIX
 			  [$ac_default_prefix]
@@ -842,15 +1655,22 @@
   --bindir=DIR           user executables [EPREFIX/bin]
   --sbindir=DIR          system admin executables [EPREFIX/sbin]
   --libexecdir=DIR       program executables [EPREFIX/libexec]
-  --datadir=DIR          read-only architecture-independent data [PREFIX/share]
   --sysconfdir=DIR       read-only single-machine data [PREFIX/etc]
   --sharedstatedir=DIR   modifiable architecture-independent data [PREFIX/com]
   --localstatedir=DIR    modifiable single-machine data [PREFIX/var]
   --libdir=DIR           object code libraries [EPREFIX/lib]
   --includedir=DIR       C header files [PREFIX/include]
   --oldincludedir=DIR    C header files for non-gcc [/usr/include]
-  --infodir=DIR          info documentation [PREFIX/info]
-  --mandir=DIR           man documentation [PREFIX/man]
+  --datarootdir=DIR      read-only arch.-independent data root [PREFIX/share]
+  --datadir=DIR          read-only architecture-independent data [DATAROOTDIR]
+  --infodir=DIR          info documentation [DATAROOTDIR/info]
+  --localedir=DIR        locale-dependent data [DATAROOTDIR/locale]
+  --mandir=DIR           man documentation [DATAROOTDIR/man]
+  --docdir=DIR           documentation root [DATAROOTDIR/doc/ncbi-tools--]
+  --htmldir=DIR          html documentation [DOCDIR]
+  --dvidir=DIR           dvi documentation [DOCDIR]
+  --pdfdir=DIR           pdf documentation [DOCDIR]
+  --psdir=DIR            ps documentation [DOCDIR]
 _ACEOF
 
   cat <<\_ACEOF
@@ -889,6 +1709,7 @@
  --with-bundles          build bundles in addition to dylibs on Mac OS X
  --with-bin-release      build executables suitable for public release
  --with-mt               compile in a MultiThread-safe manner
+ --with-openmp           enable OpenMP extensions for all projects
  --with-64               compile to 64-bit code
  --with-universal        build universal binaries on Mac OS X
  --with-universal=CPUs   build universal binaries targeting the given CPUs
@@ -925,7 +1746,9 @@
  --without-caution       proceed without asking when in doubt
  --without-ccache        do not automatically use ccache if available
  --without-distcc        do not automatically use distcc if available
+ --with-ncbi-c=DIR       use NCBI C Toolkit installation in DIR
  --without-ncbi-c        do not use NCBI C Toolkit
+ --with-sss=DIR          use NCBI SSS installation in DIR
  --without-sss           do not use NCBI SSS libraries
  --without-utils         do not use NCBI SSS UTIL library
  --without-sssdb         do not use NCBI SSS DB library
@@ -1034,6 +1857,10 @@
  --without-curl          do not use libcurl
  --with-mimetic=DIR      use libmimetic installation in DIR
  --without-mimetic       do not use libmimetic
+ --with-gsoap=DIR        use gSOAP++ installation in DIR
+ --without-gsoap         do not use gSOAP++
+ --with-mongodb=DIR      use MongoDB installation in DIR
+ --without-mongodb       do not use MongoDB
  --with-3psw=std:netopt  favor standard (system) builds of the above pkgs.
  --without-3psw          do not use any of the above packages
  --without-local-lbsm    turn off support for IPC with locally running LBSMD
@@ -1058,87 +1885,90 @@
   CFLAGS      C compiler flags
   LDFLAGS     linker flags, e.g. -L<lib dir> if you have libraries in a
               nonstandard directory <lib dir>
-  CPPFLAGS    C/C++ preprocessor flags, e.g. -I<include dir> if you have
-              headers in a nonstandard directory <include dir>
+  CPPFLAGS    C/C++/Objective C preprocessor flags, e.g. -I<include dir> if
+              you have headers in a nonstandard directory <include dir>
   CXX         C++ compiler command
   CXXFLAGS    C++ compiler flags
   CXXCPP      C++ preprocessor
   CPP         C preprocessor
+  XMKMF       Path to xmkmf, Makefile generator for X Window System
 
 Use these variables to override the choices made by `configure' or to help
 it to find libraries and programs with nonstandard names/locations.
 
 Report bugs to <cpp-core@ncbi.nlm.nih.gov>.
 _ACEOF
+ac_status=$?
 fi
 
 if test "$ac_init_help" = "recursive"; then
   # If there are subdirs, report their specific --help.
-  ac_popdir=`pwd`
   for ac_dir in : $ac_subdirs_all; do test "x$ac_dir" = x: && continue
-    test -d $ac_dir || continue
-    #ac_builddir=. # Useless!
-ac_builddir=$builddir
-if test -n "$ac_file_in"; then
-   ac_dir_in=`(dirname "$ac_file_in") 2>/dev/null ||
-$as_expr X"$ac_file_in" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
-	 X"$ac_file_in" : 'X\(//\)[^/]' \| \
-	 X"$ac_file_in" : 'X\(//\)$' \| \
-	 X"$ac_file_in" : 'X\(/\)' \| \
-	 .     : '\(.\)' 2>/dev/null ||
-echo X"$ac_file_in" |
-    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
-  	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
-  	  /^X\(\/\/\)$/{ s//\1/; q; }
-  	  /^X\(\/\).*/{ s//\1/; q; }
+    test -d "$ac_dir" || continue
+    # Base source directories on path to *input* file.
+if test -n "$ac_f"; then
+   ac_dir_in=`$as_dirname -- "$ac_f" ||
+$as_expr X"$ac_f" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
+	 X"$ac_f" : 'X\(//\)[^/]' \| \
+	 X"$ac_f" : 'X\(//\)$' \| \
+	 X"$ac_f" : 'X\(/\)' \| . 2>/dev/null ||
+echo X"$ac_f" |
+    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{
+	    s//\1/
+	    q
+	  }
+	  /^X\(\/\/\)[^/].*/{
+	    s//\1/
+	    q
+	  }
+	  /^X\(\/\/\)$/{
+	    s//\1/
+	    q
+	  }
+	  /^X\(\/\).*/{
+	    s//\1/
+	    q
+	  }
   	  s/.*/./; q'`
 else
    ac_dir_in="$ac_dir"
 fi
 
-if test $ac_dir_in != .; then
-  ac_dir_suffix=`echo $ac_dir_in | sed 's,^\.[\\/],,'`
-  # A "../" for each directory in $ac_dir_suffix.
-  ac_top_builddir=../`echo "$ac_dir_suffix" | sed 's,/[^\\/]*,../,g'`
-else
-  ac_dir_suffix= ac_top_builddir=
-fi
+ac_builddir=.
 
-case $srcdir in
-  .)  # No --srcdir option.  We are building in place.
-    ac_srcdir=.
-    if test -z "$ac_top_builddir"; then
-       ac_top_srcdir=.
-    else
-       ac_top_srcdir=`echo $ac_top_builddir | sed 's,/$,,'`
-    fi ;;
-  [\\/]* | ?:[\\/]* )  # Absolute path.
-    ac_srcdir=$srcdir/$ac_dir_suffix;
-    ac_top_srcdir=$srcdir ;;
-  *) # Relative path.
-    ac_srcdir=$ac_top_builddir$srcdir/$ac_dir_suffix
-    ac_top_srcdir=$ac_top_builddir$srcdir ;;
-esac
-# Do not use `cd foo && pwd` to compute absolute paths, because
-# the directories may not exist.
-case $builddir in
-.) ac_abs_builddir="$ac_dir";;
-*)
-  case "$ac_dir" in
-  .) ac_abs_builddir=$builddir;;
-  [\\/]* | ?:[\\/]* ) ac_abs_builddir="$ac_dir";;
-  *) ac_abs_builddir=$builddir/"$ac_dir";;
-  esac;;
-esac
-case $ac_abs_builddir in
-.) ac_abs_top_builddir=${ac_top_builddir}.;;
+case "$ac_dir_in" in
+.) ac_dir_suffix= ac_top_builddir_sub=. ac_top_build_prefix= ;;
 *)
-  case ${ac_top_builddir}. in
-  .) ac_abs_top_builddir=$ac_abs_builddir;;
-  [\\/]* | ?:[\\/]* ) ac_abs_top_builddir=${ac_top_builddir}.;;
-  *) ac_abs_top_builddir=$ac_abs_builddir/${ac_top_builddir}.;;
+  ac_dir_suffix=/`echo "$ac_dir_in" | sed 's,^\.[\\/],,'`
+  # A ".." for each directory in $ac_dir_suffix.
+  ac_top_builddir_sub=`echo "$ac_dir_suffix" | sed 's,/[^\\/]*,/..,g;s,/,,'`
+  case $ac_top_builddir_sub in
+  "") ac_top_builddir_sub=. ac_top_build_prefix= ;;
+  *)  ac_top_build_prefix=$ac_top_builddir_sub/ ;;
   esac;;
 esac
+ac_abs_top_builddir=$ac_pwd
+ac_abs_builddir=$ac_pwd$ac_dir_suffix
+# for backward compatibility:
+ac_top_builddir=$ac_top_build_prefix
+
+case $srcdir in
+  .)  # We are building in place.
+    ac_srcdir=.
+    ac_top_srcdir=$ac_top_builddir_sub
+    ac_abs_top_srcdir=$ac_pwd ;;
+  [\\/]* | ?:[\\/]* )  # Absolute name.
+    ac_srcdir=$srcdir$ac_dir_suffix;
+    ac_top_srcdir=$srcdir
+    ac_abs_top_srcdir=$srcdir ;;
+  *) # Relative name.
+    ac_srcdir=$ac_top_build_prefix$srcdir$ac_dir_suffix
+    ac_top_srcdir=$ac_top_build_prefix$srcdir
+    ac_abs_top_srcdir=$ac_pwd/$srcdir ;;
+esac
+ac_abs_srcdir=$ac_abs_top_srcdir$ac_dir_suffix
+
+
 case $ac_dir_in in
 .) ac_abs_top_srcdir=$real_srcdir;;
 *)
@@ -1148,46 +1978,35 @@
   *) ac_abs_top_srcdir=$ac_dir_in/$real_srcdir;;
   esac;;
 esac
-case $ac_abs_top_srcdir in
-.) ac_abs_srcdir=$ac_dir_suffix;;
-*)
-  case $ac_dir_suffix in
-  .) ac_abs_srcdir=$ac_abs_top_srcdir;;
-  [\\/]* | ?:[\\/]* ) ac_abs_srcdir=$ac_dir_suffix;;
-  *) ac_abs_srcdir=$ac_abs_top_srcdir/$ac_dir_suffix;;
-  esac;;
-esac
+ac_builddir=$builddir
 
-    cd $ac_dir
-    # Check for guested configure; otherwise get Cygnus style configure.
-    if test -f $ac_srcdir/configure.gnu; then
-      echo
-      $SHELL $ac_srcdir/configure.gnu  --help=recursive
-    elif test -f $ac_srcdir/configure; then
-      echo
-      $SHELL $ac_srcdir/configure  --help=recursive
-    elif test -f $ac_srcdir/configure.ac ||
-	   test -f $ac_srcdir/configure.in; then
-      echo
-      $ac_configure --help
+    cd "$ac_dir" || { ac_status=$?; continue; }
+    # Check for guested configure.
+    if test -f "$ac_srcdir/configure.gnu"; then
+      echo &&
+      $SHELL "$ac_srcdir/configure.gnu" --help=recursive
+    elif test -f "$ac_srcdir/configure"; then
+      echo &&
+      $SHELL "$ac_srcdir/configure" --help=recursive
     else
       echo "$as_me: WARNING: no configuration information is in $ac_dir" >&2
-    fi
-    cd $ac_popdir
+    fi || ac_status=$?
+    cd "$ac_pwd" || { ac_status=$?; break; }
   done
 fi
 
-test -n "$ac_init_help" && exit 0
+test -n "$ac_init_help" && exit $ac_status
 if $ac_init_version; then
   cat <<\_ACEOF
 ncbi-tools++ configure 0.0
-generated by GNU Autoconf 2.59
+generated by GNU Autoconf 2.60
 
-Copyright (C) 2003 Free Software Foundation, Inc.
+Copyright (C) 1992, 1993, 1994, 1995, 1996, 1998, 1999, 2000, 2001,
+2002, 2003, 2004, 2005, 2006 Free Software Foundation, Inc.
 This configure script is free software; the Free Software Foundation
 gives unlimited permission to copy, distribute and modify it.
 _ACEOF
-  exit 0
+  exit
 fi
 
 
@@ -1522,6 +2341,18 @@
          else
             with_curl=no
          fi
+        if test "${with_gsoap-no}" != "no"; then
+            { echo "$as_me: error: incompatible options: --with-gsoap but --without-3psw" >&2
+   { (exit 1); exit 1; }; }
+         else
+            with_gsoap=no
+         fi
+        if test "${with_mongodb-no}" != "no"; then
+            { echo "$as_me: error: incompatible options: --with-mongodb but --without-3psw" >&2
+   { (exit 1); exit 1; }; }
+         else
+            with_mongodb=no
+         fi
 
       $as_unset NCBI || test "${NCBI+set}" != set || { NCBI=; export NCBI; }
       ;;
@@ -1542,17 +2373,17 @@
 if test -z "$CONFIG_SITE" -a -r $srcdir/src/build-system/config.site; then
     CONFIG_SITE=$srcdir/src/build-system/config.site
 fi
-exec 5>config.log
-cat >&5 <<_ACEOF
+cat >config.log <<_ACEOF
 This file contains any messages produced by compilers while
 running configure, to aid debugging if configure makes a mistake.
 
 It was created by ncbi-tools++ $as_me 0.0, which was
-generated by GNU Autoconf 2.59.  Invocation command line was
+generated by GNU Autoconf 2.60.  Invocation command line was
 
   $ $0 $@
 
 _ACEOF
+exec 5>>config.log
 {
 cat <<_ASUNAME
 ## --------- ##
@@ -1571,7 +2402,7 @@
 /bin/arch              = `(/bin/arch) 2>/dev/null              || echo unknown`
 /usr/bin/arch -k       = `(/usr/bin/arch -k) 2>/dev/null       || echo unknown`
 /usr/convex/getsysinfo = `(/usr/convex/getsysinfo) 2>/dev/null || echo unknown`
-hostinfo               = `(hostinfo) 2>/dev/null               || echo unknown`
+/usr/bin/hostinfo      = `(/usr/bin/hostinfo) 2>/dev/null      || echo unknown`
 /bin/machine           = `(/bin/machine) 2>/dev/null           || echo unknown`
 /usr/bin/oslevel       = `(/usr/bin/oslevel) 2>/dev/null       || echo unknown`
 /bin/universe          = `(/bin/universe) 2>/dev/null          || echo unknown`
@@ -1585,6 +2416,7 @@
   test -z "$as_dir" && as_dir=.
   echo "PATH: $as_dir"
 done
+IFS=$as_save_IFS
 
 } >&5
 
@@ -1606,7 +2438,6 @@
 ac_configure_args=
 ac_configure_args0=
 ac_configure_args1=
-ac_sep=
 ac_must_keep_next=false
 for ac_pass in 1 2
 do
@@ -1617,7 +2448,7 @@
     -q | -quiet | --quiet | --quie | --qui | --qu | --q \
     | -silent | --silent | --silen | --sile | --sil)
       continue ;;
-    *" "*|*"	"*|*[\[\]\~\#\$\^\&\*\(\)\{\}\\\|\;\<\>\?\"\']*)
+    *\'*)
       ac_arg=`echo "$ac_arg" | sed "s/'/'\\\\\\\\''/g"` ;;
     esac
     case $ac_pass in
@@ -1639,9 +2470,7 @@
 	  -* ) ac_must_keep_next=true ;;
 	esac
       fi
-      ac_configure_args="$ac_configure_args$ac_sep'$ac_arg'"
-      # Get rid of the leading space.
-      ac_sep=" "
+      ac_configure_args="$ac_configure_args '$ac_arg'"
       ;;
     esac
   done
@@ -1652,8 +2481,8 @@
 # When interrupted or exit'd, cleanup temporary files, and complete
 # config.log.  We remove comments because anyway the quotes in there
 # would cause problems or look ugly.
-# WARNING: Be sure not to use single quotes in there, as some shells,
-# such as our DU 5.0 friend, will then `close' the trap.
+# WARNING: Use '\'' to represent an apostrophe within the trap.
+# WARNING: Do not start the trap code with a newline, due to a FreeBSD 4.0 bug.
 trap 'exit_status=$?
   # Save into config.log some information that might help in debugging.
   {
@@ -1666,20 +2495,34 @@
 _ASBOX
     echo
     # The following way of writing the cache mishandles newlines in values,
-{
+(
+  for ac_var in `(set) 2>&1 | sed -n '\''s/^\([a-zA-Z_][a-zA-Z0-9_]*\)=.*/\1/p'\''`; do
+    eval ac_val=\$$ac_var
+    case $ac_val in #(
+    *${as_nl}*)
+      case $ac_var in #(
+      *_cv_*) { echo "$as_me:$LINENO: WARNING: Cache variable $ac_var contains a newline." >&5
+echo "$as_me: WARNING: Cache variable $ac_var contains a newline." >&2;} ;;
+      esac
+      case $ac_var in #(
+      _ | IFS | as_nl) ;; #(
+      *) $as_unset $ac_var ;;
+      esac ;;
+    esac
+  done
   (set) 2>&1 |
-    case `(ac_space='"'"' '"'"'; set | grep ac_space) 2>&1` in
-    *ac_space=\ *)
-      sed -n \
-	"s/'"'"'/'"'"'\\\\'"'"''"'"'/g;
-	  s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1='"'"'\\2'"'"'/p"
-      ;;
-    *)
+    case $as_nl`(ac_space='\'' '\''; set) 2>&1` in #(
+    *${as_nl}ac_space=\ *)
       sed -n \
-	"s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1=\\2/p"
-      ;;
-    esac;
-}
+	"s/'\''/'\''\\\\'\'''\''/g;
+	  s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1='\''\\2'\''/p"
+      ;; #(
+    *)
+      sed -n "/^[_$as_cr_alnum]*_cv_[_$as_cr_alnum]*=/p"
+      ;;
+    esac |
+    sort
+)
     echo
 
     cat <<\_ASBOX
@@ -1690,22 +2533,28 @@
     echo
     for ac_var in $ac_subst_vars
     do
-      eval ac_val=$`echo $ac_var`
-      echo "$ac_var='"'"'$ac_val'"'"'"
+      eval ac_val=\$$ac_var
+      case $ac_val in
+      *\'\''*) ac_val=`echo "$ac_val" | sed "s/'\''/'\''\\\\\\\\'\'''\''/g"`;;
+      esac
+      echo "$ac_var='\''$ac_val'\''"
     done | sort
     echo
 
     if test -n "$ac_subst_files"; then
       cat <<\_ASBOX
-## ------------- ##
-## Output files. ##
-## ------------- ##
+## ------------------- ##
+## File substitutions. ##
+## ------------------- ##
 _ASBOX
       echo
       for ac_var in $ac_subst_files
       do
-	eval ac_val=$`echo $ac_var`
-	echo "$ac_var='"'"'$ac_val'"'"'"
+	eval ac_val=\$$ac_var
+	case $ac_val in
+	*\'\''*) ac_val=`echo "$ac_val" | sed "s/'\''/'\''\\\\\\\\'\'''\''/g"`;;
+	esac
+	echo "$ac_var='\''$ac_val'\''"
       done | sort
       echo
     fi
@@ -1717,15 +2566,15 @@
 ## ----------- ##
 _ASBOX
       echo
-      sed "/^$/d" confdefs.h | sort
+      cat confdefs.h
       echo
     fi
     test "$ac_signal" != 0 &&
       echo "$as_me: caught signal $ac_signal"
     echo "$as_me: exit $exit_status"
   } >&5
-  rm -f core *.core &&
-  rm -rf conftest* confdefs* conf$$* $ac_clean_files &&
+  rm -f core *.core core.conftest.* &&
+    rm -f -r conftest* confdefs* conf$$* $ac_clean_files &&
     exit $exit_status
      ' 0
 for ac_signal in 1 2 13 15; do
@@ -1734,9 +2583,7 @@
 ac_signal=0
 
 # confdefs.h avoids OS command line length limits that DEFS can exceed.
-rm -rf conftest* confdefs.h
-# AIX cpp loses on an empty file, so make sure it contains at least a newline.
-echo >confdefs.h
+rm -f -r conftest* confdefs.h
 
 # Predefined preprocessor variables.
 
@@ -1747,14 +2594,17 @@
 
 # Let the site file select an alternate cache file if it wants to.
 # Prefer explicitly selected file to automatically selected ones.
-if test -z "$CONFIG_SITE"; then
-  if test "x$prefix" != xNONE; then
-    CONFIG_SITE="$prefix/share/config.site $prefix/etc/config.site"
+if test -n "$CONFIG_SITE"; then
+  set x "$CONFIG_SITE"
+elif test "x$prefix" != xNONE; then
+  set x "$prefix/share/config.site" "$prefix/etc/config.site"
   else
-    CONFIG_SITE="$ac_default_prefix/share/config.site $ac_default_prefix/etc/config.site"
-  fi
+  set x "$ac_default_prefix/share/config.site" \
+	"$ac_default_prefix/etc/config.site"
 fi
-for ac_site_file in $CONFIG_SITE; do
+shift
+for ac_site_file
+do
   if test -r "$ac_site_file"; then
     { echo "$as_me:$LINENO: loading site script $ac_site_file" >&5
 echo "$as_me: loading site script $ac_site_file" >&6;}
@@ -1770,8 +2620,8 @@
     { echo "$as_me:$LINENO: loading cache $cache_file" >&5
 echo "$as_me: loading cache $cache_file" >&6;}
     case $cache_file in
-      [\\/]* | ?:[\\/]* ) . $cache_file;;
-      *)                      . ./$cache_file;;
+      [\\/]* | ?:[\\/]* ) . "$cache_file";;
+      *)                      . "./$cache_file";;
     esac
   fi
 else
@@ -1783,12 +2633,11 @@
 # Check that the precious variables saved in the cache have kept the same
 # value.
 ac_cache_corrupted=false
-for ac_var in `(set) 2>&1 |
-	       sed -n 's/^ac_env_\([a-zA-Z_0-9]*\)_set=.*/\1/p'`; do
+for ac_var in $ac_precious_vars; do
   eval ac_old_set=\$ac_cv_env_${ac_var}_set
   eval ac_new_set=\$ac_env_${ac_var}_set
-  eval ac_old_val="\$ac_cv_env_${ac_var}_value"
-  eval ac_new_val="\$ac_env_${ac_var}_value"
+  eval ac_old_val=\$ac_cv_env_${ac_var}_value
+  eval ac_new_val=\$ac_env_${ac_var}_value
   case $ac_old_set,$ac_new_set in
     set,)
       { echo "$as_me:$LINENO: error: \`$ac_var' was set to \`$ac_old_val' in the previous run" >&5
@@ -1813,8 +2662,7 @@
   # Pass precious variables to config.status.
   if test "$ac_new_set" = set; then
     case $ac_new_val in
-    *" "*|*"	"*|*[\[\]\~\#\$\^\&\*\(\)\{\}\\\|\;\<\>\?\"\']*)
-      ac_arg=$ac_var=`echo "$ac_new_val" | sed "s/'/'\\\\\\\\''/g"` ;;
+    *\'*) ac_arg=$ac_var=`echo "$ac_new_val" | sed "s/'/'\\\\\\\\''/g"` ;;
     *) ac_arg=$ac_var=$ac_new_val ;;
     esac
     case " $ac_configure_args " in
@@ -1831,12 +2679,6 @@
    { (exit 1); exit 1; }; }
 fi
 
-ac_ext=c
-ac_cpp='$CPP $CPPFLAGS'
-ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
-ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
-ac_compiler_gnu=$ac_cv_c_compiler_gnu
-
 
 
 
@@ -1861,6 +2703,11 @@
 
 
 
+ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
 
 
 
@@ -1874,1167 +2721,1129 @@
 
 ## Title
 
-# Check whether --with-title0 or --without-title0 was given.
+# Check whether --with-title0 was given.
 if test "${with_title0+set}" = set; then
-  withval="$with_title0"
+  withval=$with_title0;
+fi
 
-fi;
 
-# Check whether --with-title1 or --without-title1 was given.
+# Check whether --with-title1 was given.
 if test "${with_title1+set}" = set; then
-  withval="$with_title1"
+  withval=$with_title1;
+fi
 
-fi;
 
-# Check whether --with-title2 or --without-title2 was given.
+# Check whether --with-title2 was given.
 if test "${with_title2+set}" = set; then
-  withval="$with_title2"
+  withval=$with_title2;
+fi
 
-fi;
 
 ## Code generation
 
-# Check whether --with-debug or --without-debug was given.
+# Check whether --with-debug was given.
 if test "${with_debug+set}" = set; then
-  withval="$with_debug"
+  withval=$with_debug;
+fi
 
-fi;
 
-# Check whether --with-max-debug or --without-max-debug was given.
+# Check whether --with-max-debug was given.
 if test "${with_max_debug+set}" = set; then
-  withval="$with_max_debug"
+  withval=$with_max_debug;
+fi
 
-fi;
 
-# Check whether --with-symbols or --without-symbols was given.
+# Check whether --with-symbols was given.
 if test "${with_symbols+set}" = set; then
-  withval="$with_symbols"
+  withval=$with_symbols;
+fi
 
-fi;
 
-# Check whether --with-optimization or --without-optimization was given.
+# Check whether --with-optimization was given.
 if test "${with_optimization+set}" = set; then
-  withval="$with_optimization"
+  withval=$with_optimization;
+fi
 
-fi;
 
-# Check whether --with-profiling or --without-profiling was given.
+# Check whether --with-profiling was given.
 if test "${with_profiling+set}" = set; then
-  withval="$with_profiling"
+  withval=$with_profiling;
+fi
 
-fi;
 
-# Check whether --with-tcheck or --without-tcheck was given.
+# Check whether --with-tcheck was given.
 if test "${with_tcheck+set}" = set; then
-  withval="$with_tcheck"
+  withval=$with_tcheck;
+fi
 
-fi;
 
-# Check whether --with-dll or --without-dll was given.
+# Check whether --with-dll was given.
 if test "${with_dll+set}" = set; then
-  withval="$with_dll"
+  withval=$with_dll;
+fi
 
-fi;
 
-# Check whether --with-static or --without-static was given.
+# Check whether --with-static was given.
 if test "${with_static+set}" = set; then
-  withval="$with_static"
+  withval=$with_static;
+fi
 
-fi;
 
-# Check whether --with-static-exe or --without-static-exe was given.
+# Check whether --with-static-exe was given.
 if test "${with_static_exe+set}" = set; then
-  withval="$with_static_exe"
+  withval=$with_static_exe;
+fi
 
-fi;
 
-# Check whether --with-plugin-auto-load or --without-plugin-auto-load was given.
+# Check whether --with-plugin-auto-load was given.
 if test "${with_plugin_auto_load+set}" = set; then
-  withval="$with_plugin_auto_load"
+  withval=$with_plugin_auto_load;
+fi
 
-fi;
 
-# Check whether --with-bundles or --without-bundles was given.
+# Check whether --with-bundles was given.
 if test "${with_bundles+set}" = set; then
-  withval="$with_bundles"
+  withval=$with_bundles;
+fi
 
-fi;
 
-# Check whether --with-bin-release or --without-bin-release was given.
+# Check whether --with-bin-release was given.
 if test "${with_bin_release+set}" = set; then
-  withval="$with_bin_release"
+  withval=$with_bin_release;
+fi
 
-fi;
 
-# Check whether --with-mt or --without-mt was given.
+# Check whether --with-mt was given.
 if test "${with_mt+set}" = set; then
-  withval="$with_mt"
+  withval=$with_mt;
+fi
+
+
+# Check whether --with-openmp was given.
+if test "${with_openmp+set}" = set; then
+  withval=$with_openmp;
+fi
 
-fi;
 
-# Check whether --with-64 or --without-64 was given.
+# Check whether --with-64 was given.
 if test "${with_64+set}" = set; then
-  withval="$with_64"
+  withval=$with_64;
+fi
 
-fi;
 
-# Check whether --with-universal or --without-universal was given.
+# Check whether --with-universal was given.
 if test "${with_universal+set}" = set; then
-  withval="$with_universal"
+  withval=$with_universal;
+fi
 
-fi;
 
-# Check whether --with-universal2 or --without-universal2 was given.
+# Check whether --with-universal2 was given.
 if test "${with_universal2+set}" = set; then
-  withval="$with_universal2"
+  withval=$with_universal2;
+fi
 
-fi;
 
-# Check whether --with-exe or --without-exe was given.
+# Check whether --with-exe was given.
 if test "${with_exe+set}" = set; then
-  withval="$with_exe"
+  withval=$with_exe;
+fi
 
-fi;
 
-# Check whether --with-runpath or --without-runpath was given.
+# Check whether --with-runpath was given.
 if test "${with_runpath+set}" = set; then
-  withval="$with_runpath"
+  withval=$with_runpath;
+fi
 
-fi;
 
-# Check whether --with-relative-runpath or --without-relative-runpath was given.
+# Check whether --with-relative-runpath was given.
 if test "${with_relative_runpath+set}" = set; then
-  withval="$with_relative_runpath"
+  withval=$with_relative_runpath;
+fi
 
-fi;
 
-# Check whether --with-hard-runpath or --without-hard-runpath was given.
+# Check whether --with-hard-runpath was given.
 if test "${with_hard_runpath+set}" = set; then
-  withval="$with_hard_runpath"
+  withval=$with_hard_runpath;
+fi
 
-fi;
 
-# Check whether --with-lfs or --without-lfs was given.
+# Check whether --with-lfs was given.
 if test "${with_lfs+set}" = set; then
-  withval="$with_lfs"
+  withval=$with_lfs;
+fi
 
-fi;
 
-# Check whether --with-limited-linker or --without-limited-linker was given.
+# Check whether --with-limited-linker was given.
 if test "${with_limited_linker+set}" = set; then
-  withval="$with_limited_linker"
+  withval=$with_limited_linker;
+fi
 
-fi;
 
 ## Scripts, make features, and directory naming
 
-# Check whether --with-extra-action or --without-extra-action was given.
+# Check whether --with-extra-action was given.
 if test "${with_extra_action+set}" = set; then
-  withval="$with_extra_action"
+  withval=$with_extra_action;
+fi
 
-fi;
 
-# Check whether --with-autodep or --without-autodep was given.
+# Check whether --with-autodep was given.
 if test "${with_autodep+set}" = set; then
-  withval="$with_autodep"
+  withval=$with_autodep;
+fi
 
-fi;
 
-# Check whether --with-build-root or --without-build-root was given.
+# Check whether --with-build-root was given.
 if test "${with_build_root+set}" = set; then
-  withval="$with_build_root"
+  withval=$with_build_root;
+fi
 
-fi;
 
-# Check whether --with-fake-root or --without-fake-root was given.
+# Check whether --with-fake-root was given.
 if test "${with_fake_root+set}" = set; then
-  withval="$with_fake_root"
+  withval=$with_fake_root;
+fi
 
-fi;
 
-# Check whether --with-suffix or --without-suffix was given.
+# Check whether --with-suffix was given.
 if test "${with_suffix+set}" = set; then
-  withval="$with_suffix"
+  withval=$with_suffix;
+fi
 
-fi;
 
-# Check whether --with-hostspec or --without-hostspec was given.
+# Check whether --with-hostspec was given.
 if test "${with_hostspec+set}" = set; then
-  withval="$with_hostspec"
+  withval=$with_hostspec;
+fi
 
-fi;
 
-# Check whether --with-version or --without-version was given.
+# Check whether --with-version was given.
 if test "${with_version+set}" = set; then
-  withval="$with_version"
+  withval=$with_version;
+fi
 
-fi;
 
-# Check whether --with-build-root-sfx or --without-build-root-sfx was given.
+# Check whether --with-build-root-sfx was given.
 if test "${with_build_root_sfx+set}" = set; then
-  withval="$with_build_root_sfx"
+  withval=$with_build_root_sfx;
+fi
 
-fi;
 
-# Check whether --with-execopy or --without-execopy was given.
+# Check whether --with-execopy was given.
 if test "${with_execopy+set}" = set; then
-  withval="$with_execopy"
+  withval=$with_execopy;
+fi
 
-fi;
 
-# Check whether --with-bincopy or --without-bincopy was given.
+# Check whether --with-bincopy was given.
 if test "${with_bincopy+set}" = set; then
-  withval="$with_bincopy"
+  withval=$with_bincopy;
+fi
 
-fi;
 
-# Check whether --with-lib-rebuilds or --without-lib-rebuilds was given.
+# Check whether --with-lib-rebuilds was given.
 if test "${with_lib_rebuilds+set}" = set; then
-  withval="$with_lib_rebuilds"
+  withval=$with_lib_rebuilds;
+fi
 
-fi;
 
-# Check whether --with-lib-rebuilds2 or --without-lib-rebuilds2 was given.
+# Check whether --with-lib-rebuilds2 was given.
 if test "${with_lib_rebuilds2+set}" = set; then
-  withval="$with_lib_rebuilds2"
+  withval=$with_lib_rebuilds2;
+fi
 
-fi;
-# Check whether --with-deactivation or --without-deactivation was given.
+# Check whether --with-deactivation was given.
 if test "${with_deactivation+set}" = set; then
-  withval="$with_deactivation"
+  withval=$with_deactivation;
+fi
 
-fi;
 
-# Check whether --with-makefile-auto-update or --without-makefile-auto-update was given.
+# Check whether --with-makefile-auto-update was given.
 if test "${with_makefile_auto_update+set}" = set; then
-  withval="$with_makefile_auto_update"
+  withval=$with_makefile_auto_update;
+fi
 
-fi;
 
-# Check whether --with-projects or --without-projects was given.
+# Check whether --with-projects was given.
 if test "${with_projects+set}" = set; then
-  withval="$with_projects"
+  withval=$with_projects;
+fi
 
-fi;
 
-# Check whether --with-flat-makefile or --without-flat-makefile was given.
+# Check whether --with-flat-makefile was given.
 if test "${with_flat_makefile+set}" = set; then
-  withval="$with_flat_makefile"
+  withval=$with_flat_makefile;
+fi
 
-fi;
 
-# Check whether --with-configure-dialog or --without-configure-dialog was given.
+# Check whether --with-configure-dialog was given.
 if test "${with_configure_dialog+set}" = set; then
-  withval="$with_configure_dialog"
+  withval=$with_configure_dialog;
+fi
 
-fi;
 
-# Check whether --with-saved-settings or --without-saved-settings was given.
+# Check whether --with-saved-settings was given.
 if test "${with_saved_settings+set}" = set; then
-  withval="$with_saved_settings"
+  withval=$with_saved_settings;
+fi
 
-fi;
 
-# Check whether --with-check or --without-check was given.
+# Check whether --with-check was given.
 if test "${with_check+set}" = set; then
-  withval="$with_check"
+  withval=$with_check;
+fi
 
-fi;
 
-# Check whether --with-check-tools or --without-check-tools was given.
+# Check whether --with-check-tools was given.
 if test "${with_check_tools+set}" = set; then
-  withval="$with_check_tools"
+  withval=$with_check_tools;
+fi
 
-fi;
 
-# Check whether --with-ncbi-public or --without-ncbi-public was given.
+# Check whether --with-ncbi-public was given.
 if test "${with_ncbi_public+set}" = set; then
-  withval="$with_ncbi_public"
+  withval=$with_ncbi_public;
+fi
 
-fi;
 
-# Check whether --with-strip or --without-strip was given.
+# Check whether --with-strip was given.
 if test "${with_strip+set}" = set; then
-  withval="$with_strip"
+  withval=$with_strip;
+fi
 
-fi;
 
-# Check whether --with-pch or --without-pch was given.
+# Check whether --with-pch was given.
 if test "${with_pch+set}" = set; then
-  withval="$with_pch"
+  withval=$with_pch;
+fi
 
-fi;
 
-# Check whether --with-caution or --without-caution was given.
+# Check whether --with-caution was given.
 if test "${with_caution+set}" = set; then
-  withval="$with_caution"
+  withval=$with_caution;
+fi
 
-fi;
 
-# Check whether --with-caution2 or --without-caution2 was given.
+# Check whether --with-caution2 was given.
 if test "${with_caution2+set}" = set; then
-  withval="$with_caution2"
+  withval=$with_caution2;
+fi
 
-fi;
 
-# Check whether --with-ccache or --without-ccache was given.
+# Check whether --with-ccache was given.
 if test "${with_ccache+set}" = set; then
-  withval="$with_ccache"
+  withval=$with_ccache;
+fi
 
-fi;
 
-# Check whether --with-distcc or --without-distcc was given.
+# Check whether --with-distcc was given.
 if test "${with_distcc+set}" = set; then
-  withval="$with_distcc"
+  withval=$with_distcc;
+fi
 
-fi;
 
 ## NCBI packages
 
-# Check whether --with-ncbi-c or --without-ncbi-c was given.
+# Check whether --with-ncbi-c was given.
 if test "${with_ncbi_c+set}" = set; then
-  withval="$with_ncbi_c"
+  withval=$with_ncbi_c;
+fi
+
+
+# Check whether --with-ncbi-c2 was given.
+if test "${with_ncbi_c2+set}" = set; then
+  withval=$with_ncbi_c2;
+fi
 
-fi;
 
-# Check whether --with-sss or --without-sss was given.
+# Check whether --with-sss was given.
 if test "${with_sss+set}" = set; then
-  withval="$with_sss"
+  withval=$with_sss;
+fi
+
+
+# Check whether --with-sss2 was given.
+if test "${with_sss2+set}" = set; then
+  withval=$with_sss2;
+fi
 
-fi;
 
-# Check whether --with-sssutils or --without-sssutils was given.
+# Check whether --with-sssutils was given.
 if test "${with_sssutils+set}" = set; then
-  withval="$with_sssutils"
+  withval=$with_sssutils;
+fi
 
-fi;
 
-# Check whether --with-sssdb or --without-sssdb was given.
+# Check whether --with-sssdb was given.
 if test "${with_sssdb+set}" = set; then
-  withval="$with_sssdb"
+  withval=$with_sssdb;
+fi
 
-fi;
 
-# Check whether --with-included-sss or --without-included-sss was given.
+# Check whether --with-included-sss was given.
 if test "${with_included_sss+set}" = set; then
-  withval="$with_included_sss"
+  withval=$with_included_sss;
+fi
 
-fi;
 
 ## Third-party and system packages
 
-# Check whether --with-z or --without-z was given.
+# Check whether --with-z was given.
 if test "${with_z+set}" = set; then
-  withval="$with_z"
+  withval=$with_z;
+fi
 
-fi;
 
-# Check whether --with-z2 or --without-z2 was given.
+# Check whether --with-z2 was given.
 if test "${with_z2+set}" = set; then
-  withval="$with_z2"
+  withval=$with_z2;
+fi
 
-fi;
 
-# Check whether --with-bz2 or --without-bz2 was given.
+# Check whether --with-bz2 was given.
 if test "${with_bz2+set}" = set; then
-  withval="$with_bz2"
+  withval=$with_bz2;
+fi
 
-fi;
 
-# Check whether --with-bz2b or --without-bz2b was given.
+# Check whether --with-bz2b was given.
 if test "${with_bz2b+set}" = set; then
-  withval="$with_bz2b"
+  withval=$with_bz2b;
+fi
 
-fi;
 
-# Check whether --with-lzo or --without-lzo was given.
+# Check whether --with-lzo was given.
 if test "${with_lzo+set}" = set; then
-  withval="$with_lzo"
+  withval=$with_lzo;
+fi
 
-fi;
 
-# Check whether --with-lzo_ or --without-lzo_ was given.
+# Check whether --with-lzo_ was given.
 if test "${with_lzo_+set}" = set; then
-  withval="$with_lzo_"
+  withval=$with_lzo_;
+fi
 
-fi;
 
-# Check whether --with-pcre or --without-pcre was given.
+# Check whether --with-pcre was given.
 if test "${with_pcre+set}" = set; then
-  withval="$with_pcre"
+  withval=$with_pcre;
+fi
 
-fi;
 
-# Check whether --with-pcre2 or --without-pcre2 was given.
+# Check whether --with-pcre2 was given.
 if test "${with_pcre2+set}" = set; then
-  withval="$with_pcre2"
+  withval=$with_pcre2;
+fi
 
-fi;
 
-# Check whether --with-gcrypt or --without-gcrypt was given.
+# Check whether --with-gcrypt was given.
 if test "${with_gcrypt+set}" = set; then
-  withval="$with_gcrypt"
+  withval=$with_gcrypt;
+fi
 
-fi;
 
-# Check whether --with-gcrypt2 or --without-gcrypt2 was given.
+# Check whether --with-gcrypt2 was given.
 if test "${with_gcrypt2+set}" = set; then
-  withval="$with_gcrypt2"
+  withval=$with_gcrypt2;
+fi
 
-fi;
 
-# Check whether --with-gnutls or --without-gnutls was given.
+# Check whether --with-gnutls was given.
 if test "${with_gnutls+set}" = set; then
-  withval="$with_gnutls"
+  withval=$with_gnutls;
+fi
 
-fi;
 
-# Check whether --with-gnutls2 or --without-gnutls2 was given.
+# Check whether --with-gnutls2 was given.
 if test "${with_gnutls2+set}" = set; then
-  withval="$with_gnutls2"
+  withval=$with_gnutls2;
+fi
 
-fi;
 
-# Check whether --with-openssl or --without-openssl was given.
+# Check whether --with-openssl was given.
 if test "${with_openssl+set}" = set; then
-  withval="$with_openssl"
+  withval=$with_openssl;
+fi
 
-fi;
 
-# Check whether --with-openssl2 or --without-openssl2 was given.
+# Check whether --with-openssl2 was given.
 if test "${with_openssl2+set}" = set; then
-  withval="$with_openssl2"
+  withval=$with_openssl2;
+fi
 
-fi;
 
-# Check whether --with-krb5 or --without-krb5 was given.
+# Check whether --with-krb5 was given.
 if test "${with_krb5+set}" = set; then
-  withval="$with_krb5"
+  withval=$with_krb5;
+fi
 
-fi;
 
-# Check whether --with-krb5b or --without-krb5b was given.
+# Check whether --with-krb5b was given.
 if test "${with_krb5b+set}" = set; then
-  withval="$with_krb5b"
+  withval=$with_krb5b;
+fi
 
-fi;
 
-# Check whether --with-sybase or --without-sybase was given.
+# Check whether --with-sybase was given.
 if test "${with_sybase+set}" = set; then
-  withval="$with_sybase"
+  withval=$with_sybase;
+fi
 
-fi;
 
-# Check whether --with-sybase-local or --without-sybase-local was given.
+# Check whether --with-sybase-local was given.
 if test "${with_sybase_local+set}" = set; then
-  withval="$with_sybase_local"
+  withval=$with_sybase_local;
+fi
 
-fi;
 
-# Check whether --with-sybase-new or --without-sybase-new was given.
+# Check whether --with-sybase-new was given.
 if test "${with_sybase_new+set}" = set; then
-  withval="$with_sybase_new"
+  withval=$with_sybase_new;
+fi
 
-fi;
 
-# Check whether --with-ftds or --without-ftds was given.
+# Check whether --with-ftds was given.
 if test "${with_ftds+set}" = set; then
-  withval="$with_ftds"
+  withval=$with_ftds;
+fi
 
-fi;
 
-# Check whether --with-ftds2 or --without-ftds2 was given.
+# Check whether --with-ftds2 was given.
 if test "${with_ftds2+set}" = set; then
-  withval="$with_ftds2"
+  withval=$with_ftds2;
+fi
 
-fi;
 
-# Check whether --with-ftds-renamed or --without-ftds-renamed was given.
+# Check whether --with-ftds-renamed was given.
 if test "${with_ftds_renamed+set}" = set; then
-  withval="$with_ftds_renamed"
+  withval=$with_ftds_renamed;
+fi
 
-fi;
 
-# Check whether --with-mysql or --without-mysql was given.
+# Check whether --with-mysql was given.
 if test "${with_mysql+set}" = set; then
-  withval="$with_mysql"
+  withval=$with_mysql;
+fi
 
-fi;
 
-# Check whether --with-mysql2 or --without-mysql2 was given.
+# Check whether --with-mysql2 was given.
 if test "${with_mysql2+set}" = set; then
-  withval="$with_mysql2"
+  withval=$with_mysql2;
+fi
 
-fi;
 
-# Check whether --with-opengl or --without-opengl was given.
+# Check whether --with-opengl was given.
 if test "${with_opengl+set}" = set; then
-  withval="$with_opengl"
+  withval=$with_opengl;
+fi
 
-fi;
 
-# Check whether --with-opengl2 or --without-opengl2 was given.
+# Check whether --with-opengl2 was given.
 if test "${with_opengl2+set}" = set; then
-  withval="$with_opengl2"
+  withval=$with_opengl2;
+fi
 
-fi;
 
-# Check whether --with-mesa or --without-mesa was given.
+# Check whether --with-mesa was given.
 if test "${with_mesa+set}" = set; then
-  withval="$with_mesa"
+  withval=$with_mesa;
+fi
 
-fi;
 
-# Check whether --with-mesa2 or --without-mesa2 was given.
+# Check whether --with-mesa2 was given.
 if test "${with_mesa2+set}" = set; then
-  withval="$with_mesa2"
+  withval=$with_mesa2;
+fi
 
-fi;
 
-# Check whether --with-glut or --without-glut was given.
+# Check whether --with-glut was given.
 if test "${with_glut+set}" = set; then
-  withval="$with_glut"
+  withval=$with_glut;
+fi
 
-fi;
 
-# Check whether --with-glut2 or --without-glut2 was given.
+# Check whether --with-glut2 was given.
 if test "${with_glut2+set}" = set; then
-  withval="$with_glut2"
+  withval=$with_glut2;
+fi
 
-fi;
 
-# Check whether --with-glew or --without-glew was given.
+# Check whether --with-glew was given.
 if test "${with_glew+set}" = set; then
-  withval="$with_glew"
+  withval=$with_glew;
+fi
 
-fi;
 
-# Check whether --with-glew2 or --without-glew2 was given.
+# Check whether --with-glew2 was given.
 if test "${with_glew2+set}" = set; then
-  withval="$with_glew2"
+  withval=$with_glew2;
+fi
 
-fi;
 
-# Check whether --with-glew-mx or --without-glew-mx was given.
+# Check whether --with-glew-mx was given.
 if test "${with_glew_mx+set}" = set; then
-  withval="$with_glew_mx"
+  withval=$with_glew_mx;
+fi
 
-fi;
 
-# Check whether --with-wxwidgets or --without-wxwidgets was given.
+# Check whether --with-wxwidgets was given.
 if test "${with_wxwidgets+set}" = set; then
-  withval="$with_wxwidgets"
+  withval=$with_wxwidgets;
+fi
 
-fi;
 
-# Check whether --with-wxwidgets2 or --without-wxwidgets2 was given.
+# Check whether --with-wxwidgets2 was given.
 if test "${with_wxwidgets2+set}" = set; then
-  withval="$with_wxwidgets2"
+  withval=$with_wxwidgets2;
+fi
 
-fi;
 
-# Check whether --with-wxwidgets-ucs or --without-wxwidgets-ucs was given.
+# Check whether --with-wxwidgets-ucs was given.
 if test "${with_wxwidgets_ucs+set}" = set; then
-  withval="$with_wxwidgets_ucs"
+  withval=$with_wxwidgets_ucs;
+fi
 
-fi;
 
-# Check whether --with-wxwidgets-ucs2 or --without-wxwidgets-ucs2 was given.
+# Check whether --with-wxwidgets-ucs2 was given.
 if test "${with_wxwidgets_ucs2+set}" = set; then
-  withval="$with_wxwidgets_ucs2"
+  withval=$with_wxwidgets_ucs2;
+fi
 
-fi;
 
-# Check whether --with-freetype or --without-freetype was given.
+# Check whether --with-freetype was given.
 if test "${with_freetype+set}" = set; then
-  withval="$with_freetype"
+  withval=$with_freetype;
+fi
 
-fi;
 
-# Check whether --with-freetype_ or --without-freetype_ was given.
+# Check whether --with-freetype_ was given.
 if test "${with_freetype_+set}" = set; then
-  withval="$with_freetype_"
+  withval=$with_freetype_;
+fi
 
-fi;
 
-# Check whether --with-ftgl or --without-ftgl was given.
+# Check whether --with-ftgl was given.
 if test "${with_ftgl+set}" = set; then
-  withval="$with_ftgl"
+  withval=$with_ftgl;
+fi
 
-fi;
 
-# Check whether --with-ftgl2 or --without-ftgl2 was given.
+# Check whether --with-ftgl2 was given.
 if test "${with_ftgl2+set}" = set; then
-  withval="$with_ftgl2"
+  withval=$with_ftgl2;
+fi
 
-fi;
 
-# Check whether --with-fastcgi or --without-fastcgi was given.
+# Check whether --with-fastcgi was given.
 if test "${with_fastcgi+set}" = set; then
-  withval="$with_fastcgi"
+  withval=$with_fastcgi;
+fi
 
-fi;
 
-# Check whether --with-fastcgi2 or --without-fastcgi2 was given.
+# Check whether --with-fastcgi2 was given.
 if test "${with_fastcgi2+set}" = set; then
-  withval="$with_fastcgi2"
+  withval=$with_fastcgi2;
+fi
 
-fi;
 
-# Check whether --with-fastcgi3 or --without-fastcgi3 was given.
+# Check whether --with-fastcgi3 was given.
 if test "${with_fastcgi3+set}" = set; then
-  withval="$with_fastcgi3"
+  withval=$with_fastcgi3;
+fi
 
-fi;
 
-# Check whether --with-bdb or --without-bdb was given.
+# Check whether --with-bdb was given.
 if test "${with_bdb+set}" = set; then
-  withval="$with_bdb"
+  withval=$with_bdb;
+fi
 
-fi;
 
-# Check whether --with-bdb or --without-bdb was given.
+# Check whether --with-bdb was given.
 if test "${with_bdb+set}" = set; then
-  withval="$with_bdb"
+  withval=$with_bdb;
+fi
 
-fi;
 
-# Check whether --with-bdb or --without-bdb was given.
+# Check whether --with-bdb was given.
 if test "${with_bdb+set}" = set; then
-  withval="$with_bdb"
+  withval=$with_bdb;
+fi
 
-fi;
 
-# Check whether --with-sp or --without-sp was given.
+# Check whether --with-sp was given.
 if test "${with_sp+set}" = set; then
-  withval="$with_sp"
+  withval=$with_sp;
+fi
 
-fi;
 
-# Check whether --with-orbacus or --without-orbacus was given.
+# Check whether --with-orbacus was given.
 if test "${with_orbacus+set}" = set; then
-  withval="$with_orbacus"
+  withval=$with_orbacus;
+fi
 
-fi;
 
-# Check whether --with-orbacus2 or --without-orbacus2 was given.
+# Check whether --with-orbacus2 was given.
 if test "${with_orbacus2+set}" = set; then
-  withval="$with_orbacus2"
+  withval=$with_orbacus2;
+fi
 
-fi;
 
-# Check whether --with-odbc or --without-odbc was given.
+# Check whether --with-odbc was given.
 if test "${with_odbc+set}" = set; then
-  withval="$with_odbc"
+  withval=$with_odbc;
+fi
 
-fi;
 
-# Check whether --with-python or --without-python was given.
+# Check whether --with-python was given.
 if test "${with_python+set}" = set; then
-  withval="$with_python"
+  withval=$with_python;
+fi
 
-fi;
 
-# Check whether --with-python2 or --without-python2 was given.
+# Check whether --with-python2 was given.
 if test "${with_python2+set}" = set; then
-  withval="$with_python2"
+  withval=$with_python2;
+fi
 
-fi;
 
-# Check whether --with-perl or --without-perl was given.
+# Check whether --with-perl was given.
 if test "${with_perl+set}" = set; then
-  withval="$with_perl"
+  withval=$with_perl;
+fi
 
-fi;
 
-# Check whether --with-perl2 or --without-perl2 was given.
+# Check whether --with-perl2 was given.
 if test "${with_perl2+set}" = set; then
-  withval="$with_perl2"
+  withval=$with_perl2;
+fi
 
-fi;
 
-# Check whether --with-jni or --without-jni was given.
+# Check whether --with-jni was given.
 if test "${with_jni+set}" = set; then
-  withval="$with_jni"
+  withval=$with_jni;
+fi
 
-fi;
 
-# Check whether --with-boost or --without-boost was given.
+# Check whether --with-boost was given.
 if test "${with_boost+set}" = set; then
-  withval="$with_boost"
+  withval=$with_boost;
+fi
 
-fi;
 
-# Check whether --with-boost2 or --without-boost2 was given.
+# Check whether --with-boost2 was given.
 if test "${with_boost2+set}" = set; then
-  withval="$with_boost2"
+  withval=$with_boost2;
+fi
 
-fi;
 
-# Check whether --with-boost-tag or --without-boost-tag was given.
+# Check whether --with-boost-tag was given.
 if test "${with_boost_tag+set}" = set; then
-  withval="$with_boost_tag"
+  withval=$with_boost_tag;
+fi
 
-fi;
 
-# Check whether --with-boost-tag2 or --without-boost-tag2 was given.
+# Check whether --with-boost-tag2 was given.
 if test "${with_boost_tag2+set}" = set; then
-  withval="$with_boost_tag2"
+  withval=$with_boost_tag2;
+fi
 
-fi;
 
-# Check whether --with-sqlite3 or --without-sqlite3 was given.
+# Check whether --with-sqlite3 was given.
 if test "${with_sqlite3+set}" = set; then
-  withval="$with_sqlite3"
+  withval=$with_sqlite3;
+fi
 
-fi;
 
-# Check whether --with-sqlite3b or --without-sqlite3b was given.
+# Check whether --with-sqlite3b was given.
 if test "${with_sqlite3b+set}" = set; then
-  withval="$with_sqlite3b"
+  withval=$with_sqlite3b;
+fi
 
-fi;
 
-# Check whether --with-icu or --without-icu was given.
+# Check whether --with-icu was given.
 if test "${with_icu+set}" = set; then
-  withval="$with_icu"
+  withval=$with_icu;
+fi
 
-fi;
 
-# Check whether --with-icu2 or --without-icu2 was given.
+# Check whether --with-icu2 was given.
 if test "${with_icu2+set}" = set; then
-  withval="$with_icu2"
+  withval=$with_icu2;
+fi
 
-fi;
 
-# Check whether --with-expat or --without-expat was given.
+# Check whether --with-expat was given.
 if test "${with_expat+set}" = set; then
-  withval="$with_expat"
+  withval=$with_expat;
+fi
 
-fi;
 
-# Check whether --with-expat2 or --without-expat2 was given.
+# Check whether --with-expat2 was given.
 if test "${with_expat2+set}" = set; then
-  withval="$with_expat2"
+  withval=$with_expat2;
+fi
 
-fi;
 
-# Check whether --with-sablot or --without-sablot was given.
+# Check whether --with-sablot was given.
 if test "${with_sablot+set}" = set; then
-  withval="$with_sablot"
+  withval=$with_sablot;
+fi
 
-fi;
 
-# Check whether --with-sablot2 or --without-sablot2 was given.
+# Check whether --with-sablot2 was given.
 if test "${with_sablot2+set}" = set; then
-  withval="$with_sablot2"
+  withval=$with_sablot2;
+fi
 
-fi;
 
-# Check whether --with-libxml or --without-libxml was given.
+# Check whether --with-libxml was given.
 if test "${with_libxml+set}" = set; then
-  withval="$with_libxml"
+  withval=$with_libxml;
+fi
 
-fi;
 
-# Check whether --with-libxml_ or --without-libxml_ was given.
+# Check whether --with-libxml_ was given.
 if test "${with_libxml_+set}" = set; then
-  withval="$with_libxml_"
+  withval=$with_libxml_;
+fi
 
-fi;
 
-# Check whether --with-libxslt or --without-libxslt was given.
+# Check whether --with-libxslt was given.
 if test "${with_libxslt+set}" = set; then
-  withval="$with_libxslt"
+  withval=$with_libxslt;
+fi
 
-fi;
 
-# Check whether --with-libxslt2 or --without-libxslt2 was given.
+# Check whether --with-libxslt2 was given.
 if test "${with_libxslt2+set}" = set; then
-  withval="$with_libxslt2"
+  withval=$with_libxslt2;
+fi
 
-fi;
 
-# Check whether --with-libexslt or --without-libexslt was given.
+# Check whether --with-libexslt was given.
 if test "${with_libexslt+set}" = set; then
-  withval="$with_libexslt"
+  withval=$with_libexslt;
+fi
 
-fi;
 
-# Check whether --with-libexslt2 or --without-libexslt2 was given.
+# Check whether --with-libexslt2 was given.
 if test "${with_libexslt2+set}" = set; then
-  withval="$with_libexslt2"
+  withval=$with_libexslt2;
+fi
 
-fi;
 
-# Check whether --with-xerces or --without-xerces was given.
+# Check whether --with-xerces was given.
 if test "${with_xerces+set}" = set; then
-  withval="$with_xerces"
+  withval=$with_xerces;
+fi
 
-fi;
 
-# Check whether --with-xerces2 or --without-xerces2 was given.
+# Check whether --with-xerces2 was given.
 if test "${with_xerces2+set}" = set; then
-  withval="$with_xerces2"
+  withval=$with_xerces2;
+fi
 
-fi;
 
-# Check whether --with-xalan or --without-xalan was given.
+# Check whether --with-xalan was given.
 if test "${with_xalan+set}" = set; then
-  withval="$with_xalan"
+  withval=$with_xalan;
+fi
 
-fi;
 
-# Check whether --with-xalan2 or --without-xalan2 was given.
+# Check whether --with-xalan2 was given.
 if test "${with_xalan2+set}" = set; then
-  withval="$with_xalan2"
+  withval=$with_xalan2;
+fi
 
-fi;
 
-# Check whether --with-zorba or --without-zorba was given.
+# Check whether --with-zorba was given.
 if test "${with_zorba+set}" = set; then
-  withval="$with_zorba"
+  withval=$with_zorba;
+fi
 
-fi;
 
-# Check whether --with-zorba2 or --without-zorba2 was given.
+# Check whether --with-zorba2 was given.
 if test "${with_zorba2+set}" = set; then
-  withval="$with_zorba2"
+  withval=$with_zorba2;
+fi
 
-fi;
 
-# Check whether --with-oechem or --without-oechem was given.
+# Check whether --with-oechem was given.
 if test "${with_oechem+set}" = set; then
-  withval="$with_oechem"
+  withval=$with_oechem;
+fi
 
-fi;
 
-# Check whether --with-oechem2 or --without-oechem2 was given.
+# Check whether --with-oechem2 was given.
 if test "${with_oechem2+set}" = set; then
-  withval="$with_oechem2"
+  withval=$with_oechem2;
+fi
 
-fi;
 
-# Check whether --with-sge or --without-sge was given.
+# Check whether --with-sge was given.
 if test "${with_sge+set}" = set; then
-  withval="$with_sge"
+  withval=$with_sge;
+fi
 
-fi;
 
-# Check whether --with-sge2 or --without-sge2 was given.
+# Check whether --with-sge2 was given.
 if test "${with_sge2+set}" = set; then
-  withval="$with_sge2"
+  withval=$with_sge2;
+fi
 
-fi;
 
-# Check whether --with-muparser or --without-muparser was given.
+# Check whether --with-muparser was given.
 if test "${with_muparser+set}" = set; then
-  withval="$with_muparser"
+  withval=$with_muparser;
+fi
 
-fi;
 
-# Check whether --with-muparser2 or --without-muparser2 was given.
+# Check whether --with-muparser2 was given.
 if test "${with_muparser2+set}" = set; then
-  withval="$with_muparser2"
+  withval=$with_muparser2;
+fi
 
-fi;
 
-# Check whether --with-hdf5 or --without-hdf5 was given.
+# Check whether --with-hdf5 was given.
 if test "${with_hdf5+set}" = set; then
-  withval="$with_hdf5"
+  withval=$with_hdf5;
+fi
 
-fi;
 
-# Check whether --with-hdf5b or --without-hdf5b was given.
+# Check whether --with-hdf5b was given.
 if test "${with_hdf5b+set}" = set; then
-  withval="$with_hdf5b"
+  withval=$with_hdf5b;
+fi
 
-fi;
 
-# Check whether --with-gif or --without-gif was given.
+# Check whether --with-gif was given.
 if test "${with_gif+set}" = set; then
-  withval="$with_gif"
+  withval=$with_gif;
+fi
 
-fi;
 
-# Check whether --with-gif2 or --without-gif2 was given.
+# Check whether --with-gif2 was given.
 if test "${with_gif2+set}" = set; then
-  withval="$with_gif2"
+  withval=$with_gif2;
+fi
 
-fi;
 
-# Check whether --with-jpeg or --without-jpeg was given.
+# Check whether --with-jpeg was given.
 if test "${with_jpeg+set}" = set; then
-  withval="$with_jpeg"
+  withval=$with_jpeg;
+fi
 
-fi;
 
-# Check whether --with-jpeg2 or --without-jpeg2 was given.
+# Check whether --with-jpeg2 was given.
 if test "${with_jpeg2+set}" = set; then
-  withval="$with_jpeg2"
+  withval=$with_jpeg2;
+fi
 
-fi;
 
-# Check whether --with-png or --without-png was given.
+# Check whether --with-png was given.
 if test "${with_png+set}" = set; then
-  withval="$with_png"
+  withval=$with_png;
+fi
 
-fi;
 
-# Check whether --with-png2 or --without-png2 was given.
+# Check whether --with-png2 was given.
 if test "${with_png2+set}" = set; then
-  withval="$with_png2"
+  withval=$with_png2;
+fi
 
-fi;
 
-# Check whether --with-tiff or --without-tiff was given.
+# Check whether --with-tiff was given.
 if test "${with_tiff+set}" = set; then
-  withval="$with_tiff"
+  withval=$with_tiff;
+fi
 
-fi;
 
-# Check whether --with-tiff2 or --without-tiff2 was given.
+# Check whether --with-tiff2 was given.
 if test "${with_tiff2+set}" = set; then
-  withval="$with_tiff2"
+  withval=$with_tiff2;
+fi
 
-fi;
 
-# Check whether --with-xpm or --without-xpm was given.
+# Check whether --with-xpm was given.
 if test "${with_xpm+set}" = set; then
-  withval="$with_xpm"
+  withval=$with_xpm;
+fi
 
-fi;
 
-# Check whether --with-xpm2 or --without-xpm2 was given.
+# Check whether --with-xpm2 was given.
 if test "${with_xpm2+set}" = set; then
-  withval="$with_xpm2"
+  withval=$with_xpm2;
+fi
 
-fi;
 
-# Check whether --with-magic or --without-magic was given.
+# Check whether --with-magic was given.
 if test "${with_magic+set}" = set; then
-  withval="$with_magic"
+  withval=$with_magic;
+fi
 
-fi;
 
-# Check whether --with-magic2 or --without-magic2 was given.
+# Check whether --with-magic2 was given.
 if test "${with_magic2+set}" = set; then
-  withval="$with_magic2"
+  withval=$with_magic2;
+fi
 
-fi;
 
-# Check whether --with-curl or --without-curl was given.
+# Check whether --with-curl was given.
 if test "${with_curl+set}" = set; then
-  withval="$with_curl"
+  withval=$with_curl;
+fi
 
-fi;
 
-# Check whether --with-curl2 or --without-curl2 was given.
+# Check whether --with-curl2 was given.
 if test "${with_curl2+set}" = set; then
-  withval="$with_curl2"
+  withval=$with_curl2;
+fi
 
-fi;
 
-# Check whether --with-mimetic or --without-mimetic was given.
+# Check whether --with-mimetic was given.
 if test "${with_mimetic+set}" = set; then
-  withval="$with_mimetic"
+  withval=$with_mimetic;
+fi
 
-fi;
 
-# Check whether --with-mimetic2 or --without-mimetic2 was given.
+# Check whether --with-mimetic2 was given.
 if test "${with_mimetic2+set}" = set; then
-  withval="$with_mimetic2"
+  withval=$with_mimetic2;
+fi
+
+
+# Check whether --with-gsoap was given.
+if test "${with_gsoap+set}" = set; then
+  withval=$with_gsoap;
+fi
+
+
+# Check whether --with-gsoap2 was given.
+if test "${with_gsoap2+set}" = set; then
+  withval=$with_gsoap2;
+fi
+
+
+# Check whether --with-mongodb was given.
+if test "${with_mongodb+set}" = set; then
+  withval=$with_mongodb;
+fi
 
-fi;
 
-# Check whether --with-3psw or --without-3psw was given.
+# Check whether --with-mongodb2 was given.
+if test "${with_mongodb2+set}" = set; then
+  withval=$with_mongodb2;
+fi
+
+
+# Check whether --with-3psw was given.
 if test "${with_3psw+set}" = set; then
-  withval="$with_3psw"
+  withval=$with_3psw;
+fi
 
-fi;
 
-# Check whether --with-3psw2 or --without-3psw2 was given.
+# Check whether --with-3psw2 was given.
 if test "${with_3psw2+set}" = set; then
-  withval="$with_3psw2"
+  withval=$with_3psw2;
+fi
 
-fi;
 
 ## Optional projects
 
-# Check whether --with-local-lbsm or --without-local-lbsm was given.
+# Check whether --with-local-lbsm was given.
 if test "${with_local_lbsm+set}" = set; then
-  withval="$with_local_lbsm"
+  withval=$with_local_lbsm;
+fi
 
-fi;
 
-# Check whether --with-ncbi-crypt or --without-ncbi-crypt was given.
+# Check whether --with-ncbi-crypt was given.
 if test "${with_ncbi_crypt+set}" = set; then
-  withval="$with_ncbi_crypt"
+  withval=$with_ncbi_crypt;
+fi
 
-fi;
 
-# Check whether --with-connext or --without-connext was given.
+# Check whether --with-connext was given.
 if test "${with_connext+set}" = set; then
-  withval="$with_connext"
+  withval=$with_connext;
+fi
 
-fi;
 
-# Check whether --with-serial or --without-serial was given.
+# Check whether --with-serial was given.
 if test "${with_serial+set}" = set; then
-  withval="$with_serial"
+  withval=$with_serial;
+fi
 
-fi;
 
-# Check whether --with-objects or --without-objects was given.
+# Check whether --with-objects was given.
 if test "${with_objects+set}" = set; then
-  withval="$with_objects"
+  withval=$with_objects;
+fi
 
-fi;
 
-# Check whether --with-dbapi or --without-dbapi was given.
+# Check whether --with-dbapi was given.
 if test "${with_dbapi+set}" = set; then
-  withval="$with_dbapi"
+  withval=$with_dbapi;
+fi
 
-fi;
 
-# Check whether --with-app or --without-app was given.
+# Check whether --with-app was given.
 if test "${with_app+set}" = set; then
-  withval="$with_app"
+  withval=$with_app;
+fi
 
-fi;
 
-# Check whether --with-ctools or --without-ctools was given.
+# Check whether --with-ctools was given.
 if test "${with_ctools+set}" = set; then
-  withval="$with_ctools"
+  withval=$with_ctools;
+fi
 
-fi;
 
-# Check whether --with-gui or --without-gui was given.
+# Check whether --with-gui was given.
 if test "${with_gui+set}" = set; then
-  withval="$with_gui"
+  withval=$with_gui;
+fi
 
-fi;
 
-# Check whether --with-algo or --without-algo was given.
+# Check whether --with-algo was given.
 if test "${with_algo+set}" = set; then
-  withval="$with_algo"
+  withval=$with_algo;
+fi
 
-fi;
 
-# Check whether --with-internal or --without-internal was given.
+# Check whether --with-internal was given.
 if test "${with_internal+set}" = set; then
-  withval="$with_internal"
+  withval=$with_internal;
+fi
 
-fi;
 
-# Check whether --with-internal2 or --without-internal2 was given.
+# Check whether --with-internal2 was given.
 if test "${with_internal2+set}" = set; then
-  withval="$with_internal2"
+  withval=$with_internal2;
+fi
 
-fi;
 
-# Check whether --with-gbench or --without-gbench was given.
+# Check whether --with-gbench was given.
 if test "${with_gbench+set}" = set; then
-  withval="$with_gbench"
+  withval=$with_gbench;
+fi
 
-fi;
 
-# Check whether --with-gbench2 or --without-gbench2 was given.
+# Check whether --with-gbench2 was given.
 if test "${with_gbench2+set}" = set; then
-  withval="$with_gbench2"
+  withval=$with_gbench2;
+fi
 
-fi;
 
 ## Manuals
 
-# Check whether --with-manuals or --without-manuals was given.
+# Check whether --with-manuals was given.
 if test "${with_manuals+set}" = set; then
-  withval="$with_manuals"
-
-fi;
-
-
-#### Check the passed arguments against the list of available ones
-x_with_list="\
-debug max-debug symbols optimization profiling tcheck dll static static-exe \
-plugin-auto-load bundles bin-release mt 64 universal exe runpath hard-runpath \
-lfs limited-linker \
-autodep suffix hostspec version execopy bincopy lib-rebuilds lib-rebuilds=ask \
-deactivation makefile-auto-update projects flat-makefile configure-dialog \
-check ncbi-public strip pch caution ccache distcc \
-ncbi-c wxwidgets wxwidgets-ucs fastcgi sss sssdb sssutils included-sss \
-geo included-geo \
-z bz2 lzo pcre gcrypt gnutls openssl krb5 sybase sybase-local sybase-new \
-ftds mysql orbacus freetype ftgl opengl mesa glut glew glew-mx \
-bdb python perl jni sqlite3 icu boost boost-tag \
-sp expat sablot libxml libxslt libexslt xerces xalan zorba \
-oechem sge muparser hdf5 \
-gif jpeg tiff png xpm magic curl mimetic 3psw \
-local-lbsm ncbi-crypt connext \
-serial objects dbapi app ctools gui algo internal gbench"
-
-x_with_list=`echo "$x_with_list" | sed 's/\([^ ][^ ]*\)/--with-\1 --without-\1/g'`
-
-
-for x_arg in "$@" ; do
-   if test -z "$x_arg" ; then
-      continue
+  withval=$with_manuals;
    fi
 
-   x_okay=
-   for x_desc in $x_with_list ; do
-      if test "$x_arg" = "$x_desc" ; then
-         x_okay="okay"
-         break
-      fi
-   done
-   if test "$x_okay" = "okay" ; then
-      continue
-   fi
 
-   case "$x_arg" in
-      --with-extra-action= | --exec-prefix= | --with-projects= | --srcdir= \
-      | --cache-file= | --build= | --host= | --target= | --with-runpath= \
-      | --with-relative-runpath= | --x-includes= | --x-libraries= )
-      { { echo "$as_me:$LINENO: error: $x_arg:  requires value;  use --help to show usage" >&5
-echo "$as_me: error: $x_arg:  requires value;  use --help to show usage" >&2;}
-   { (exit 1); exit 1; }; }
-      ;;
 
-      --with-extra-action=* | --with-build-root=* | --with-build-root-sfx=* \
-      | --with-fake-root=* | --with-saved-settings=* \
-      | --with-projects=* | --with-check=* | --with-check-tools=* \
-      | --with-universal=* | --with-tcheck=* \
-      | --cache-file=* | --build=* | --host=* | --prefix=* | --exec-prefix=* \
-      | --libdir=* | --bindir=* | --includedir=* | --srcdir=* \
-      | [A-Z]*=* \
-      | --with-z=* | --with-bz2=* | --with-lzo=* \
-      | --with-pcre=* \
-      | --with-gcrypt=* | --with-gnutls=* | --with-openssl=* \
-      | --with-krb5=* | --with-curl=* \
-      | --with-sybase-local=* | --with-wxwidgets=* | --with-mimetic=* \
-      | --with-ftds=* | --with-mysql=* | --with-fastcgi=* \
-      | --with-sqlite3=* | --with-expat=* | --with-sablot=* \
-      | --with-icu=* | --with-xerces=* | --with-xalan=* | --with-zorba=* \
-      | --with-libxml=* | --with-libxslt=* | --with-exslt=* \
-      | --with-bdb=* | --with-odbc=* | --with-python=* | --with-perl=* \
-      | --with-freetype=* | --with-ftgl=* | --with-gif=* | --with-jpeg=* \
-      | --with-png=* | --with-tiff=* | --with-xpm=* | --with-opengl=* \
-      | --with-mesa=* | --with-glut=* | --with-glew=* | --with-oechem=* \
-      | --with-boost=* | --with-boost-tag=* | --with-orbacus=* | --with-sge=* \
-      | --with-muparser=* | --with-hdf5=* | --with-jni=* | --with-magic=* \
-      | --x-includes=* | --x-libraries=* | --with-3psw=* \
-      | --target=* | --with-runpath=* | --with-relative-runpath=* \
-      | --no-create | --no-recursion)
-      ;;
 
-      * )
-      { { echo "$as_me:$LINENO: error: $x_arg:  unknown option;  use --help to show usage" >&5
-echo "$as_me: error: $x_arg:  unknown option;  use --help to show usage" >&2;}
-   { (exit 1); exit 1; }; }
-      ;;
-   esac
-done
 
 
 if test "$with_gbench" = "yes" ; then
@@ -3142,6 +3951,15 @@
     : ${with_optimization=no}
 fi
 
+if test "$with_openmp" = yes; then
+   if test "$with_mt" = no; then
+      { { echo "$as_me:$LINENO: error: incompatible options: --without-mt but --with-openmp" >&5
+echo "$as_me: error: incompatible options: --without-mt but --with-openmp" >&2;}
+   { (exit 1); exit 1; }; }
+   fi
+   : ${with_mt=yes}
+fi
+
 #### Check for special options
 if test "$with_extra_action" = "yes" ; then
    { { echo "$as_me:$LINENO: error: --with-extra-action must have a value after =" >&5
@@ -3201,6 +4019,10 @@
       *\ -O* | *\ -xO* ) skip_fast_flags=yes ;;
    esac
 fi
+# Generally save any originally specified flags.
+USER_CFLAGS=$CFLAGS
+USER_CXXFLAGS=$CXXFLAGS
+USER_LDFLAGS=$LDFLAGS
 
 #### Always define this
 
@@ -3212,82 +4034,117 @@
 
 #### Get the running host's properties
 ac_aux_dir=
-for ac_dir in src/build-system $srcdir/src/build-system; do
-  if test -f $ac_dir/install-sh; then
+for ac_dir in src/build-system "$srcdir"/src/build-system; do
+  if test -f "$ac_dir/install-sh"; then
     ac_aux_dir=$ac_dir
     ac_install_sh="$ac_aux_dir/install-sh -c"
     break
-  elif test -f $ac_dir/install.sh; then
+  elif test -f "$ac_dir/install.sh"; then
     ac_aux_dir=$ac_dir
     ac_install_sh="$ac_aux_dir/install.sh -c"
     break
-  elif test -f $ac_dir/shtool; then
+  elif test -f "$ac_dir/shtool"; then
     ac_aux_dir=$ac_dir
     ac_install_sh="$ac_aux_dir/shtool install -c"
     break
   fi
 done
 if test -z "$ac_aux_dir"; then
-  { { echo "$as_me:$LINENO: error: cannot find install-sh or install.sh in src/build-system $srcdir/src/build-system" >&5
-echo "$as_me: error: cannot find install-sh or install.sh in src/build-system $srcdir/src/build-system" >&2;}
+  { { echo "$as_me:$LINENO: error: cannot find install-sh or install.sh in src/build-system \"$srcdir\"/src/build-system" >&5
+echo "$as_me: error: cannot find install-sh or install.sh in src/build-system \"$srcdir\"/src/build-system" >&2;}
    { (exit 1); exit 1; }; }
 fi
-ac_config_guess="$SHELL $ac_aux_dir/config.guess"
-ac_config_sub="$SHELL $ac_aux_dir/config.sub"
-ac_configure="$SHELL $ac_aux_dir/configure" # This should be Cygnus configure.
+
+# These three variables are undocumented and unsupported,
+# and are intended to be withdrawn in a future Autoconf release.
+# They can cause serious problems if a builder's source tree is in a directory
+# whose full name contains unusual characters.
+ac_config_guess="$SHELL $ac_aux_dir/config.guess"  # Please don't use this var.
+ac_config_sub="$SHELL $ac_aux_dir/config.sub"  # Please don't use this var.
+ac_configure="$SHELL $ac_aux_dir/configure"  # Please don't use this var.
+
 
 # Make sure we can run config.sub.
-$ac_config_sub sun4 >/dev/null 2>&1 ||
-  { { echo "$as_me:$LINENO: error: cannot run $ac_config_sub" >&5
-echo "$as_me: error: cannot run $ac_config_sub" >&2;}
+$SHELL "$ac_aux_dir/config.sub" sun4 >/dev/null 2>&1 ||
+  { { echo "$as_me:$LINENO: error: cannot run $SHELL $ac_aux_dir/config.sub" >&5
+echo "$as_me: error: cannot run $SHELL $ac_aux_dir/config.sub" >&2;}
    { (exit 1); exit 1; }; }
 
-echo "$as_me:$LINENO: checking build system type" >&5
-echo $ECHO_N "checking build system type... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking build system type" >&5
+echo $ECHO_N "checking build system type... $ECHO_C" >&6; }
 if test "${ac_cv_build+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  ac_cv_build_alias=$build_alias
-test -z "$ac_cv_build_alias" &&
-  ac_cv_build_alias=`$ac_config_guess`
-test -z "$ac_cv_build_alias" &&
+  ac_build_alias=$build_alias
+test "x$ac_build_alias" = x &&
+  ac_build_alias=`$SHELL "$ac_aux_dir/config.guess"`
+test "x$ac_build_alias" = x &&
   { { echo "$as_me:$LINENO: error: cannot guess build type; you must specify one" >&5
 echo "$as_me: error: cannot guess build type; you must specify one" >&2;}
    { (exit 1); exit 1; }; }
-ac_cv_build=`$ac_config_sub $ac_cv_build_alias` ||
-  { { echo "$as_me:$LINENO: error: $ac_config_sub $ac_cv_build_alias failed" >&5
-echo "$as_me: error: $ac_config_sub $ac_cv_build_alias failed" >&2;}
+ac_cv_build=`$SHELL "$ac_aux_dir/config.sub" $ac_build_alias` ||
+  { { echo "$as_me:$LINENO: error: $SHELL $ac_aux_dir/config.sub $ac_build_alias failed" >&5
+echo "$as_me: error: $SHELL $ac_aux_dir/config.sub $ac_build_alias failed" >&2;}
    { (exit 1); exit 1; }; }
 
 fi
-echo "$as_me:$LINENO: result: $ac_cv_build" >&5
-echo "${ECHO_T}$ac_cv_build" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_build" >&5
+echo "${ECHO_T}$ac_cv_build" >&6; }
+case $ac_cv_build in
+*-*-*) ;;
+*) { { echo "$as_me:$LINENO: error: invalid value of canonical build" >&5
+echo "$as_me: error: invalid value of canonical build" >&2;}
+   { (exit 1); exit 1; }; };;
+esac
 build=$ac_cv_build
-build_cpu=`echo $ac_cv_build | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\1/'`
-build_vendor=`echo $ac_cv_build | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\2/'`
-build_os=`echo $ac_cv_build | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\3/'`
+ac_save_IFS=$IFS; IFS='-'
+set x $ac_cv_build
+shift
+build_cpu=$1
+build_vendor=$2
+shift; shift
+# Remember, the first character of IFS is used to create $*,
+# except with old shells:
+build_os=$*
+IFS=$ac_save_IFS
+case $build_os in *\ *) build_os=`echo "$build_os" | sed 's/ /-/g'`;; esac
 
 
-echo "$as_me:$LINENO: checking host system type" >&5
-echo $ECHO_N "checking host system type... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking host system type" >&5
+echo $ECHO_N "checking host system type... $ECHO_C" >&6; }
 if test "${ac_cv_host+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  ac_cv_host_alias=$host_alias
-test -z "$ac_cv_host_alias" &&
-  ac_cv_host_alias=$ac_cv_build_alias
-ac_cv_host=`$ac_config_sub $ac_cv_host_alias` ||
-  { { echo "$as_me:$LINENO: error: $ac_config_sub $ac_cv_host_alias failed" >&5
-echo "$as_me: error: $ac_config_sub $ac_cv_host_alias failed" >&2;}
+  if test "x$host_alias" = x; then
+  ac_cv_host=$ac_cv_build
+else
+  ac_cv_host=`$SHELL "$ac_aux_dir/config.sub" $host_alias` ||
+    { { echo "$as_me:$LINENO: error: $SHELL $ac_aux_dir/config.sub $host_alias failed" >&5
+echo "$as_me: error: $SHELL $ac_aux_dir/config.sub $host_alias failed" >&2;}
    { (exit 1); exit 1; }; }
+fi
 
 fi
-echo "$as_me:$LINENO: result: $ac_cv_host" >&5
-echo "${ECHO_T}$ac_cv_host" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_host" >&5
+echo "${ECHO_T}$ac_cv_host" >&6; }
+case $ac_cv_host in
+*-*-*) ;;
+*) { { echo "$as_me:$LINENO: error: invalid value of canonical host" >&5
+echo "$as_me: error: invalid value of canonical host" >&2;}
+   { (exit 1); exit 1; }; };;
+esac
 host=$ac_cv_host
-host_cpu=`echo $ac_cv_host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\1/'`
-host_vendor=`echo $ac_cv_host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\2/'`
-host_os=`echo $ac_cv_host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\3/'`
+ac_save_IFS=$IFS; IFS='-'
+set x $ac_cv_host
+shift
+host_cpu=$1
+host_vendor=$2
+shift; shift
+# Remember, the first character of IFS is used to create $*,
+# except with old shells:
+host_os=$*
+IFS=$ac_save_IFS
+case $host_os in *\ *) host_os=`echo "$host_os" | sed 's/ /-/g'`;; esac
 
 
 
@@ -3326,8 +4183,8 @@
 # SVR4 /usr/ucb/install, which tries to use the nonexistent group "staff"
 # OS/2's system install, which has a completely different semantic
 # ./install, which can be erroneously created by make from ./install.sh.
-echo "$as_me:$LINENO: checking for a BSD-compatible install" >&5
-echo $ECHO_N "checking for a BSD-compatible install... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking for a BSD-compatible install" >&5
+echo $ECHO_N "checking for a BSD-compatible install... $ECHO_C" >&6; }
 if test -z "$INSTALL"; then
 if test "${ac_cv_path_install+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
@@ -3349,7 +4206,7 @@
     # by default.
     for ac_prog in ginstall scoinst install; do
       for ac_exec_ext in '' $ac_executable_extensions; do
-	if $as_executable_p "$as_dir/$ac_prog$ac_exec_ext"; then
+	if { test -f "$as_dir/$ac_prog$ac_exec_ext" && $as_executable_p "$as_dir/$ac_prog$ac_exec_ext"; }; then
 	  if test $ac_prog = install &&
 	    grep dspmsg "$as_dir/$ac_prog$ac_exec_ext" >/dev/null 2>&1; then
 	    # AIX install.  It has an incompatible calling convention.
@@ -3368,21 +4225,22 @@
     ;;
 esac
 done
+IFS=$as_save_IFS
 
 
 fi
   if test "${ac_cv_path_install+set}" = set; then
     INSTALL=$ac_cv_path_install
   else
-    # As a last resort, use the slow shell script.  We don't cache a
-    # path for INSTALL within a source directory, because that will
+    # As a last resort, use the slow shell script.  Don't cache a
+    # value for INSTALL within a source directory, because that will
     # break other packages using the cache if that directory is
-    # removed, or if the path is relative.
+    # removed, or if the value is a relative name.
     INSTALL=$ac_install_sh
   fi
 fi
-echo "$as_me:$LINENO: result: $INSTALL" >&5
-echo "${ECHO_T}$INSTALL" >&6
+{ echo "$as_me:$LINENO: result: $INSTALL" >&5
+echo "${ECHO_T}$INSTALL" >&6; }
 
 # Use test -z because SunOS4 sh mishandles braces in ${var-val}.
 # It thinks the first close brace ends the variable substitution.
@@ -3393,9 +4251,26 @@
 test -z "$INSTALL_DATA" && INSTALL_DATA='${INSTALL} -m 644'
 
 
+#### Point ICC at a suitable GCC version ASAP.
+case "/$CXX" in
+   */icpc )
+      if test -d /usr/local/gcc; then
+         case "`$CXX -dumpversion`:$host_cpu" in
+            *:i?86)           v=4.4.5 ;;
+            ?.* | 1[01].* ) v=4.0.1 ;;
+            *)                v=4.4.2 ;;
+         esac
+         gcc=/usr/local/gcc/$v/bin/gcc
+         if test -x $gcc; then
+            CC="$CC -gcc-name=$gcc"
+            CXX="$CXX -gcc-name=$gcc"
+         fi
+      fi
+      ;;
+esac
 
 #### C and C++ compilers
-ac_ext=cc
+ac_ext=cpp
 ac_cpp='$CXXCPP $CPPFLAGS'
 ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
 ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
@@ -3409,8 +4284,8 @@
 if test -n "$ac_tool_prefix"; then
   # Extract the first word of "${ac_tool_prefix}gcc", so it can be a program name with args.
 set dummy ${ac_tool_prefix}gcc; ac_word=$2
-echo "$as_me:$LINENO: checking for $ac_word" >&5
-echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
 if test "${ac_cv_prog_CC+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -3423,32 +4298,34 @@
   IFS=$as_save_IFS
   test -z "$as_dir" && as_dir=.
   for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
+  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; }; then
     ac_cv_prog_CC="${ac_tool_prefix}gcc"
     echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
     break 2
   fi
 done
 done
+IFS=$as_save_IFS
 
 fi
 fi
 CC=$ac_cv_prog_CC
 if test -n "$CC"; then
-  echo "$as_me:$LINENO: result: $CC" >&5
-echo "${ECHO_T}$CC" >&6
+  { echo "$as_me:$LINENO: result: $CC" >&5
+echo "${ECHO_T}$CC" >&6; }
 else
-  echo "$as_me:$LINENO: result: no" >&5
-echo "${ECHO_T}no" >&6
+  { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
 fi
 
+
 fi
 if test -z "$ac_cv_prog_CC"; then
   ac_ct_CC=$CC
   # Extract the first word of "gcc", so it can be a program name with args.
 set dummy gcc; ac_word=$2
-echo "$as_me:$LINENO: checking for $ac_word" >&5
-echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
 if test "${ac_cv_prog_ac_ct_CC+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -3461,26 +4338,41 @@
   IFS=$as_save_IFS
   test -z "$as_dir" && as_dir=.
   for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
+  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; }; then
     ac_cv_prog_ac_ct_CC="gcc"
     echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
     break 2
   fi
 done
 done
+IFS=$as_save_IFS
 
 fi
 fi
 ac_ct_CC=$ac_cv_prog_ac_ct_CC
 if test -n "$ac_ct_CC"; then
-  echo "$as_me:$LINENO: result: $ac_ct_CC" >&5
-echo "${ECHO_T}$ac_ct_CC" >&6
+  { echo "$as_me:$LINENO: result: $ac_ct_CC" >&5
+echo "${ECHO_T}$ac_ct_CC" >&6; }
 else
-  echo "$as_me:$LINENO: result: no" >&5
-echo "${ECHO_T}no" >&6
+  { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
 fi
 
+  if test "x$ac_ct_CC" = x; then
+    CC=""
+  else
+    case $cross_compiling:$ac_tool_warned in
+yes:)
+{ echo "$as_me:$LINENO: WARNING: In the future, Autoconf will not detect cross-tools
+whose name does not start with the host triplet.  If you think this
+configuration is useful to you, please write to autoconf@gnu.org." >&5
+echo "$as_me: WARNING: In the future, Autoconf will not detect cross-tools
+whose name does not start with the host triplet.  If you think this
+configuration is useful to you, please write to autoconf@gnu.org." >&2;}
+ac_tool_warned=yes ;;
+esac
   CC=$ac_ct_CC
+  fi
 else
   CC="$ac_cv_prog_CC"
 fi
@@ -3489,8 +4381,8 @@
   if test -n "$ac_tool_prefix"; then
   # Extract the first word of "${ac_tool_prefix}cc", so it can be a program name with args.
 set dummy ${ac_tool_prefix}cc; ac_word=$2
-echo "$as_me:$LINENO: checking for $ac_word" >&5
-echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
 if test "${ac_cv_prog_CC+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -3503,131 +4395,93 @@
   IFS=$as_save_IFS
   test -z "$as_dir" && as_dir=.
   for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
+  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; }; then
     ac_cv_prog_CC="${ac_tool_prefix}cc"
     echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
     break 2
   fi
 done
 done
+IFS=$as_save_IFS
 
 fi
 fi
 CC=$ac_cv_prog_CC
 if test -n "$CC"; then
-  echo "$as_me:$LINENO: result: $CC" >&5
-echo "${ECHO_T}$CC" >&6
+  { echo "$as_me:$LINENO: result: $CC" >&5
+echo "${ECHO_T}$CC" >&6; }
 else
-  echo "$as_me:$LINENO: result: no" >&5
-echo "${ECHO_T}no" >&6
+  { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
 fi
 
+
 fi
-if test -z "$ac_cv_prog_CC"; then
-  ac_ct_CC=$CC
+fi
+if test -z "$CC"; then
   # Extract the first word of "cc", so it can be a program name with args.
 set dummy cc; ac_word=$2
-echo "$as_me:$LINENO: checking for $ac_word" >&5
-echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
-if test "${ac_cv_prog_ac_ct_CC+set}" = set; then
+{ echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
+if test "${ac_cv_prog_CC+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  if test -n "$ac_ct_CC"; then
-  ac_cv_prog_ac_ct_CC="$ac_ct_CC" # Let the user override the test.
+  if test -n "$CC"; then
+  ac_cv_prog_CC="$CC" # Let the user override the test.
 else
+  ac_prog_rejected=no
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
 for as_dir in $PATH
 do
   IFS=$as_save_IFS
   test -z "$as_dir" && as_dir=.
   for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
-    ac_cv_prog_ac_ct_CC="cc"
+  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; }; then
+    if test "$as_dir/$ac_word$ac_exec_ext" = "/usr/ucb/cc"; then
+       ac_prog_rejected=yes
+       continue
+     fi
+    ac_cv_prog_CC="cc"
     echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
     break 2
   fi
 done
 done
+IFS=$as_save_IFS
 
-fi
-fi
-ac_ct_CC=$ac_cv_prog_ac_ct_CC
-if test -n "$ac_ct_CC"; then
-  echo "$as_me:$LINENO: result: $ac_ct_CC" >&5
-echo "${ECHO_T}$ac_ct_CC" >&6
-else
-  echo "$as_me:$LINENO: result: no" >&5
-echo "${ECHO_T}no" >&6
-fi
-
-  CC=$ac_ct_CC
-else
-  CC="$ac_cv_prog_CC"
-fi
-
-fi
-if test -z "$CC"; then
-  # Extract the first word of "cc", so it can be a program name with args.
-set dummy cc; ac_word=$2
-echo "$as_me:$LINENO: checking for $ac_word" >&5
-echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
-if test "${ac_cv_prog_CC+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  if test -n "$CC"; then
-  ac_cv_prog_CC="$CC" # Let the user override the test.
-else
-  ac_prog_rejected=no
-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
-for as_dir in $PATH
-do
-  IFS=$as_save_IFS
-  test -z "$as_dir" && as_dir=.
-  for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
-    if test "$as_dir/$ac_word$ac_exec_ext" = "/usr/ucb/cc"; then
-       ac_prog_rejected=yes
-       continue
-     fi
-    ac_cv_prog_CC="cc"
-    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
-    break 2
-  fi
-done
-done
-
-if test $ac_prog_rejected = yes; then
-  # We found a bogon in the path, so make sure we never use it.
-  set dummy $ac_cv_prog_CC
-  shift
-  if test $# != 0; then
-    # We chose a different compiler from the bogus one.
-    # However, it has the same basename, so the bogon will be chosen
-    # first if we set CC to just the basename; use the full file name.
-    shift
-    ac_cv_prog_CC="$as_dir/$ac_word${1+' '}$@"
+if test $ac_prog_rejected = yes; then
+  # We found a bogon in the path, so make sure we never use it.
+  set dummy $ac_cv_prog_CC
+  shift
+  if test $# != 0; then
+    # We chose a different compiler from the bogus one.
+    # However, it has the same basename, so the bogon will be chosen
+    # first if we set CC to just the basename; use the full file name.
+    shift
+    ac_cv_prog_CC="$as_dir/$ac_word${1+' '}$@"
   fi
 fi
 fi
 fi
 CC=$ac_cv_prog_CC
 if test -n "$CC"; then
-  echo "$as_me:$LINENO: result: $CC" >&5
-echo "${ECHO_T}$CC" >&6
+  { echo "$as_me:$LINENO: result: $CC" >&5
+echo "${ECHO_T}$CC" >&6; }
 else
-  echo "$as_me:$LINENO: result: no" >&5
-echo "${ECHO_T}no" >&6
+  { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
 fi
 
+
 fi
 if test -z "$CC"; then
   if test -n "$ac_tool_prefix"; then
-  for ac_prog in cl
+  for ac_prog in cl.exe
   do
     # Extract the first word of "$ac_tool_prefix$ac_prog", so it can be a program name with args.
 set dummy $ac_tool_prefix$ac_prog; ac_word=$2
-echo "$as_me:$LINENO: checking for $ac_word" >&5
-echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
 if test "${ac_cv_prog_CC+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -3640,36 +4494,38 @@
   IFS=$as_save_IFS
   test -z "$as_dir" && as_dir=.
   for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
+  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; }; then
     ac_cv_prog_CC="$ac_tool_prefix$ac_prog"
     echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
     break 2
   fi
 done
 done
+IFS=$as_save_IFS
 
 fi
 fi
 CC=$ac_cv_prog_CC
 if test -n "$CC"; then
-  echo "$as_me:$LINENO: result: $CC" >&5
-echo "${ECHO_T}$CC" >&6
+  { echo "$as_me:$LINENO: result: $CC" >&5
+echo "${ECHO_T}$CC" >&6; }
 else
-  echo "$as_me:$LINENO: result: no" >&5
-echo "${ECHO_T}no" >&6
+  { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
 fi
 
+
     test -n "$CC" && break
   done
 fi
 if test -z "$CC"; then
   ac_ct_CC=$CC
-  for ac_prog in cl
+  for ac_prog in cl.exe
 do
   # Extract the first word of "$ac_prog", so it can be a program name with args.
 set dummy $ac_prog; ac_word=$2
-echo "$as_me:$LINENO: checking for $ac_word" >&5
-echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
 if test "${ac_cv_prog_ac_ct_CC+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -3682,30 +4538,46 @@
   IFS=$as_save_IFS
   test -z "$as_dir" && as_dir=.
   for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
+  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; }; then
     ac_cv_prog_ac_ct_CC="$ac_prog"
     echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
     break 2
   fi
 done
 done
+IFS=$as_save_IFS
 
 fi
 fi
 ac_ct_CC=$ac_cv_prog_ac_ct_CC
 if test -n "$ac_ct_CC"; then
-  echo "$as_me:$LINENO: result: $ac_ct_CC" >&5
-echo "${ECHO_T}$ac_ct_CC" >&6
+  { echo "$as_me:$LINENO: result: $ac_ct_CC" >&5
+echo "${ECHO_T}$ac_ct_CC" >&6; }
 else
-  echo "$as_me:$LINENO: result: no" >&5
-echo "${ECHO_T}no" >&6
+  { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
 fi
 
+
   test -n "$ac_ct_CC" && break
 done
 
+  if test "x$ac_ct_CC" = x; then
+    CC=""
+  else
+    case $cross_compiling:$ac_tool_warned in
+yes:)
+{ echo "$as_me:$LINENO: WARNING: In the future, Autoconf will not detect cross-tools
+whose name does not start with the host triplet.  If you think this
+configuration is useful to you, please write to autoconf@gnu.org." >&5
+echo "$as_me: WARNING: In the future, Autoconf will not detect cross-tools
+whose name does not start with the host triplet.  If you think this
+configuration is useful to you, please write to autoconf@gnu.org." >&2;}
+ac_tool_warned=yes ;;
+esac
   CC=$ac_ct_CC
 fi
+fi
 
 fi
 
@@ -3717,21 +4589,35 @@
    { (exit 1); exit 1; }; }
 
 # Provide some information about the compiler.
-echo "$as_me:$LINENO:" \
-     "checking for C compiler version" >&5
+echo "$as_me:$LINENO: checking for C compiler version" >&5
 ac_compiler=`set X $ac_compile; echo $2`
-{ (eval echo "$as_me:$LINENO: \"$ac_compiler --version </dev/null >&5\"") >&5
-  (eval $ac_compiler --version </dev/null >&5) 2>&5
+{ (ac_try="$ac_compiler --version >&5"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compiler --version >&5") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }
-{ (eval echo "$as_me:$LINENO: \"$ac_compiler -v </dev/null >&5\"") >&5
-  (eval $ac_compiler -v </dev/null >&5) 2>&5
+{ (ac_try="$ac_compiler -v >&5"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compiler -v >&5") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }
-{ (eval echo "$as_me:$LINENO: \"$ac_compiler -V </dev/null >&5\"") >&5
-  (eval $ac_compiler -V </dev/null >&5) 2>&5
+{ (ac_try="$ac_compiler -V >&5"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compiler -V >&5") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }
@@ -3756,46 +4642,70 @@
 # Try to create an executable without -o first, disregard a.out.
 # It will help us diagnose broken compilers, and finding out an intuition
 # of exeext.
-echo "$as_me:$LINENO: checking for C compiler default output file name" >&5
-echo $ECHO_N "checking for C compiler default output file name... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking for C compiler default output file name" >&5
+echo $ECHO_N "checking for C compiler default output file name... $ECHO_C" >&6; }
 ac_link_default=`echo "$ac_link" | sed 's/ -o *conftest[^ ]*//'`
-if { (eval echo "$as_me:$LINENO: \"$ac_link_default\"") >&5
-  (eval $ac_link_default) 2>&5
+#
+# List of possible output files, starting from the most likely.
+# The algorithm is not robust to junk in `.', hence go to wildcards (a.*)
+# only as a last resort.  b.out is created by i960 compilers.
+ac_files='a_out.exe a.exe conftest.exe a.out conftest a.* conftest.* b.out'
+#
+# The IRIX 6 linker writes into existing files which may not be
+# executable, retaining their permissions.  Remove them first so a
+# subsequent execution test works.
+ac_rmfiles=
+for ac_file in $ac_files
+do
+  case $ac_file in
+    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf | *.o | *.obj ) ;;
+    * ) ac_rmfiles="$ac_rmfiles $ac_file";;
+  esac
+done
+rm -f $ac_rmfiles
+
+if { (ac_try="$ac_link_default"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link_default") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; then
-  # Find the output, starting from the most likely.  This scheme is
-# not robust to junk in `.', hence go to wildcards (a.*) only as a last
-# resort.
-
-# Be careful to initialize this variable, since it used to be cached.
-# Otherwise an old cache value of `no' led to `EXEEXT = no' in a Makefile.
-ac_cv_exeext=
-# b.out is created by i960 compilers.
-for ac_file in a_out.exe a.exe conftest.exe a.out conftest a.* conftest.* b.out
+  # Autoconf-2.13 could set the ac_cv_exeext variable to `no'.
+# So ignore a value of `no', otherwise this would lead to `EXEEXT = no'
+# in a Makefile.  We should not override ac_cv_exeext if it was cached,
+# so that the user can short-circuit this test for compilers unknown to
+# Autoconf.
+for ac_file in $ac_files
 do
   test -f "$ac_file" || continue
   case $ac_file in
-    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.o | *.obj )
-	;;
-    conftest.$ac_ext )
-	# This is the source file.
+    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf | *.o | *.obj )
 	;;
     [ab].out )
 	# We found the default executable, but exeext='' is most
 	# certainly right.
 	break;;
     *.* )
+        if test "${ac_cv_exeext+set}" = set && test "$ac_cv_exeext" != no;
+	then :; else
 	ac_cv_exeext=`expr "$ac_file" : '[^.]*\(\..*\)'`
-	# FIXME: I believe we export ac_cv_exeext for Libtool,
-	# but it would be cool to find out if it's true.  Does anybody
-	# maintain Libtool? --akim.
-	export ac_cv_exeext
+	fi
+	# We set ac_cv_exeext here because the later test for it is not
+	# safe: cross compilers may not add the suffix if given an `-o'
+	# argument, so we may need to know it at that point already.
+	# Even if this section looks crufty: it has the advantage of
+	# actually working.
 	break;;
     * )
 	break;;
   esac
 done
+test "$ac_cv_exeext" = no && ac_cv_exeext=
+
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
@@ -3808,19 +4718,23 @@
 fi
 
 ac_exeext=$ac_cv_exeext
-echo "$as_me:$LINENO: result: $ac_file" >&5
-echo "${ECHO_T}$ac_file" >&6
+{ echo "$as_me:$LINENO: result: $ac_file" >&5
+echo "${ECHO_T}$ac_file" >&6; }
 
-# Check the compiler produces executables we can run.  If not, either
+# Check that the compiler produces executables we can run.  If not, either
 # the compiler is broken, or we cross compile.
-echo "$as_me:$LINENO: checking whether the C compiler works" >&5
-echo $ECHO_N "checking whether the C compiler works... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking whether the C compiler works" >&5
+echo $ECHO_N "checking whether the C compiler works... $ECHO_C" >&6; }
 # FIXME: These cross compiler hacks should be removed for Autoconf 3.0
 # If not cross compiling, check that we can run a simple program.
 if test "$cross_compiling" != yes; then
   if { ac_try='./$ac_file'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -3839,22 +4753,27 @@
     fi
   fi
 fi
-echo "$as_me:$LINENO: result: yes" >&5
-echo "${ECHO_T}yes" >&6
+{ echo "$as_me:$LINENO: result: yes" >&5
+echo "${ECHO_T}yes" >&6; }
 
 rm -f a.out a.exe conftest$ac_cv_exeext b.out
 ac_clean_files=$ac_clean_files_save
-# Check the compiler produces executables we can run.  If not, either
+# Check that the compiler produces executables we can run.  If not, either
 # the compiler is broken, or we cross compile.
-echo "$as_me:$LINENO: checking whether we are cross compiling" >&5
-echo $ECHO_N "checking whether we are cross compiling... $ECHO_C" >&6
-echo "$as_me:$LINENO: result: $cross_compiling" >&5
-echo "${ECHO_T}$cross_compiling" >&6
-
-echo "$as_me:$LINENO: checking for suffix of executables" >&5
-echo $ECHO_N "checking for suffix of executables... $ECHO_C" >&6
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+{ echo "$as_me:$LINENO: checking whether we are cross compiling" >&5
+echo $ECHO_N "checking whether we are cross compiling... $ECHO_C" >&6; }
+{ echo "$as_me:$LINENO: result: $cross_compiling" >&5
+echo "${ECHO_T}$cross_compiling" >&6; }
+
+{ echo "$as_me:$LINENO: checking for suffix of executables" >&5
+echo $ECHO_N "checking for suffix of executables... $ECHO_C" >&6; }
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; then
@@ -3865,9 +4784,8 @@
 for ac_file in conftest.exe conftest conftest.*; do
   test -f "$ac_file" || continue
   case $ac_file in
-    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.o | *.obj ) ;;
+    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf | *.o | *.obj ) ;;
     *.* ) ac_cv_exeext=`expr "$ac_file" : '[^.]*\(\..*\)'`
-	  export ac_cv_exeext
 	  break;;
     * ) break;;
   esac
@@ -3881,14 +4799,14 @@
 fi
 
 rm -f conftest$ac_cv_exeext
-echo "$as_me:$LINENO: result: $ac_cv_exeext" >&5
-echo "${ECHO_T}$ac_cv_exeext" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_exeext" >&5
+echo "${ECHO_T}$ac_cv_exeext" >&6; }
 
 rm -f conftest.$ac_ext
 EXEEXT=$ac_cv_exeext
 ac_exeext=$EXEEXT
-echo "$as_me:$LINENO: checking for suffix of object files" >&5
-echo $ECHO_N "checking for suffix of object files... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking for suffix of object files" >&5
+echo $ECHO_N "checking for suffix of object files... $ECHO_C" >&6; }
 if test "${ac_cv_objext+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -3908,14 +4826,20 @@
 }
 _ACEOF
 rm -f conftest.o conftest.obj
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>&5
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; then
-  for ac_file in `(ls conftest.o conftest.obj; ls conftest.*) 2>/dev/null`; do
+  for ac_file in conftest.o conftest.obj conftest.*; do
+  test -f "$ac_file" || continue;
   case $ac_file in
-    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg ) ;;
+    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf ) ;;
     *) ac_cv_objext=`expr "$ac_file" : '.*\.\(.*\)'`
        break;;
   esac
@@ -3933,12 +4857,12 @@
 
 rm -f conftest.$ac_cv_objext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ac_cv_objext" >&5
-echo "${ECHO_T}$ac_cv_objext" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_objext" >&5
+echo "${ECHO_T}$ac_cv_objext" >&6; }
 OBJEXT=$ac_cv_objext
 ac_objext=$OBJEXT
-echo "$as_me:$LINENO: checking whether we are using the GNU C compiler" >&5
-echo $ECHO_N "checking whether we are using the GNU C compiler... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking whether we are using the GNU C compiler" >&5
+echo $ECHO_N "checking whether we are using the GNU C compiler... $ECHO_C" >&6; }
 if test "${ac_cv_c_compiler_gnu+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -3961,24 +4885,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_c_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -3989,21 +4925,25 @@
 
 ac_compiler_gnu=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 ac_cv_c_compiler_gnu=$ac_compiler_gnu
 
 fi
-echo "$as_me:$LINENO: result: $ac_cv_c_compiler_gnu" >&5
-echo "${ECHO_T}$ac_cv_c_compiler_gnu" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_c_compiler_gnu" >&5
+echo "${ECHO_T}$ac_cv_c_compiler_gnu" >&6; }
 GCC=`test $ac_compiler_gnu = yes && echo yes`
 ac_test_CFLAGS=${CFLAGS+set}
 ac_save_CFLAGS=$CFLAGS
-CFLAGS="-g"
-echo "$as_me:$LINENO: checking whether $CC accepts -g" >&5
-echo $ECHO_N "checking whether $CC accepts -g... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking whether $CC accepts -g" >&5
+echo $ECHO_N "checking whether $CC accepts -g... $ECHO_C" >&6; }
 if test "${ac_cv_prog_cc_g+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
+  ac_save_c_werror_flag=$ac_c_werror_flag
+   ac_c_werror_flag=yes
+   ac_cv_prog_cc_g=no
+   CFLAGS="-g"
   cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -4020,24 +4960,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_c_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -4046,12 +4998,131 @@
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-ac_cv_prog_cc_g=no
+	CFLAGS=""
+      cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+
+int
+main ()
+{
+
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } &&
+	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; }; then
+  :
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+	ac_c_werror_flag=$ac_save_c_werror_flag
+	 CFLAGS="-g"
+	 cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+
+int
+main ()
+{
+
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } &&
+	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; }; then
+  ac_cv_prog_cc_g=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+fi
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+fi
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+   ac_c_werror_flag=$ac_save_c_werror_flag
 fi
-echo "$as_me:$LINENO: result: $ac_cv_prog_cc_g" >&5
-echo "${ECHO_T}$ac_cv_prog_cc_g" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_prog_cc_g" >&5
+echo "${ECHO_T}$ac_cv_prog_cc_g" >&6; }
 if test "$ac_test_CFLAGS" = set; then
   CFLAGS=$ac_save_CFLAGS
 elif test $ac_cv_prog_cc_g = yes; then
@@ -4067,12 +5138,12 @@
     CFLAGS=
   fi
 fi
-echo "$as_me:$LINENO: checking for $CC option to accept ANSI C" >&5
-echo $ECHO_N "checking for $CC option to accept ANSI C... $ECHO_C" >&6
-if test "${ac_cv_prog_cc_stdc+set}" = set; then
+{ echo "$as_me:$LINENO: checking for $CC option to accept ISO C89" >&5
+echo $ECHO_N "checking for $CC option to accept ISO C89... $ECHO_C" >&6; }
+if test "${ac_cv_prog_cc_c89+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  ac_cv_prog_cc_stdc=no
+  ac_cv_prog_cc_c89=no
 ac_save_CC=$CC
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
@@ -4106,12 +5177,17 @@
 /* OSF 4.0 Compaq cc is some sort of almost-ANSI by default.  It has
    function prototypes and stuff, but not '\xHH' hex character constants.
    These don't provoke an error unfortunately, instead are silently treated
-   as 'x'.  The following induces an error, until -std1 is added to get
+   as 'x'.  The following induces an error, until -std is added to get
    proper ANSI mode.  Curiously '\x00'!='x' always comes out true, for an
    array size at least.  It's necessary to write '\x00'==0 to get something
-   that's true only with -std1.  */
+   that's true only with -std.  */
 int osf4_cc_array ['\x00' == 0 ? 1 : -1];
 
+/* IBM C 6 for AIX is almost-ANSI by default, but it replaces macro parameters
+   inside strings and character constants.  */
+#define FOO(x) 'x'
+int xlc6_cc_array[FOO(a) == 'x' ? 1 : -1];
+
 int test (int i, double x);
 struct s1 {int (*f) (int a);};
 struct s2 {int (*f) (double a);};
@@ -4126,265 +5202,140 @@
   return 0;
 }
 _ACEOF
-# Don't try gcc -ansi; that turns off useful extensions and
-# breaks some systems' header files.
-# AIX			-qlanglvl=ansi
-# Ultrix and OSF/1	-std1
-# HP-UX 10.20 and later	-Ae
-# HP-UX older versions	-Aa -D_HPUX_SOURCE
-# SVR4			-Xc -D__EXTENSIONS__
-for ac_arg in "" -qlanglvl=ansi -std1 -Ae "-Aa -D_HPUX_SOURCE" "-Xc -D__EXTENSIONS__"
+for ac_arg in '' -qlanglvl=extc89 -qlanglvl=ansi -std \
+	-Ae "-Aa -D_HPUX_SOURCE" "-Xc -D__EXTENSIONS__"
 do
   CC="$ac_save_CC $ac_arg"
   rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_c_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ac_cv_prog_cc_stdc=$ac_arg
-break
+  ac_cv_prog_cc_c89=$ac_arg
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
+
 fi
-rm -f conftest.err conftest.$ac_objext
+
+rm -f core conftest.err conftest.$ac_objext
+  test "x$ac_cv_prog_cc_c89" != "xno" && break
 done
-rm -f conftest.$ac_ext conftest.$ac_objext
+rm -f conftest.$ac_ext
 CC=$ac_save_CC
 
 fi
-
-case "x$ac_cv_prog_cc_stdc" in
-  x|xno)
-    echo "$as_me:$LINENO: result: none needed" >&5
-echo "${ECHO_T}none needed" >&6 ;;
-  *)
-    echo "$as_me:$LINENO: result: $ac_cv_prog_cc_stdc" >&5
-echo "${ECHO_T}$ac_cv_prog_cc_stdc" >&6
-    CC="$CC $ac_cv_prog_cc_stdc" ;;
+# AC_CACHE_VAL
+case "x$ac_cv_prog_cc_c89" in
+  x)
+    { echo "$as_me:$LINENO: result: none needed" >&5
+echo "${ECHO_T}none needed" >&6; } ;;
+  xno)
+    { echo "$as_me:$LINENO: result: unsupported" >&5
+echo "${ECHO_T}unsupported" >&6; } ;;
+  *)
+    CC="$CC $ac_cv_prog_cc_c89"
+    { echo "$as_me:$LINENO: result: $ac_cv_prog_cc_c89" >&5
+echo "${ECHO_T}$ac_cv_prog_cc_c89" >&6; } ;;
 esac
 
-# Some people use a C++ compiler to compile C.  Since we use `exit',
-# in C++ we need to declare it.  In case someone uses the same compiler
-# for both compiling C and C++ we need to have the C++ compiler decide
-# the declaration of exit, since it's the most demanding environment.
-cat >conftest.$ac_ext <<_ACEOF
-#ifndef __cplusplus
-  choke me
-#endif
-_ACEOF
-rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_c_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
-  ac_status=$?
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); }; } &&
-	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
-  ac_status=$?
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); }; }; then
-  for ac_declaration in \
-   '' \
-   'extern "C" void std::exit (int) throw (); using std::exit;' \
-   'extern "C" void std::exit (int); using std::exit;' \
-   'extern "C" void exit (int) throw ();' \
-   'extern "C" void exit (int);' \
-   'void exit (int);'
+
+ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+if test -z "$CXX"; then
+  if test -n "$CCC"; then
+    CXX=$CCC
+  else
+    if test -n "$ac_tool_prefix"; then
+  for ac_prog in g++ c++ gpp aCC CC cxx cc++ cl.exe FCC KCC RCC xlC_r xlC
 do
-  cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_declaration
-#include <stdlib.h>
-int
-main ()
-{
-exit (42);
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_c_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
-  ac_status=$?
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); }; } &&
-	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
-  ac_status=$?
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); }; }; then
-  :
+    # Extract the first word of "$ac_tool_prefix$ac_prog", so it can be a program name with args.
+set dummy $ac_tool_prefix$ac_prog; ac_word=$2
+{ echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
+if test "${ac_cv_prog_CXX+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-continue
-fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
-  cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_declaration
-int
-main ()
-{
-exit (42);
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_c_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
-  ac_status=$?
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); }; } &&
-	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
-  ac_status=$?
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); }; }; then
-  break
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
-done
-rm -f conftest*
-if test -n "$ac_declaration"; then
-  echo '#ifdef __cplusplus' >>confdefs.h
-  echo $ac_declaration      >>confdefs.h
-  echo '#endif'             >>confdefs.h
-fi
-
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
-ac_ext=cc
-ac_cpp='$CXXCPP $CPPFLAGS'
-ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
-ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
-ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
-
-ac_ext=cc
-ac_cpp='$CXXCPP $CPPFLAGS'
-ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
-ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
-ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
-if test -n "$ac_tool_prefix"; then
-  for ac_prog in $CCC g++ c++ gpp aCC CC cxx cc++ cl FCC KCC RCC xlC_r xlC
-  do
-    # Extract the first word of "$ac_tool_prefix$ac_prog", so it can be a program name with args.
-set dummy $ac_tool_prefix$ac_prog; ac_word=$2
-echo "$as_me:$LINENO: checking for $ac_word" >&5
-echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
-if test "${ac_cv_prog_CXX+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  if test -n "$CXX"; then
-  ac_cv_prog_CXX="$CXX" # Let the user override the test.
-else
-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
-for as_dir in $PATH
-do
-  IFS=$as_save_IFS
-  test -z "$as_dir" && as_dir=.
-  for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
-    ac_cv_prog_CXX="$ac_tool_prefix$ac_prog"
-    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
-    break 2
+  if test -n "$CXX"; then
+  ac_cv_prog_CXX="$CXX" # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+  for ac_exec_ext in '' $ac_executable_extensions; do
+  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; }; then
+    ac_cv_prog_CXX="$ac_tool_prefix$ac_prog"
+    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
+    break 2
   fi
 done
 done
+IFS=$as_save_IFS
 
 fi
 fi
 CXX=$ac_cv_prog_CXX
 if test -n "$CXX"; then
-  echo "$as_me:$LINENO: result: $CXX" >&5
-echo "${ECHO_T}$CXX" >&6
+  { echo "$as_me:$LINENO: result: $CXX" >&5
+echo "${ECHO_T}$CXX" >&6; }
 else
-  echo "$as_me:$LINENO: result: no" >&5
-echo "${ECHO_T}no" >&6
+  { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
 fi
 
+
     test -n "$CXX" && break
   done
 fi
 if test -z "$CXX"; then
   ac_ct_CXX=$CXX
-  for ac_prog in $CCC g++ c++ gpp aCC CC cxx cc++ cl FCC KCC RCC xlC_r xlC
+  for ac_prog in g++ c++ gpp aCC CC cxx cc++ cl.exe FCC KCC RCC xlC_r xlC
 do
   # Extract the first word of "$ac_prog", so it can be a program name with args.
 set dummy $ac_prog; ac_word=$2
-echo "$as_me:$LINENO: checking for $ac_word" >&5
-echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
 if test "${ac_cv_prog_ac_ct_CXX+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -4397,55 +5348,85 @@
   IFS=$as_save_IFS
   test -z "$as_dir" && as_dir=.
   for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
+  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; }; then
     ac_cv_prog_ac_ct_CXX="$ac_prog"
     echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
     break 2
   fi
 done
 done
+IFS=$as_save_IFS
 
 fi
 fi
 ac_ct_CXX=$ac_cv_prog_ac_ct_CXX
 if test -n "$ac_ct_CXX"; then
-  echo "$as_me:$LINENO: result: $ac_ct_CXX" >&5
-echo "${ECHO_T}$ac_ct_CXX" >&6
+  { echo "$as_me:$LINENO: result: $ac_ct_CXX" >&5
+echo "${ECHO_T}$ac_ct_CXX" >&6; }
 else
-  echo "$as_me:$LINENO: result: no" >&5
-echo "${ECHO_T}no" >&6
+  { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
 fi
 
+
   test -n "$ac_ct_CXX" && break
 done
-test -n "$ac_ct_CXX" || ac_ct_CXX="g++"
 
+  if test "x$ac_ct_CXX" = x; then
+    CXX="g++"
+  else
+    case $cross_compiling:$ac_tool_warned in
+yes:)
+{ echo "$as_me:$LINENO: WARNING: In the future, Autoconf will not detect cross-tools
+whose name does not start with the host triplet.  If you think this
+configuration is useful to you, please write to autoconf@gnu.org." >&5
+echo "$as_me: WARNING: In the future, Autoconf will not detect cross-tools
+whose name does not start with the host triplet.  If you think this
+configuration is useful to you, please write to autoconf@gnu.org." >&2;}
+ac_tool_warned=yes ;;
+esac
   CXX=$ac_ct_CXX
 fi
+fi
 
-
+  fi
+fi
 # Provide some information about the compiler.
-echo "$as_me:$LINENO:" \
-     "checking for C++ compiler version" >&5
+echo "$as_me:$LINENO: checking for C++ compiler version" >&5
 ac_compiler=`set X $ac_compile; echo $2`
-{ (eval echo "$as_me:$LINENO: \"$ac_compiler --version </dev/null >&5\"") >&5
-  (eval $ac_compiler --version </dev/null >&5) 2>&5
+{ (ac_try="$ac_compiler --version >&5"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compiler --version >&5") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }
-{ (eval echo "$as_me:$LINENO: \"$ac_compiler -v </dev/null >&5\"") >&5
-  (eval $ac_compiler -v </dev/null >&5) 2>&5
+{ (ac_try="$ac_compiler -v >&5"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compiler -v >&5") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }
-{ (eval echo "$as_me:$LINENO: \"$ac_compiler -V </dev/null >&5\"") >&5
-  (eval $ac_compiler -V </dev/null >&5) 2>&5
+{ (ac_try="$ac_compiler -V >&5"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compiler -V >&5") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }
 
-echo "$as_me:$LINENO: checking whether we are using the GNU C++ compiler" >&5
-echo $ECHO_N "checking whether we are using the GNU C++ compiler... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking whether we are using the GNU C++ compiler" >&5
+echo $ECHO_N "checking whether we are using the GNU C++ compiler... $ECHO_C" >&6; }
 if test "${ac_cv_cxx_compiler_gnu+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -4468,24 +5449,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -4496,21 +5489,25 @@
 
 ac_compiler_gnu=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 ac_cv_cxx_compiler_gnu=$ac_compiler_gnu
 
 fi
-echo "$as_me:$LINENO: result: $ac_cv_cxx_compiler_gnu" >&5
-echo "${ECHO_T}$ac_cv_cxx_compiler_gnu" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_cxx_compiler_gnu" >&5
+echo "${ECHO_T}$ac_cv_cxx_compiler_gnu" >&6; }
 GXX=`test $ac_compiler_gnu = yes && echo yes`
 ac_test_CXXFLAGS=${CXXFLAGS+set}
 ac_save_CXXFLAGS=$CXXFLAGS
-CXXFLAGS="-g"
-echo "$as_me:$LINENO: checking whether $CXX accepts -g" >&5
-echo $ECHO_N "checking whether $CXX accepts -g... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking whether $CXX accepts -g" >&5
+echo $ECHO_N "checking whether $CXX accepts -g... $ECHO_C" >&6; }
 if test "${ac_cv_prog_cxx_g+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
+  ac_save_cxx_werror_flag=$ac_cxx_werror_flag
+   ac_cxx_werror_flag=yes
+   ac_cv_prog_cxx_g=no
+   CXXFLAGS="-g"
   cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -4527,24 +5524,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -4553,70 +5562,53 @@
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-ac_cv_prog_cxx_g=no
-fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
-fi
-echo "$as_me:$LINENO: result: $ac_cv_prog_cxx_g" >&5
-echo "${ECHO_T}$ac_cv_prog_cxx_g" >&6
-if test "$ac_test_CXXFLAGS" = set; then
-  CXXFLAGS=$ac_save_CXXFLAGS
-elif test $ac_cv_prog_cxx_g = yes; then
-  if test "$GXX" = yes; then
-    CXXFLAGS="-g -O2"
-  else
-    CXXFLAGS="-g"
-  fi
-else
-  if test "$GXX" = yes; then
-    CXXFLAGS="-O2"
-  else
-    CXXFLAGS=
-  fi
-fi
-for ac_declaration in \
-   '' \
-   'extern "C" void std::exit (int) throw (); using std::exit;' \
-   'extern "C" void std::exit (int); using std::exit;' \
-   'extern "C" void exit (int) throw ();' \
-   'extern "C" void exit (int);' \
-   'void exit (int);'
-do
+	CXXFLAGS=""
   cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-$ac_declaration
-#include <stdlib.h>
+
 int
 main ()
 {
-exit (42);
+
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -4625,62 +5617,92 @@
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-continue
-fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+	ac_cxx_werror_flag=$ac_save_cxx_werror_flag
+	 CXXFLAGS="-g"
   cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-$ac_declaration
+
 int
 main ()
 {
-exit (42);
+
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  break
+  ac_cv_prog_cxx_g=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
+
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
-done
-rm -f conftest*
-if test -n "$ac_declaration"; then
-  echo '#ifdef __cplusplus' >>confdefs.h
-  echo $ac_declaration      >>confdefs.h
-  echo '#endif'             >>confdefs.h
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
 
-ac_ext=cc
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+fi
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+   ac_cxx_werror_flag=$ac_save_cxx_werror_flag
+fi
+{ echo "$as_me:$LINENO: result: $ac_cv_prog_cxx_g" >&5
+echo "${ECHO_T}$ac_cv_prog_cxx_g" >&6; }
+if test "$ac_test_CXXFLAGS" = set; then
+  CXXFLAGS=$ac_save_CXXFLAGS
+elif test $ac_cv_prog_cxx_g = yes; then
+  if test "$GXX" = yes; then
+    CXXFLAGS="-g -O2"
+  else
+    CXXFLAGS="-g"
+  fi
+else
+  if test "$GXX" = yes; then
+    CXXFLAGS="-O2"
+  else
+    CXXFLAGS=
+  fi
+fi
+ac_ext=cpp
 ac_cpp='$CXXCPP $CPPFLAGS'
 ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
 ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
@@ -4962,7 +5984,7 @@
 echo "$as_me: WARNING: Proceeding without questions per --without-caution" >&2;} ;;
     * )
        echo "Do you still want to proceed (at your own risk)? [y/N]"
-       read answer
+       read answer <& 7
        case "$answer" in
          [Yy]* )  { echo "$as_me:$LINENO: WARNING: Proceeding at your own risk..." >&5
 echo "$as_me: WARNING: Proceeding at your own risk..." >&2;} ;;
@@ -5059,6 +6081,30 @@
         ;;
      * ) NCBIATOMIC_LIB=xncbi ;;
    esac
+   case "$compiler" in
+      GCC )
+         if $CC -v | grep clang >/dev/null; then
+            :
+            # Will allegedly support -openmp at some point, but as of 3.4,
+            # just parses it as specifying an output filename: -o penmp.
+         else
+            case "$compiler_version" in
+               [123]?? | 4[01]? ) ;;
+               * ) : ${OPENMP_FLAGS=-fopenmp} ;;
+            esac
+         fi
+         ;;
+      ICC )
+         : ${OPENMP_FLAGS=-openmp}
+         ;;
+      WorkShop* )
+         : ${OPENMP_FLAGS=-xopenmp=parallel}
+         ;;
+   esac
+   if test "$with_openmp" = yes; then
+      MT_FLAG="$MT_FLAG $OPENMP_FLAGS"
+      OPENMP_FLAGS=
+   fi
    mt_sfx="MT"
              WithFeatures="$WithFeatures${WithFeaturesSep}MT"; WithFeaturesSep=" "
 else
@@ -5066,6 +6112,7 @@
    MT_FLAG=
    THREAD_LIBS=
    NCBIATOMIC_LIB=
+   OPENMP_FLAGS=
    mt_sfx=""
 fi
 MT_SFX="${mt_sfx}"
@@ -5078,11 +6125,19 @@
 APP_LDFLAGS=
 DLL_LDFLAGS=
 
+### Should go before any test compiler runs
+
+cat >>confdefs.h <<\_ACEOF
+#define _GNU_SOURCE 1
+_ACEOF
+
+
+
 case "$host_os:$compiler" in
    darwin*:GCC )
 
-echo "$as_me:$LINENO: checking whether $CC supports -Wl,-rpath" >&5
-echo $ECHO_N "checking whether $CC supports -Wl,-rpath... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking whether $CC supports -Wl,-rpath" >&5
+echo $ECHO_N "checking whether $CC supports -Wl,-rpath... $ECHO_C" >&6; }
 if test "${ncbi_cv_prog_cc_wl_rpath+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -5104,24 +6159,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -5132,16 +6199,17 @@
 
 ncbi_cv_prog_cc_wl_rpath=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
           LDFLAGS=$orig_LDFLAGS
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_prog_cc_wl_rpath" >&5
-echo "${ECHO_T}$ncbi_cv_prog_cc_wl_rpath" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_prog_cc_wl_rpath" >&5
+echo "${ECHO_T}$ncbi_cv_prog_cc_wl_rpath" >&6; }
       ;;
    *:GCC | *:ICC )
-      echo "$as_me:$LINENO: checking whether $CC has an option to export all symbols" >&5
-echo $ECHO_N "checking whether $CC has an option to export all symbols... $ECHO_C" >&6
+      { echo "$as_me:$LINENO: checking whether $CC has an option to export all symbols" >&5
+echo $ECHO_N "checking whether $CC has an option to export all symbols... $ECHO_C" >&6; }
 if test "${ncbi_cv_prog_cc_export_all+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -5165,24 +6233,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -5191,19 +6271,21 @@
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
+
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
              test "x$ncbi_cv_prog_cc_export_all" = "xno"  ||  break
           done
           LDFLAGS=$orig_LDFLAGS
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_prog_cc_export_all" >&5
-echo "${ECHO_T}$ncbi_cv_prog_cc_export_all" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_prog_cc_export_all" >&5
+echo "${ECHO_T}$ncbi_cv_prog_cc_export_all" >&6; }
       test "$ncbi_cv_prog_cc_export_all" = no  || \
          LDFLAGS="$ncbi_cv_prog_cc_export_all $LDFLAGS"
-      echo "$as_me:$LINENO: checking whether $CC supports -Wl,--{en,dis}able-new-dtags" >&5
-echo $ECHO_N "checking whether $CC supports -Wl,--{en,dis}able-new-dtags... $ECHO_C" >&6
+      { echo "$as_me:$LINENO: checking whether $CC supports -Wl,--{en,dis}able-new-dtags" >&5
+echo $ECHO_N "checking whether $CC supports -Wl,--{en,dis}able-new-dtags... $ECHO_C" >&6; }
 if test "${ncbi_cv_prog_cc_new_dtags+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -5225,24 +6307,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -5253,12 +6347,13 @@
 
 ncbi_cv_prog_cc_new_dtags=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
           LDFLAGS=$orig_LDFLAGS
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_prog_cc_new_dtags" >&5
-echo "${ECHO_T}$ncbi_cv_prog_cc_new_dtags" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_prog_cc_new_dtags" >&5
+echo "${ECHO_T}$ncbi_cv_prog_cc_new_dtags" >&6; }
       if test "$ncbi_cv_prog_cc_new_dtags" = yes; then
           if test "$with_hard_runpath" = yes; then
              LDFLAGS="-Wl,--disable-new-dtags $LDFLAGS"
@@ -5269,45 +6364,231 @@
       ;;
 esac
 
-#### Provide default environment setup for known platforms/compilers
-DEPFLAGS="-M"
-DEPFLAGS_POST="" # Needed for VisualAge
-OBJCXX_CXXFLAGS=
-OBJCXX_LIBS=
-case "$host_os:$compiler" in
- solaris2\.6:GCC )
-   echo "GCC compiler is not supported for:  $host"
-   compiler=
+case "$compiler:$compiler_version" in
+   GCC:4[0-6]? | ICC:1[01]?? )
+     ncbi_cv_prog_cxx_11=no
+     ncbi_cv_prog_c_99=no
    ;;
-
- solaris*:GCC )
-   CPPFLAGS="-D_XOPEN_SOURCE=500 $CPPFLAGS"
-   STRIP="@:"
+   ICC:* )
+     ncbi_cv_prog_c_99='-std=gnu99 -fgnu89-inline'
    ;;
+esac
 
- linux*:ICC )
-   # "incomplete type is not allowed" should be an error, not a warning!
-   CFLAGS="-we70 $CFLAGS"
-   CXXFLAGS="-we70 $CXXFLAGS"
-   case "$compiler_version" in
-      1[1-9]?? ) MATH_LIBS=-Wl,-lm ;; # avoid static libimf in shared libs
+{ echo "$as_me:$LINENO: checking how to enable C++ '11 features in $CXX" >&5
+echo $ECHO_N "checking how to enable C++ '11 features in $CXX... $ECHO_C" >&6; }
+if test "${ncbi_cv_prog_cxx_11+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  orig_CXX=$CXX
+    ncbi_cv_prog_cxx_11=no
+    for x in -std=gnu++11 -std=gnu++0x; do
+       CXX="$orig_CXX $x"
+       cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+
+int
+main ()
+{
+
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext conftest$ac_exeext
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
    esac
-   ;;
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } &&
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; }; then
+  ncbi_cv_prog_cxx_11=$x
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
 
- irix*:GCC )
-   if test "$with_debug" != "no" ; then
-      LDFLAGS="-LD_LAYOUT:lgot_buffer=32 $LDFLAGS"
    fi
-   ;;
 
- solaris*:WorkShop* )
-   CPPFLAGS="-D__EXTENSIONS__ $CPPFLAGS"
-   CXXFLAGS="+w +w2 $CXXFLAGS"
-   DEPFLAGS="-xM1"
-   LDFLAGS="-xildoff $LDFLAGS"
-   AR=${AR:="$CXX $MT_FLAG -xar -o"}
-   STRIP="@:"
-   if test "$with_symbols" = "no" -a "$with_profiling" != "yes" \
+rm -f core conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
+          test "x$ncbi_cv_prog_cxx_11" = "xno"  ||  break
+       done
+       CXX=$orig_CXX
+fi
+{ echo "$as_me:$LINENO: result: $ncbi_cv_prog_cxx_11" >&5
+echo "${ECHO_T}$ncbi_cv_prog_cxx_11" >&6; }
+test "$ncbi_cv_prog_cxx_11" = no  ||  CXX="$CXX $ncbi_cv_prog_cxx_11"
+
+ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+
+{ echo "$as_me:$LINENO: checking how to enable C '11 or at least '99 features in $CC" >&5
+echo $ECHO_N "checking how to enable C '11 or at least '99 features in $CC... $ECHO_C" >&6; }
+if test "${ncbi_cv_prog_c_99+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  orig_CC=$CC
+    ncbi_cv_prog_c_99=no
+    for x in -xc99=all "-std=gnu11 -fgnu89-inline" \
+             "-std=gnu1x -fgnu89-inline" \
+             "-std=gnu99 -fgnu89-inline" \
+             "-std=gnu9x -fgnu89-inline"; do
+       CC="$orig_CC $x"
+       cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+
+int
+main ()
+{
+
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext conftest$ac_exeext
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } &&
+	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; }; then
+  ncbi_cv_prog_c_99=$x
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+
+fi
+
+rm -f core conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
+          test "x$ncbi_cv_prog_c_99" = "xno"  ||  break
+       done
+       CC=$orig_CC
+fi
+{ echo "$as_me:$LINENO: result: $ncbi_cv_prog_c_99" >&5
+echo "${ECHO_T}$ncbi_cv_prog_c_99" >&6; }
+ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+test "$ncbi_cv_prog_c_99" = no  ||  CC="$CC $ncbi_cv_prog_c_99"
+
+#### Provide default environment setup for known platforms/compilers
+DEPFLAGS="-M"
+DEPFLAGS_POST="" # Needed for VisualAge
+OBJCXX_CXXFLAGS=
+OBJCXX_LIBS=
+case "$host_os:$compiler" in
+ solaris2\.6:GCC )
+   echo "GCC compiler is not supported for:  $host"
+   compiler=
+   ;;
+
+ solaris*:GCC )
+   # On Solaris, GCC defaults to setting _XOPEN_SOURCE (to 500) only
+   # in C++ mode.  Set it for C code as well to ensure consistent
+   # header behavior, taking care to match the C standard version
+   # (as enforced by <sys/feature_tests.h>).
+   case "$ncbi_cv_prog_c_99" in
+      no) CC="$CC -D_XOPEN_SOURCE=500" ;;
+      *)  CC="$CC -D_XOPEN_SOURCE=600" ;;
+   esac
+
+   STRIP="@:"
+   ;;
+
+ linux*:ICC )
+   # "incomplete type is not allowed" should be an error, not a warning!
+   CFLAGS="-we70 $CFLAGS"
+   CXXFLAGS="-we70 $CXXFLAGS"
+   case "$compiler_version" in
+      1[1-9]?? ) MATH_LIBS=-Wl,-lm ;; # avoid static libimf in shared libs
+   esac
+   ;;
+
+ irix*:GCC )
+   if test "$with_debug" != "no" ; then
+      LDFLAGS="-LD_LAYOUT:lgot_buffer=32 $LDFLAGS"
+   fi
+   ;;
+
+ solaris*:WorkShop* )
+   CPPFLAGS="-D__EXTENSIONS__ $CPPFLAGS"
+   CXXFLAGS="+w +w2 $CXXFLAGS"
+   DEPFLAGS="-xM1"
+   LDFLAGS="-xildoff $LDFLAGS"
+   AR=${AR:="$CXX $MT_FLAG -xar -o"}
+   STRIP="@:"
+   if test "$with_symbols" = "no" -a "$with_profiling" != "yes" \
       -a "$with_strip" = "yes" ; then
       LDFLAGS="-s $LDFLAGS"
    fi
@@ -5424,11 +6705,19 @@
       LDFLAGS="-flat_namespace $LDFLAGS"
 
       if test "$with_ncbi_public" = yes; then
+         sdks='/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.7.sdk'
+         case "$host_os" in
+            darwin?.* | darwin10.* ) # Mac OS X 10.6.x or older
          TARGET='-mmacosx-version-min=10.5'
-         sdks='/Developer/SDKs/MacOSX10.6.sdk /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.6.sdk'
+               sdks="/Developer/SDKs/MacOSX10.6.sdk"
          if test "$with_64:${with_universal-no}" != "yes:no"; then
             sdks="/Developer/SDKs/MacOSX10.5.sdk $sdks"
          fi
+               ;;
+            * )
+               TARGET='-mmacosx-version-min=10.7'
+               ;;
+         esac
          for sdk in $sdks; do
             if test -d "$sdk"; then
                TARGET="-isysroot $sdk $TARGET"
@@ -5494,7 +6783,7 @@
 echo "$as_me: WARNING: Proceeding without questions per --without-caution" >&2;} ;;
     * )
        echo "Do you still want to proceed (at your own risk)? [y/N]"
-       read answer
+       read answer <& 7
        case "$answer" in
          [Yy]* )  { echo "$as_me:$LINENO: WARNING: Proceeding at your own risk..." >&5
 echo "$as_me: WARNING: Proceeding at your own risk..." >&2;} ;;
@@ -5698,8 +6987,8 @@
 C_LIBS="$MATH_LIBS $C_LIBS"
 
 if test -n "$with_64"; then
-   echo "$as_me:$LINENO: checking whether this system supports --with(out)-64" >&5
-echo $ECHO_N "checking whether this system supports --with(out)-64... $ECHO_C" >&6
+   { echo "$as_me:$LINENO: checking whether this system supports --with(out)-64" >&5
+echo $ECHO_N "checking whether this system supports --with(out)-64... $ECHO_C" >&6; }
 if test "${ncbi_cv_sys_with64_ok+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -5720,24 +7009,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -5748,11 +7049,12 @@
 
 ncbi_cv_sys_with64_ok=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_sys_with64_ok" >&5
-echo "${ECHO_T}$ncbi_cv_sys_with64_ok" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_sys_with64_ok" >&5
+echo "${ECHO_T}$ncbi_cv_sys_with64_ok" >&6; }
    if test "$ncbi_cv_sys_with64_ok" = no; then
       { { echo "$as_me:$LINENO: error: cannot continue; please try different options" >&5
 echo "$as_me: error: cannot continue; please try different options" >&2;}
@@ -5784,8 +7086,8 @@
         ;;
       GCC:* )
         DEF_FAST_FLAGS="-O3 -finline-functions -fstrict-aliasing"
-        case "$host_os" in
-           freebsd* ) ;;
+        case "$host_os:$host_cpu:$compiler_version" in
+           freebsd* | solaris*:*86*:* | *:4[5-9]? | *:[5-9]?? ) ;;
            * )        DEF_FAST_FLAGS="$DEF_FAST_FLAGS -ffast-math" ;;
         esac
         if test "$with_profiling" != "yes"; then
@@ -5884,13 +7186,9 @@
     solaris* )
       CONF_f_runpath="-R"
       ;;
-    linux*:GCC | *bsd*:GCC | cygwin*:GCC | osf*:GCC )
+    linux*:[GI]CC | *bsd*:GCC | cygwin*:GCC | osf*:GCC )
       CONF_f_runpath="-Wl,-rpath,"
       ;;
-    linux*:ICC )
-      # trying to use "-Wl,-rpath," here sends "ld" to endless 100% CPU loop
-      CONF_f_runpath="-Xlinker -rpath -Xlinker "
-      ;;
     irix*:* | linux*:KCC | *:Compaq )
       CONF_f_runpath="-rpath "
       ;;
@@ -5995,8 +7293,11 @@
     LINK="$LINK -Kc++"
     ;;
   ICC:1???:* )
-    APP_LDFLAGS="-static-intel $APP_LDFLAGS"
-    DLL_LDFLAGS="-static-intel -nodefaultlibs $DLL_LDFLAGS"
+    # Suppress "warning #10237: -lcilkrts linked in dynamically, static
+    # library not available" which is not a problem in practice due to
+    # as-needed linkage.
+    APP_LDFLAGS="-static-intel -diag-disable 10237 $APP_LDFLAGS"
+    DLL_LDFLAGS="-static-intel -diag-disable 10237 -nodefaultlibs $DLL_LDFLAGS"
     # Redundant for apps, but necessary for plugins to be adequately
     # self-contained, at least on 32-bit Linux.
     LIBS="$LIBS -lstdc++"
@@ -6043,7 +7344,7 @@
 echo "$as_me: WARNING: Proceeding without questions per --without-caution" >&2;} ;;
     * )
        echo "Do you still want to try build DLLs (at your own risk)? [y/N]"
-       read answer
+       read answer <& 7
        case "$answer" in
          [Yy]* )  { echo "$as_me:$LINENO: WARNING: Proceeding at your own risk..." >&5
 echo "$as_me: WARNING: Proceeding at your own risk..." >&2;} ;;
@@ -6138,18 +7439,6 @@
 
 #### Intel compiler::  common flags and definitions
 if test "$compiler" = "ICC" ; then
-   if test -d /usr/local/gcc; then
-      case "$compiler_version:$HOST_CPU" in
-         *:i?86)               v=4.4.5 ;;
-         ???:* | 1[01]??:* ) v=4.0.1 ;;
-         *)                    v=4.4.2 ;;
-      esac
-      gcc=/usr/local/gcc/$v/bin/gcc
-      if test -x $gcc; then
-         CC="$CC -gcc-name=$gcc"
-         CXX="$CXX -gcc-name=$gcc"
-      fi
-   fi
    if test -n "$icc_license" ; then
       icc_CC="$CC"
       icc_CXX="$CXX"
@@ -6188,8 +7477,8 @@
 GCCPCH="#"
 if test "$compiler" = GCC -a "$with_pch" = "yes" \
      -a "${with_universal-no}" = "no"; then
-   echo "$as_me:$LINENO: checking whether $CXX supports precompiled headers" >&5
-echo $ECHO_N "checking whether $CXX supports precompiled headers... $ECHO_C" >&6
+   { echo "$as_me:$LINENO: checking whether $CXX supports precompiled headers" >&5
+echo $ECHO_N "checking whether $CXX supports precompiled headers... $ECHO_C" >&6; }
 if test "${ncbi_cv_cxx_pch+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -6202,8 +7491,8 @@
           ncbi_cv_cxx_pch=no
        fi
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_cxx_pch" >&5
-echo "${ECHO_T}$ncbi_cv_cxx_pch" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_cxx_pch" >&5
+echo "${ECHO_T}$ncbi_cv_cxx_pch" >&6; }
    if test "$ncbi_cv_cxx_pch" = "yes"; then
       if test "$Rules" = "rules"; then
          { echo "$as_me:$LINENO: WARNING: Your version of make does not fully support PCH-related dependencies." >&5
@@ -6216,22 +7505,22 @@
 
 
 #### Tools
-echo "$as_me:$LINENO: checking whether ln -s works" >&5
-echo $ECHO_N "checking whether ln -s works... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking whether ln -s works" >&5
+echo $ECHO_N "checking whether ln -s works... $ECHO_C" >&6; }
 LN_S=$as_ln_s
 if test "$LN_S" = "ln -s"; then
-  echo "$as_me:$LINENO: result: yes" >&5
-echo "${ECHO_T}yes" >&6
+  { echo "$as_me:$LINENO: result: yes" >&5
+echo "${ECHO_T}yes" >&6; }
 else
-  echo "$as_me:$LINENO: result: no, using $LN_S" >&5
-echo "${ECHO_T}no, using $LN_S" >&6
+  { echo "$as_me:$LINENO: result: no, using $LN_S" >&5
+echo "${ECHO_T}no, using $LN_S" >&6; }
 fi
 
 if test -n "$ac_tool_prefix"; then
   # Extract the first word of "${ac_tool_prefix}ranlib", so it can be a program name with args.
 set dummy ${ac_tool_prefix}ranlib; ac_word=$2
-echo "$as_me:$LINENO: checking for $ac_word" >&5
-echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
 if test "${ac_cv_prog_RANLIB+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -6244,32 +7533,34 @@
   IFS=$as_save_IFS
   test -z "$as_dir" && as_dir=.
   for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
+  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; }; then
     ac_cv_prog_RANLIB="${ac_tool_prefix}ranlib"
     echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
     break 2
   fi
 done
 done
+IFS=$as_save_IFS
 
 fi
 fi
 RANLIB=$ac_cv_prog_RANLIB
 if test -n "$RANLIB"; then
-  echo "$as_me:$LINENO: result: $RANLIB" >&5
-echo "${ECHO_T}$RANLIB" >&6
+  { echo "$as_me:$LINENO: result: $RANLIB" >&5
+echo "${ECHO_T}$RANLIB" >&6; }
 else
-  echo "$as_me:$LINENO: result: no" >&5
-echo "${ECHO_T}no" >&6
+  { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
 fi
 
+
 fi
 if test -z "$ac_cv_prog_RANLIB"; then
   ac_ct_RANLIB=$RANLIB
   # Extract the first word of "ranlib", so it can be a program name with args.
 set dummy ranlib; ac_word=$2
-echo "$as_me:$LINENO: checking for $ac_word" >&5
-echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
 if test "${ac_cv_prog_ac_ct_RANLIB+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -6282,35 +7573,49 @@
   IFS=$as_save_IFS
   test -z "$as_dir" && as_dir=.
   for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
+  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; }; then
     ac_cv_prog_ac_ct_RANLIB="ranlib"
     echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
     break 2
   fi
 done
 done
+IFS=$as_save_IFS
 
-  test -z "$ac_cv_prog_ac_ct_RANLIB" && ac_cv_prog_ac_ct_RANLIB=":"
 fi
 fi
 ac_ct_RANLIB=$ac_cv_prog_ac_ct_RANLIB
 if test -n "$ac_ct_RANLIB"; then
-  echo "$as_me:$LINENO: result: $ac_ct_RANLIB" >&5
-echo "${ECHO_T}$ac_ct_RANLIB" >&6
+  { echo "$as_me:$LINENO: result: $ac_ct_RANLIB" >&5
+echo "${ECHO_T}$ac_ct_RANLIB" >&6; }
 else
-  echo "$as_me:$LINENO: result: no" >&5
-echo "${ECHO_T}no" >&6
+  { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
 fi
 
+  if test "x$ac_ct_RANLIB" = x; then
+    RANLIB=":"
+  else
+    case $cross_compiling:$ac_tool_warned in
+yes:)
+{ echo "$as_me:$LINENO: WARNING: In the future, Autoconf will not detect cross-tools
+whose name does not start with the host triplet.  If you think this
+configuration is useful to you, please write to autoconf@gnu.org." >&5
+echo "$as_me: WARNING: In the future, Autoconf will not detect cross-tools
+whose name does not start with the host triplet.  If you think this
+configuration is useful to you, please write to autoconf@gnu.org." >&2;}
+ac_tool_warned=yes ;;
+esac
   RANLIB=$ac_ct_RANLIB
+  fi
 else
   RANLIB="$ac_cv_prog_RANLIB"
 fi
 
 # Extract the first word of "ar", so it can be a program name with args.
 set dummy ar; ac_word=$2
-echo "$as_me:$LINENO: checking for $ac_word" >&5
-echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
 if test "${ac_cv_prog_AR+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -6323,29 +7628,31 @@
   IFS=$as_save_IFS
   test -z "$as_dir" && as_dir=.
   for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
+  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; }; then
     ac_cv_prog_AR="ar cr"
     echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
     break 2
   fi
 done
 done
+IFS=$as_save_IFS
 
   test -z "$ac_cv_prog_AR" && ac_cv_prog_AR="ErrorCannotFind_AR"
 fi
 fi
 AR=$ac_cv_prog_AR
 if test -n "$AR"; then
-  echo "$as_me:$LINENO: result: $AR" >&5
-echo "${ECHO_T}$AR" >&6
+  { echo "$as_me:$LINENO: result: $AR" >&5
+echo "${ECHO_T}$AR" >&6; }
 else
-  echo "$as_me:$LINENO: result: no" >&5
-echo "${ECHO_T}no" >&6
+  { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
 fi
 
+
 if test "x$RANLIB" != "x:"; then
-   echo "$as_me:$LINENO: checking ranlib's effectiveness" >&5
-echo $ECHO_N "checking ranlib's effectiveness... $ECHO_C" >&6
+   { echo "$as_me:$LINENO: checking ranlib's effectiveness" >&5
+echo $ECHO_N "checking ranlib's effectiveness... $ECHO_C" >&6; }
 if test "${ncbi_cv_prog_ranlib_effect+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -6379,24 +7686,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -6407,7 +7726,8 @@
 
 ok_without=false
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
        echo $RANLIB conftest.a >&5
        $RANLIB conftest.a >&5
@@ -6427,24 +7747,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -6455,7 +7787,8 @@
 
 ok_with=false
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
        LIBS=$save_LIBS
        case $ok_with:$ok_without in
@@ -6466,8 +7799,8 @@
        esac
 
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_prog_ranlib_effect" >&5
-echo "${ECHO_T}$ncbi_cv_prog_ranlib_effect" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_prog_ranlib_effect" >&5
+echo "${ECHO_T}$ncbi_cv_prog_ranlib_effect" >&6; }
    case "$ncbi_cv_prog_ranlib_effect" in
       negative) RANLIB=: ;;
       unknown)
@@ -6479,8 +7812,8 @@
 if test "$with_strip" = yes; then
    # Extract the first word of "strip", so it can be a program name with args.
 set dummy strip; ac_word=$2
-echo "$as_me:$LINENO: checking for $ac_word" >&5
-echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
 if test "${ac_cv_prog_STRIP+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -6493,28 +7826,30 @@
   IFS=$as_save_IFS
   test -z "$as_dir" && as_dir=.
   for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
+  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; }; then
     ac_cv_prog_STRIP="strip"
     echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
     break 2
   fi
 done
 done
+IFS=$as_save_IFS
 
   test -z "$ac_cv_prog_STRIP" && ac_cv_prog_STRIP="@:"
 fi
 fi
 STRIP=$ac_cv_prog_STRIP
 if test -n "$STRIP"; then
-  echo "$as_me:$LINENO: result: $STRIP" >&5
-echo "${ECHO_T}$STRIP" >&6
+  { echo "$as_me:$LINENO: result: $STRIP" >&5
+echo "${ECHO_T}$STRIP" >&6; }
 else
-  echo "$as_me:$LINENO: result: no" >&5
-echo "${ECHO_T}no" >&6
+  { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
 fi
 
-   echo "$as_me:$LINENO: checking whether strip loses runtime type information" >&5
-echo $ECHO_N "checking whether strip loses runtime type information... $ECHO_C" >&6
+
+   { echo "$as_me:$LINENO: checking whether strip loses runtime type information" >&5
+echo $ECHO_N "checking whether strip loses runtime type information... $ECHO_C" >&6; }
 if test "${ncbi_cv_strip_loses_rtti+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -6555,8 +7890,8 @@
           rm -rf conftest*
        fi
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_strip_loses_rtti" >&5
-echo "${ECHO_T}$ncbi_cv_strip_loses_rtti" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_strip_loses_rtti" >&5
+echo "${ECHO_T}$ncbi_cv_strip_loses_rtti" >&6; }
    if test "$ncbi_cv_strip_loses_rtti" = "yes"; then
       case "$with_caution" in
     yes )
@@ -6568,7 +7903,7 @@
 echo "$as_me: WARNING: Proceeding without questions per --without-caution" >&2;} ;;
     * )
        echo "Do you still want to proceed (at your own risk)? [y/N]"
-       read answer
+       read answer <& 7
        case "$answer" in
          [Yy]* )  { echo "$as_me:$LINENO: WARNING: Proceeding at your own risk..." >&5
 echo "$as_me: WARNING: Proceeding at your own risk..." >&2;} ;;
@@ -6595,8 +7930,8 @@
 if test "$with_distcc" = "yes" ; then
    # Extract the first word of "distcc", so it can be a program name with args.
 set dummy distcc; ac_word=$2
-echo "$as_me:$LINENO: checking for $ac_word" >&5
-echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
 if test "${ac_cv_prog_DISTCC+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -6609,25 +7944,27 @@
   IFS=$as_save_IFS
   test -z "$as_dir" && as_dir=.
   for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
+  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; }; then
     ac_cv_prog_DISTCC="distcc"
     echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
     break 2
   fi
 done
 done
+IFS=$as_save_IFS
 
 fi
 fi
 DISTCC=$ac_cv_prog_DISTCC
 if test -n "$DISTCC"; then
-  echo "$as_me:$LINENO: result: $DISTCC" >&5
-echo "${ECHO_T}$DISTCC" >&6
+  { echo "$as_me:$LINENO: result: $DISTCC" >&5
+echo "${ECHO_T}$DISTCC" >&6; }
 else
-  echo "$as_me:$LINENO: result: no" >&5
-echo "${ECHO_T}no" >&6
+  { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
 fi
 
+
    if test -n "$DISTCC" ; then
       # Test distcc reasonably thoroughly to avoid possible gotchas.
       cat > distcctest.c << EOF
@@ -6640,8 +7977,8 @@
 EOF
       DISTCC_FALLBACK=0
       export DISTCC_FALLBACK
-      echo "$as_me:$LINENO: checking whether any distcc servers are available" >&5
-echo $ECHO_N "checking whether any distcc servers are available... $ECHO_C" >&6
+      { echo "$as_me:$LINENO: checking whether any distcc servers are available" >&5
+echo $ECHO_N "checking whether any distcc servers are available... $ECHO_C" >&6; }
 if test "${ncbi_cv_prog_distcc_servers+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -6660,14 +7997,14 @@
              ncbi_cv_prog_distcc_servers=yes ;;
           esac
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_prog_distcc_servers" >&5
-echo "${ECHO_T}$ncbi_cv_prog_distcc_servers" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_prog_distcc_servers" >&5
+echo "${ECHO_T}$ncbi_cv_prog_distcc_servers" >&6; }
       if test "$ncbi_cv_prog_distcc_servers" = no; then
          $as_unset DISTCC || test "${DISTCC+set}" != set || { DISTCC=; export DISTCC; }
       fi
       if test -n "$DISTCC" ; then
-         echo "$as_me:$LINENO: checking whether $DISTCC is compatible with $CC" >&5
-echo $ECHO_N "checking whether $DISTCC is compatible with $CC... $ECHO_C" >&6
+         { echo "$as_me:$LINENO: checking whether $DISTCC is compatible with $CC" >&5
+echo $ECHO_N "checking whether $DISTCC is compatible with $CC... $ECHO_C" >&6; }
 if test "${ncbi_cv_prog_distcc_vs_cc+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -6677,8 +8014,8 @@
                 ncbi_cv_prog_distcc_vs_cc=no
              fi
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_prog_distcc_vs_cc" >&5
-echo "${ECHO_T}$ncbi_cv_prog_distcc_vs_cc" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_prog_distcc_vs_cc" >&5
+echo "${ECHO_T}$ncbi_cv_prog_distcc_vs_cc" >&6; }
          if test "$ncbi_cv_prog_distcc_vs_cc" = yes; then
             CC_WRAPPER="$DISTCC $CC_WRAPPER"
          else
@@ -6686,8 +8023,8 @@
          fi
       fi
       if test -n "$DISTCC" ; then
-         echo "$as_me:$LINENO: checking whether $DISTCC is compatible with $CXX" >&5
-echo $ECHO_N "checking whether $DISTCC is compatible with $CXX... $ECHO_C" >&6
+         { echo "$as_me:$LINENO: checking whether $DISTCC is compatible with $CXX" >&5
+echo $ECHO_N "checking whether $DISTCC is compatible with $CXX... $ECHO_C" >&6; }
 if test "${ncbi_cv_prog_distcc_vs_cxx+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -6698,8 +8035,8 @@
                 ncbi_cv_prog_distcc_vs_cxx=no
              fi
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_prog_distcc_vs_cxx" >&5
-echo "${ECHO_T}$ncbi_cv_prog_distcc_vs_cxx" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_prog_distcc_vs_cxx" >&5
+echo "${ECHO_T}$ncbi_cv_prog_distcc_vs_cxx" >&6; }
          if test "$ncbi_cv_prog_distcc_vs_cxx" = yes; then
             CXX_WRAPPER="$DISTCC $CXX_WRAPPER"
          else
@@ -6725,8 +8062,8 @@
 if test "$with_ccache" != "no"; then
    # Extract the first word of "ccache", so it can be a program name with args.
 set dummy ccache; ac_word=$2
-echo "$as_me:$LINENO: checking for $ac_word" >&5
-echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
 if test "${ac_cv_prog_CCACHE+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -6739,25 +8076,27 @@
   IFS=$as_save_IFS
   test -z "$as_dir" && as_dir=.
   for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
+  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; }; then
     ac_cv_prog_CCACHE="ccache"
     echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
     break 2
   fi
 done
 done
+IFS=$as_save_IFS
 
 fi
 fi
 CCACHE=$ac_cv_prog_CCACHE
 if test -n "$CCACHE"; then
-  echo "$as_me:$LINENO: result: $CCACHE" >&5
-echo "${ECHO_T}$CCACHE" >&6
+  { echo "$as_me:$LINENO: result: $CCACHE" >&5
+echo "${ECHO_T}$CCACHE" >&6; }
 else
-  echo "$as_me:$LINENO: result: no" >&5
-echo "${ECHO_T}no" >&6
+  { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
 fi
 
+
    if test -n "$CCACHE" ; then
       if test -n "$CC_WRAPPER"; then
          CC_WRAPPER="CCACHE_PREFIX=$CC_WRAPPER $CCACHE"
@@ -6778,8 +8117,8 @@
 # Note the path, since syntax is version-specific....
 # Extract the first word of "tail", so it can be a program name with args.
 set dummy tail; ac_word=$2
-echo "$as_me:$LINENO: checking for $ac_word" >&5
-echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
 if test "${ac_cv_path_TAIL+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -6794,43 +8133,44 @@
   IFS=$as_save_IFS
   test -z "$as_dir" && as_dir=.
   for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
+  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; }; then
     ac_cv_path_TAIL="$as_dir/$ac_word$ac_exec_ext"
     echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
     break 2
   fi
 done
 done
+IFS=$as_save_IFS
 
   ;;
 esac
 fi
 TAIL=$ac_cv_path_TAIL
-
 if test -n "$TAIL"; then
-  echo "$as_me:$LINENO: result: $TAIL" >&5
-echo "${ECHO_T}$TAIL" >&6
+  { echo "$as_me:$LINENO: result: $TAIL" >&5
+echo "${ECHO_T}$TAIL" >&6; }
 else
-  echo "$as_me:$LINENO: result: no" >&5
-echo "${ECHO_T}no" >&6
+  { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
 fi
 
-echo "$as_me:$LINENO: checking whether $TAIL accepts modern syntax (-n N)" >&5
-echo $ECHO_N "checking whether $TAIL accepts modern syntax (-n N)... $ECHO_C" >&6
+
+{ echo "$as_me:$LINENO: checking whether $TAIL accepts modern syntax (-n N)" >&5
+echo $ECHO_N "checking whether $TAIL accepts modern syntax (-n N)... $ECHO_C" >&6; }
 if $TAIL -n 1 config.log >/dev/null 2>&1; then
    TAIL_N="$TAIL -n "
-   echo "$as_me:$LINENO: result: yes" >&5
-echo "${ECHO_T}yes" >&6
+   { echo "$as_me:$LINENO: result: yes" >&5
+echo "${ECHO_T}yes" >&6; }
 else
    TAIL_N="$TAIL -"
-   echo "$as_me:$LINENO: result: no" >&5
-echo "${ECHO_T}no" >&6
+   { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
 fi
 
 # Extract the first word of "touch", so it can be a program name with args.
 set dummy touch; ac_word=$2
-echo "$as_me:$LINENO: checking for $ac_word" >&5
-echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
 if test "${ac_cv_path_TOUCH+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -6846,44 +8186,192 @@
   IFS=$as_save_IFS
   test -z "$as_dir" && as_dir=.
   for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
+  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; }; then
     ac_cv_path_TOUCH="$as_dir/$ac_word$ac_exec_ext"
     echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
     break 2
   fi
 done
 done
+IFS=$as_save_IFS
 
   ;;
 esac
 fi
 TOUCH=$ac_cv_path_TOUCH
-
 if test -n "$TOUCH"; then
-  echo "$as_me:$LINENO: result: $TOUCH" >&5
-echo "${ECHO_T}$TOUCH" >&6
+  { echo "$as_me:$LINENO: result: $TOUCH" >&5
+echo "${ECHO_T}$TOUCH" >&6; }
+else
+  { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
+fi
+
+
+{ echo "$as_me:$LINENO: checking for grep that handles long lines and -e" >&5
+echo $ECHO_N "checking for grep that handles long lines and -e... $ECHO_C" >&6; }
+if test "${ac_cv_path_GREP+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  # Extract the first word of "grep ggrep" to use in msg output
+if test -z "$GREP"; then
+set dummy grep ggrep; ac_prog_name=$2
+if test "${ac_cv_path_GREP+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  ac_path_GREP_found=false
+# Loop through the user's path and test for each of PROGNAME-LIST
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH$PATH_SEPARATOR/usr/xpg4/bin
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+  for ac_prog in grep ggrep; do
+  for ac_exec_ext in '' $ac_executable_extensions; do
+    ac_path_GREP="$as_dir/$ac_prog$ac_exec_ext"
+    { test -f "$ac_path_GREP" && $as_executable_p "$ac_path_GREP"; } || continue
+    # Check for GNU ac_path_GREP and select it if it is found.
+  # Check for GNU $ac_path_GREP
+case `"$ac_path_GREP" --version 2>&1` in
+*GNU*)
+  ac_cv_path_GREP="$ac_path_GREP" ac_path_GREP_found=:;;
+*)
+  ac_count=0
+  echo $ECHO_N "0123456789$ECHO_C" >"conftest.in"
+  while :
+  do
+    cat "conftest.in" "conftest.in" >"conftest.tmp"
+    mv "conftest.tmp" "conftest.in"
+    cp "conftest.in" "conftest.nl"
+    echo 'GREP' >> "conftest.nl"
+    "$ac_path_GREP" -e 'GREP$' -e '-(cannot match)-' < "conftest.nl" >"conftest.out" 2>/dev/null || break
+    diff "conftest.out" "conftest.nl" >/dev/null 2>&1 || break
+    ac_count=`expr $ac_count + 1`
+    if test $ac_count -gt ${ac_path_GREP_max-0}; then
+      # Best one so far, save it but keep looking for a better one
+      ac_cv_path_GREP="$ac_path_GREP"
+      ac_path_GREP_max=$ac_count
+    fi
+    # 10*(2^10) chars as input seems more than enough
+    test $ac_count -gt 10 && break
+  done
+  rm -f conftest.in conftest.tmp conftest.nl conftest.out;;
+esac
+
+
+    $ac_path_GREP_found && break 3
+  done
+done
+
+done
+IFS=$as_save_IFS
+
+
+fi
+
+GREP="$ac_cv_path_GREP"
+if test -z "$GREP"; then
+  { { echo "$as_me:$LINENO: error: no acceptable $ac_prog_name could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin" >&5
+echo "$as_me: error: no acceptable $ac_prog_name could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin" >&2;}
+   { (exit 1); exit 1; }; }
+fi
+
 else
-  echo "$as_me:$LINENO: result: no" >&5
-echo "${ECHO_T}no" >&6
+  ac_cv_path_GREP=$GREP
+fi
+
+
 fi
+{ echo "$as_me:$LINENO: result: $ac_cv_path_GREP" >&5
+echo "${ECHO_T}$ac_cv_path_GREP" >&6; }
+ GREP="$ac_cv_path_GREP"
 
-echo "$as_me:$LINENO: checking for egrep" >&5
-echo $ECHO_N "checking for egrep... $ECHO_C" >&6
-if test "${ac_cv_prog_egrep+set}" = set; then
+
+{ echo "$as_me:$LINENO: checking for egrep" >&5
+echo $ECHO_N "checking for egrep... $ECHO_C" >&6; }
+if test "${ac_cv_path_EGREP+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  if echo a | $GREP -E '(a|b)' >/dev/null 2>&1
+   then ac_cv_path_EGREP="$GREP -E"
+   else
+     # Extract the first word of "egrep" to use in msg output
+if test -z "$EGREP"; then
+set dummy egrep; ac_prog_name=$2
+if test "${ac_cv_path_EGREP+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  if echo a | (grep -E '(a|b)') >/dev/null 2>&1
-    then ac_cv_prog_egrep='grep -E'
-    else ac_cv_prog_egrep='egrep'
+  ac_path_EGREP_found=false
+# Loop through the user's path and test for each of PROGNAME-LIST
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH$PATH_SEPARATOR/usr/xpg4/bin
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+  for ac_prog in egrep; do
+  for ac_exec_ext in '' $ac_executable_extensions; do
+    ac_path_EGREP="$as_dir/$ac_prog$ac_exec_ext"
+    { test -f "$ac_path_EGREP" && $as_executable_p "$ac_path_EGREP"; } || continue
+    # Check for GNU ac_path_EGREP and select it if it is found.
+  # Check for GNU $ac_path_EGREP
+case `"$ac_path_EGREP" --version 2>&1` in
+*GNU*)
+  ac_cv_path_EGREP="$ac_path_EGREP" ac_path_EGREP_found=:;;
+*)
+  ac_count=0
+  echo $ECHO_N "0123456789$ECHO_C" >"conftest.in"
+  while :
+  do
+    cat "conftest.in" "conftest.in" >"conftest.tmp"
+    mv "conftest.tmp" "conftest.in"
+    cp "conftest.in" "conftest.nl"
+    echo 'EGREP' >> "conftest.nl"
+    "$ac_path_EGREP" 'EGREP$' < "conftest.nl" >"conftest.out" 2>/dev/null || break
+    diff "conftest.out" "conftest.nl" >/dev/null 2>&1 || break
+    ac_count=`expr $ac_count + 1`
+    if test $ac_count -gt ${ac_path_EGREP_max-0}; then
+      # Best one so far, save it but keep looking for a better one
+      ac_cv_path_EGREP="$ac_path_EGREP"
+      ac_path_EGREP_max=$ac_count
+    fi
+    # 10*(2^10) chars as input seems more than enough
+    test $ac_count -gt 10 && break
+  done
+  rm -f conftest.in conftest.tmp conftest.nl conftest.out;;
+esac
+
+
+    $ac_path_EGREP_found && break 3
+  done
+done
+
+done
+IFS=$as_save_IFS
+
+
+fi
+
+EGREP="$ac_cv_path_EGREP"
+if test -z "$EGREP"; then
+  { { echo "$as_me:$LINENO: error: no acceptable $ac_prog_name could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin" >&5
+echo "$as_me: error: no acceptable $ac_prog_name could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin" >&2;}
+   { (exit 1); exit 1; }; }
+fi
+
+else
+  ac_cv_path_EGREP=$EGREP
+fi
+
+
     fi
 fi
-echo "$as_me:$LINENO: result: $ac_cv_prog_egrep" >&5
-echo "${ECHO_T}$ac_cv_prog_egrep" >&6
- EGREP=$ac_cv_prog_egrep
+{ echo "$as_me:$LINENO: result: $ac_cv_path_EGREP" >&5
+echo "${ECHO_T}$ac_cv_path_EGREP" >&6; }
+ EGREP="$ac_cv_path_EGREP"
 
 
-echo "$as_me:$LINENO: checking how to run $EGREP quietly" >&5
-echo $ECHO_N "checking how to run $EGREP quietly... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking how to run $EGREP quietly" >&5
+echo $ECHO_N "checking how to run $EGREP quietly... $ECHO_C" >&6; }
 if test -z "`echo foo | $EGREP -q fo+ 2>>config.log || echo $?`"; then
    EGREP_Q="$EGREP -q"
 elif test -z "`echo foo | $EGREP -s fo+ 2>>config.log || echo $?`"; then
@@ -6891,13 +8379,13 @@
 else
    EGREP_Q=">/dev/null $EGREP"
 fi
-echo "$as_me:$LINENO: result: $EGREP_Q" >&5
-echo "${ECHO_T}$EGREP_Q" >&6
+{ echo "$as_me:$LINENO: result: $EGREP_Q" >&5
+echo "${ECHO_T}$EGREP_Q" >&6; }
 
 # Extract the first word of "valgrind", so it can be a program name with args.
 set dummy valgrind; ac_word=$2
-echo "$as_me:$LINENO: checking for $ac_word" >&5
-echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
 if test "${ac_cv_prog_VALGRIND_PATH+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -6910,26 +8398,80 @@
   IFS=$as_save_IFS
   test -z "$as_dir" && as_dir=.
   for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
+  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; }; then
     ac_cv_prog_VALGRIND_PATH="valgrind"
     echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
     break 2
   fi
 done
 done
+IFS=$as_save_IFS
 
 fi
 fi
 VALGRIND_PATH=$ac_cv_prog_VALGRIND_PATH
 if test -n "$VALGRIND_PATH"; then
-  echo "$as_me:$LINENO: result: $VALGRIND_PATH" >&5
-echo "${ECHO_T}$VALGRIND_PATH" >&6
+  { echo "$as_me:$LINENO: result: $VALGRIND_PATH" >&5
+echo "${ECHO_T}$VALGRIND_PATH" >&6; }
+else
+  { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
+fi
+
+
+
+# Extract the first word of "ldd", so it can be a program name with args.
+set dummy ldd; ac_word=$2
+{ echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
+if test "${ac_cv_path_LDD+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  echo "$as_me:$LINENO: result: no" >&5
-echo "${ECHO_T}no" >&6
+  case $LDD in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_LDD="$LDD" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+  for ac_exec_ext in '' $ac_executable_extensions; do
+  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; }; then
+    ac_cv_path_LDD="$as_dir/$ac_word$ac_exec_ext"
+    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+LDD=$ac_cv_path_LDD
+if test -n "$LDD"; then
+  { echo "$as_me:$LINENO: result: $LDD" >&5
+echo "${ECHO_T}$LDD" >&6; }
+else
+  { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
 fi
 
 
+if test -n "$LDD"; then
+   { echo "$as_me:$LINENO: checking whether $LDD accepts -r" >&5
+echo $ECHO_N "checking whether $LDD accepts -r... $ECHO_C" >&6; }
+   if $LDD -r /bin/ls >/dev/null 2>&1; then
+      { echo "$as_me:$LINENO: result: yes" >&5
+echo "${ECHO_T}yes" >&6; }
+      LDD_R="$LDD -r"
+   else
+      { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
+   fi
+fi
 
 #### Check if "${build_root}" is defined;  provide a default one
 if test -n "${with_build_root}" ; then
@@ -7014,22 +8556,14 @@
 fi
 
 
-### Should go before any test compiler runs
-
-cat >>confdefs.h <<\_ACEOF
-#define _GNU_SOURCE 1
-_ACEOF
-
-
-
 #### Determine whether this is implicitly a 64-bit platform
-ac_ext=cc
+ac_ext=cpp
 ac_cpp='$CXXCPP $CPPFLAGS'
 ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
 ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
 ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
-echo "$as_me:$LINENO: checking how to run the C++ preprocessor" >&5
-echo $ECHO_N "checking how to run the C++ preprocessor... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking how to run the C++ preprocessor" >&5
+echo $ECHO_N "checking how to run the C++ preprocessor... $ECHO_C" >&6; }
 if test -z "$CXXCPP"; then
   if test "${ac_cv_prog_CXXCPP+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
@@ -7059,8 +8593,13 @@
 #endif
 		     Syntax error
 _ACEOF
-if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
-  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
+if { (ac_try="$ac_cpp conftest.$ac_ext"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
@@ -7085,9 +8624,10 @@
   # Broken: fails on valid input.
 continue
 fi
+
 rm -f conftest.err conftest.$ac_ext
 
-  # OK, works on sane cases.  Now check whether non-existent headers
+  # OK, works on sane cases.  Now check whether nonexistent headers
   # can be detected and how.
   cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
@@ -7097,8 +8637,13 @@
 /* end confdefs.h.  */
 #include <ac_nonexistent.h>
 _ACEOF
-if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
-  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
+if { (ac_try="$ac_cpp conftest.$ac_ext"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
@@ -7125,6 +8670,7 @@
 ac_preproc_ok=:
 break
 fi
+
 rm -f conftest.err conftest.$ac_ext
 
 done
@@ -7142,8 +8688,8 @@
 else
   ac_cv_prog_CXXCPP=$CXXCPP
 fi
-echo "$as_me:$LINENO: result: $CXXCPP" >&5
-echo "${ECHO_T}$CXXCPP" >&6
+{ echo "$as_me:$LINENO: result: $CXXCPP" >&5
+echo "${ECHO_T}$CXXCPP" >&6; }
 ac_preproc_ok=false
 for ac_cxx_preproc_warn_flag in '' yes
 do
@@ -7166,8 +8712,13 @@
 #endif
 		     Syntax error
 _ACEOF
-if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
-  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
+if { (ac_try="$ac_cpp conftest.$ac_ext"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
@@ -7192,9 +8743,10 @@
   # Broken: fails on valid input.
 continue
 fi
+
 rm -f conftest.err conftest.$ac_ext
 
-  # OK, works on sane cases.  Now check whether non-existent headers
+  # OK, works on sane cases.  Now check whether nonexistent headers
   # can be detected and how.
   cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
@@ -7204,8 +8756,13 @@
 /* end confdefs.h.  */
 #include <ac_nonexistent.h>
 _ACEOF
-if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
-  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
+if { (ac_try="$ac_cpp conftest.$ac_ext"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
@@ -7232,6 +8789,7 @@
 ac_preproc_ok=:
 break
 fi
+
 rm -f conftest.err conftest.$ac_ext
 
 done
@@ -7247,15 +8805,15 @@
    { (exit 1); exit 1; }; }
 fi
 
-ac_ext=cc
+ac_ext=cpp
 ac_cpp='$CXXCPP $CPPFLAGS'
 ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
 ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
 ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
 
 
-echo "$as_me:$LINENO: checking for ANSI C header files" >&5
-echo $ECHO_N "checking for ANSI C header files... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking for ANSI C header files" >&5
+echo $ECHO_N "checking for ANSI C header files... $ECHO_C" >&6; }
 if test "${ac_cv_header_stdc+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -7279,24 +8837,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -7307,7 +8877,8 @@
 
 ac_cv_header_stdc=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 
 if test $ac_cv_header_stdc = yes; then
   # SunOS 4.x string.h does not declare mem*, contrary to ANSI.
@@ -7363,6 +8934,7 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 #include <ctype.h>
+#include <stdlib.h>
 #if ((' ' & 0x0FF) == 0x020)
 # define ISLOWER(c) ('a' <= (c) && (c) <= 'z')
 # define TOUPPER(c) (ISLOWER(c) ? 'A' + ((c) - 'a') : (c))
@@ -7382,18 +8954,27 @@
   for (i = 0; i < 256; i++)
     if (XOR (islower (i), ISLOWER (i))
 	|| toupper (i) != TOUPPER (i))
-      exit(2);
-  exit (0);
+      return 2;
+  return 0;
 }
 _ACEOF
 rm -f conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -7406,12 +8987,14 @@
 ( exit $ac_status )
 ac_cv_header_stdc=no
 fi
-rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
+rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
 fi
+
+
 fi
 fi
-echo "$as_me:$LINENO: result: $ac_cv_header_stdc" >&5
-echo "${ECHO_T}$ac_cv_header_stdc" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_header_stdc" >&5
+echo "${ECHO_T}$ac_cv_header_stdc" >&6; }
 if test $ac_cv_header_stdc = yes; then
 
 cat >>confdefs.h <<\_ACEOF
@@ -7434,9 +9017,9 @@
 		  inttypes.h stdint.h unistd.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
-if eval "test \"\${$as_ac_Header+set}\" = set"; then
+{ echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   cat >conftest.$ac_ext <<_ACEOF
@@ -7450,24 +9033,36 @@
 #include <$ac_header>
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -7478,10 +9073,12 @@
 
 eval "$as_ac_Header=no"
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`" >&5
-echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
 if test `eval echo '${'$as_ac_Header'}'` = yes; then
   cat >>confdefs.h <<_ACEOF
 #define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
@@ -7492,8 +9089,8 @@
 done
 
 
-echo "$as_me:$LINENO: checking for size_t" >&5
-echo $ECHO_N "checking for size_t... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking for size_t" >&5
+echo $ECHO_N "checking for size_t... $ECHO_C" >&6; }
 if test "${ac_cv_type_size_t+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -7504,36 +9101,49 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+typedef size_t ac__type_new_;
 int
 main ()
 {
-if ((size_t *) 0)
+if ((ac__type_new_ *) 0)
   return 0;
-if (sizeof (size_t))
+if (sizeof (ac__type_new_))
   return 0;
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -7544,23 +9154,24 @@
 
 ac_cv_type_size_t=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ac_cv_type_size_t" >&5
-echo "${ECHO_T}$ac_cv_type_size_t" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_type_size_t" >&5
+echo "${ECHO_T}$ac_cv_type_size_t" >&6; }
 if test $ac_cv_type_size_t = yes; then
   :
 else
 
 cat >>confdefs.h <<_ACEOF
-#define size_t unsigned
+#define size_t unsigned int
 _ACEOF
 
 fi
 
 if test "${with_universal-no}" = "no"; then
-   echo "$as_me:$LINENO: checking for size_t" >&5
-echo $ECHO_N "checking for size_t... $ECHO_C" >&6
+   { echo "$as_me:$LINENO: checking for size_t" >&5
+echo $ECHO_N "checking for size_t... $ECHO_C" >&6; }
 if test "${ac_cv_type_size_t+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -7571,36 +9182,49 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+typedef size_t ac__type_new_;
 int
 main ()
 {
-if ((size_t *) 0)
+if ((ac__type_new_ *) 0)
   return 0;
-if (sizeof (size_t))
+if (sizeof (ac__type_new_))
   return 0;
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -7611,18 +9235,19 @@
 
 ac_cv_type_size_t=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ac_cv_type_size_t" >&5
-echo "${ECHO_T}$ac_cv_type_size_t" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_type_size_t" >&5
+echo "${ECHO_T}$ac_cv_type_size_t" >&6; }
 
-echo "$as_me:$LINENO: checking size of size_t" >&5
-echo $ECHO_N "checking size of size_t... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking size of size_t" >&5
+echo $ECHO_N "checking size of size_t... $ECHO_C" >&6; }
 if test "${ac_cv_sizeof_size_t+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   if test "$ac_cv_type_size_t" = yes; then
-  # The cast to unsigned long works around a bug in the HP C Compiler
+  # The cast to long int works around a bug in the HP C Compiler
   # version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
   # declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.
   # This bug is HP SR number 8606223364.
@@ -7635,10 +9260,11 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+		   typedef size_t ac__type_sizeof_;
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (size_t))) >= 0)];
+static int test_array [1 - 2 * !(((long int) (sizeof (ac__type_sizeof_))) >= 0)];
 test_array [0] = 0
 
   ;
@@ -7646,24 +9272,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -7676,10 +9314,11 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+		   typedef size_t ac__type_sizeof_;
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (size_t))) <= $ac_mid)];
+static int test_array [1 - 2 * !(((long int) (sizeof (ac__type_sizeof_))) <= $ac_mid)];
 test_array [0] = 0
 
   ;
@@ -7687,24 +9326,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -7720,7 +9371,8 @@
 		    fi
 		    ac_mid=`expr 2 '*' $ac_mid + 1`
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
   done
 else
   echo "$as_me: failed program was:" >&5
@@ -7733,10 +9385,11 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+		   typedef size_t ac__type_sizeof_;
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (size_t))) < 0)];
+static int test_array [1 - 2 * !(((long int) (sizeof (ac__type_sizeof_))) < 0)];
 test_array [0] = 0
 
   ;
@@ -7744,24 +9397,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -7774,10 +9439,11 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+		   typedef size_t ac__type_sizeof_;
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (size_t))) >= $ac_mid)];
+static int test_array [1 - 2 * !(((long int) (sizeof (ac__type_sizeof_))) >= $ac_mid)];
 test_array [0] = 0
 
   ;
@@ -7785,24 +9451,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -7818,7 +9496,8 @@
 		       fi
 		       ac_mid=`expr 2 '*' $ac_mid`
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
   done
 else
   echo "$as_me: failed program was:" >&5
@@ -7826,9 +9505,11 @@
 
 ac_lo= ac_hi=
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 # Binary search between lo and hi bounds.
 while test "x$ac_lo" != "x$ac_hi"; do
   ac_mid=`expr '(' $ac_hi - $ac_lo ')' / 2 + $ac_lo`
@@ -7839,10 +9520,11 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+		   typedef size_t ac__type_sizeof_;
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (size_t))) <= $ac_mid)];
+static int test_array [1 - 2 * !(((long int) (sizeof (ac__type_sizeof_))) <= $ac_mid)];
 test_array [0] = 0
 
   ;
@@ -7850,24 +9532,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -7878,24 +9572,18 @@
 
 ac_lo=`expr '(' $ac_mid ')' + 1`
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 done
 case $ac_lo in
 ?*) ac_cv_sizeof_size_t=$ac_lo;;
-'') { { echo "$as_me:$LINENO: error: cannot compute sizeof (size_t), 77
+'') { { echo "$as_me:$LINENO: error: cannot compute sizeof (size_t)
 See \`config.log' for more details." >&5
-echo "$as_me: error: cannot compute sizeof (size_t), 77
+echo "$as_me: error: cannot compute sizeof (size_t)
 See \`config.log' for more details." >&2;}
-   { (exit 1); exit 1; }; } ;;
+   { (exit 77); exit 77; }; } ;;
 esac
 else
-  if test "$cross_compiling" = yes; then
-  { { echo "$as_me:$LINENO: error: cannot run test program while cross compiling
-See \`config.log' for more details." >&5
-echo "$as_me: error: cannot run test program while cross compiling
-See \`config.log' for more details." >&2;}
-   { (exit 1); exit 1; }; }
-else
   cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -7903,8 +9591,9 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
-long longval () { return (long) (sizeof (size_t)); }
-unsigned long ulongval () { return (long) (sizeof (size_t)); }
+		   typedef size_t ac__type_sizeof_;
+static long int longval () { return (long int) (sizeof (ac__type_sizeof_)); }
+static unsigned long int ulongval () { return (long int) (sizeof (ac__type_sizeof_)); }
 #include <stdio.h>
 #include <stdlib.h>
 int
@@ -7913,35 +9602,44 @@
 
   FILE *f = fopen ("conftest.val", "w");
   if (! f)
-    exit (1);
-  if (((long) (sizeof (size_t))) < 0)
+    return 1;
+  if (((long int) (sizeof (ac__type_sizeof_))) < 0)
     {
-      long i = longval ();
-      if (i != ((long) (sizeof (size_t))))
-	exit (1);
+      long int i = longval ();
+      if (i != ((long int) (sizeof (ac__type_sizeof_))))
+	return 1;
       fprintf (f, "%ld\n", i);
     }
   else
     {
-      unsigned long i = ulongval ();
-      if (i != ((long) (sizeof (size_t))))
-	exit (1);
+      unsigned long int i = ulongval ();
+      if (i != ((long int) (sizeof (ac__type_sizeof_))))
+	return 1;
       fprintf (f, "%lu\n", i);
     }
-  exit (ferror (f) || fclose (f) != 0);
+  return ferror (f) || fclose (f) != 0;
 
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -7952,22 +9650,21 @@
 sed 's/^/| /' conftest.$ac_ext >&5
 
 ( exit $ac_status )
-{ { echo "$as_me:$LINENO: error: cannot compute sizeof (size_t), 77
+{ { echo "$as_me:$LINENO: error: cannot compute sizeof (size_t)
 See \`config.log' for more details." >&5
-echo "$as_me: error: cannot compute sizeof (size_t), 77
+echo "$as_me: error: cannot compute sizeof (size_t)
 See \`config.log' for more details." >&2;}
-   { (exit 1); exit 1; }; }
-fi
-rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
+   { (exit 77); exit 77; }; }
 fi
+rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
 fi
 rm -f conftest.val
 else
   ac_cv_sizeof_size_t=0
 fi
 fi
-echo "$as_me:$LINENO: result: $ac_cv_sizeof_size_t" >&5
-echo "${ECHO_T}$ac_cv_sizeof_size_t" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_sizeof_size_t" >&5
+echo "${ECHO_T}$ac_cv_sizeof_size_t" >&6; }
 cat >>confdefs.h <<_ACEOF
 #define SIZEOF_SIZE_T $ac_cv_sizeof_size_t
 _ACEOF
@@ -8006,8 +9703,8 @@
       fi
       # Extract the first word of "tcheck_cl", so it can be a program name with args.
 set dummy tcheck_cl; ac_word=$2
-echo "$as_me:$LINENO: checking for $ac_word" >&5
-echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
 if test "${ac_cv_path_TCHECK_CL+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -8023,27 +9720,28 @@
   IFS=$as_save_IFS
   test -z "$as_dir" && as_dir=.
   for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
+  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; }; then
     ac_cv_path_TCHECK_CL="$as_dir/$ac_word$ac_exec_ext"
     echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
     break 2
   fi
 done
 done
+IFS=$as_save_IFS
 
   ;;
 esac
 fi
 TCHECK_CL=$ac_cv_path_TCHECK_CL
-
 if test -n "$TCHECK_CL"; then
-  echo "$as_me:$LINENO: result: $TCHECK_CL" >&5
-echo "${ECHO_T}$TCHECK_CL" >&6
+  { echo "$as_me:$LINENO: result: $TCHECK_CL" >&5
+echo "${ECHO_T}$TCHECK_CL" >&6; }
 else
-  echo "$as_me:$LINENO: result: no" >&5
-echo "${ECHO_T}no" >&6
+  { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
 fi
 
+
       if test -n "$TCHECK_CL"; then
          CFLAGS="$CFLAGS -tcheck -O0"
          CXXFLAGS="$CXXFLAGS -tcheck -O0"
@@ -8098,8 +9796,8 @@
 #### Try to find a version of pwd that yields /net paths.
 # Extract the first word of "amq", so it can be a program name with args.
 set dummy amq; ac_word=$2
-echo "$as_me:$LINENO: checking for $ac_word" >&5
-echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
 if test "${ac_cv_path_AMQ+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -8115,31 +9813,32 @@
   IFS=$as_save_IFS
   test -z "$as_dir" && as_dir=.
   for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
+  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; }; then
     ac_cv_path_AMQ="$as_dir/$ac_word$ac_exec_ext"
     echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
     break 2
   fi
 done
 done
+IFS=$as_save_IFS
 
   ;;
 esac
 fi
 AMQ=$ac_cv_path_AMQ
-
 if test -n "$AMQ"; then
-  echo "$as_me:$LINENO: result: $AMQ" >&5
-echo "${ECHO_T}$AMQ" >&6
+  { echo "$as_me:$LINENO: result: $AMQ" >&5
+echo "${ECHO_T}$AMQ" >&6; }
 else
-  echo "$as_me:$LINENO: result: no" >&5
-echo "${ECHO_T}no" >&6
+  { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
 fi
 
+
 case "$AMQ" in
    */amq)
-      echo "$as_me:$LINENO: checking whether $AMQ -w works" >&5
-echo $ECHO_N "checking whether $AMQ -w works... $ECHO_C" >&6
+      { echo "$as_me:$LINENO: checking whether $AMQ -w works" >&5
+echo $ECHO_N "checking whether $AMQ -w works... $ECHO_C" >&6; }
 if test "${ncbi_cv_prog_amq_w+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -8149,8 +9848,8 @@
           ncbi_cv_prog_amq_w=no
        fi
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_prog_amq_w" >&5
-echo "${ECHO_T}$ncbi_cv_prog_amq_w" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_prog_amq_w" >&5
+echo "${ECHO_T}$ncbi_cv_prog_amq_w" >&6; }
       if test "$ncbi_cv_prog_amq_w" = yes; then
          smart_pwd="$AMQ -w"
       else
@@ -8261,7 +9960,7 @@
       fi
       ;;
     *:ICC )
-      runpath="$runpath -Xlinker -rpath-link -Xlinker \$(libdir)"
+      runpath="$runpath -Wl,-rpath-link,\$(libdir)"
       ;;
    esac
 elif test "$with_runpath" = "yes"  -o  "$with_dll" != "no" ; then
@@ -8338,8 +10037,8 @@
         FORBID_UNDEF='-Wl,-error_unresolved'
         ;;
    esac
-   echo "$as_me:$LINENO: checking whether $CC supports -Wl,--no-allow-shlib-undefined" >&5
-echo $ECHO_N "checking whether $CC supports -Wl,--no-allow-shlib-undefined... $ECHO_C" >&6
+   { echo "$as_me:$LINENO: checking whether $CC supports -Wl,--no-allow-shlib-undefined" >&5
+echo $ECHO_N "checking whether $CC supports -Wl,--no-allow-shlib-undefined... $ECHO_C" >&6; }
 if test "${ncbi_cv_prog_cc_wl_no_asu+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -8361,24 +10060,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -8389,12 +10100,13 @@
 
 ncbi_cv_prog_cc_wl_no_asu=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
        LDFLAGS=$orig_LDFLAGS
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_prog_cc_wl_no_asu" >&5
-echo "${ECHO_T}$ncbi_cv_prog_cc_wl_no_asu" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_prog_cc_wl_no_asu" >&5
+echo "${ECHO_T}$ncbi_cv_prog_cc_wl_no_asu" >&6; }
    if test "$ncbi_cv_prog_cc_wl_no_asu" = yes; then
       FORBID_UNDEF="$FORBID_UNDEF -Wl,--no-allow-shlib-undefined"
    fi
@@ -8481,8 +10193,8 @@
 ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
 ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
 ac_compiler_gnu=$ac_cv_c_compiler_gnu
-echo "$as_me:$LINENO: checking how to run the C preprocessor" >&5
-echo $ECHO_N "checking how to run the C preprocessor... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking how to run the C preprocessor" >&5
+echo $ECHO_N "checking how to run the C preprocessor... $ECHO_C" >&6; }
 # On Suns, sometimes $CPP names a directory.
 if test -n "$CPP" && test -d "$CPP"; then
   CPP=
@@ -8516,8 +10228,13 @@
 #endif
 		     Syntax error
 _ACEOF
-if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
-  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
+if { (ac_try="$ac_cpp conftest.$ac_ext"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
@@ -8542,9 +10259,10 @@
   # Broken: fails on valid input.
 continue
 fi
+
 rm -f conftest.err conftest.$ac_ext
 
-  # OK, works on sane cases.  Now check whether non-existent headers
+  # OK, works on sane cases.  Now check whether nonexistent headers
   # can be detected and how.
   cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
@@ -8554,8 +10272,13 @@
 /* end confdefs.h.  */
 #include <ac_nonexistent.h>
 _ACEOF
-if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
-  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
+if { (ac_try="$ac_cpp conftest.$ac_ext"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
@@ -8582,6 +10305,7 @@
 ac_preproc_ok=:
 break
 fi
+
 rm -f conftest.err conftest.$ac_ext
 
 done
@@ -8599,8 +10323,8 @@
 else
   ac_cv_prog_CPP=$CPP
 fi
-echo "$as_me:$LINENO: result: $CPP" >&5
-echo "${ECHO_T}$CPP" >&6
+{ echo "$as_me:$LINENO: result: $CPP" >&5
+echo "${ECHO_T}$CPP" >&6; }
 ac_preproc_ok=false
 for ac_c_preproc_warn_flag in '' yes
 do
@@ -8623,8 +10347,13 @@
 #endif
 		     Syntax error
 _ACEOF
-if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
-  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
+if { (ac_try="$ac_cpp conftest.$ac_ext"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
@@ -8649,9 +10378,10 @@
   # Broken: fails on valid input.
 continue
 fi
+
 rm -f conftest.err conftest.$ac_ext
 
-  # OK, works on sane cases.  Now check whether non-existent headers
+  # OK, works on sane cases.  Now check whether nonexistent headers
   # can be detected and how.
   cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
@@ -8661,8 +10391,13 @@
 /* end confdefs.h.  */
 #include <ac_nonexistent.h>
 _ACEOF
-if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
-  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
+if { (ac_try="$ac_cpp conftest.$ac_ext"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
@@ -8689,6 +10424,7 @@
 ac_preproc_ok=:
 break
 fi
+
 rm -f conftest.err conftest.$ac_ext
 
 done
@@ -8704,7 +10440,7 @@
    { (exit 1); exit 1; }; }
 fi
 
-ac_ext=cc
+ac_ext=cpp
 ac_cpp='$CXXCPP $CPPFLAGS'
 ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
 ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
@@ -8898,7 +10634,7 @@
 echo "$as_me: WARNING: Proceeding without questions per --without-caution" >&2;} ;;
     * )
        echo "Do you want to re-configure in \"${builddir}\"? [y/N]"
-       read answer
+       read answer <& 7
        case "$answer" in
          [Yy]* )  { echo "$as_me:$LINENO: WARNING: Proceeding at your own risk..." >&5
 echo "$as_me: WARNING: Proceeding at your own risk..." >&2;} ;;
@@ -8939,8 +10675,8 @@
 BINCOPY="cp -p"
 MAC_BINCOPY="/Developer/Tools/CpMac -p"
 if test "$with_bincopy" != "yes"; then
-   echo "$as_me:$LINENO: checking whether cross-directory hard links work" >&5
-echo $ECHO_N "checking whether cross-directory hard links work... $ECHO_C" >&6
+   { echo "$as_me:$LINENO: checking whether cross-directory hard links work" >&5
+echo $ECHO_N "checking whether cross-directory hard links work... $ECHO_C" >&6; }
 if test "${ncbi_cv_sys_xdir_ln+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -8953,8 +10689,8 @@
        fi
        rm -rf conftestdir conftestfile
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_sys_xdir_ln" >&5
-echo "${ECHO_T}$ncbi_cv_sys_xdir_ln" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_sys_xdir_ln" >&5
+echo "${ECHO_T}$ncbi_cv_sys_xdir_ln" >&6; }
    if test "$ncbi_cv_sys_xdir_ln" = "yes"; then
       BINCOPY="ln -f"
       MAC_BINCOPY="\$(top_srcdir)/scripts/common/impl/ln_mac.sh"
@@ -8999,15 +10735,30 @@
    dbgrx1="$wsrx-g[^cx$wschars]*$wsrx"
    dbgrx2="$wsrx-gx*coff[0-9+]*$wsrx"
    optrx="$wsrx-x*O[0-9s]*$wsrx"
+   NDEB_CFLAGS=`  echo " $CFLAGS "   | sed "s/$dbgrx1/ /g; s/$dbgrx2/ /g"`
+   NDEB_CXXFLAGS=`echo " $CXXFLAGS " | sed "s/$dbgrx1/ /g; s/$dbgrx2/ /g"`
+   NDEB_LDFLAGS=` echo " $LDFLAGS "  | sed "s/$dbgrx1/ /g; s/$dbgrx2/ /g"`
    if test "$with_symbols" = "no" ; then
-      CFLAGS=`  echo " $CFLAGS "   | sed "s/$dbgrx1/ /g; s/$dbgrx2/ /g"`
-      CXXFLAGS=`echo " $CXXFLAGS " | sed "s/$dbgrx1/ /g; s/$dbgrx2/ /g"`
-      LDFLAGS=` echo " $LDFLAGS "  | sed "s/$dbgrx1/ /g; s/$dbgrx2/ /g"`
+      CFLAGS=$NDEB_CFLAGS
+      CXXFLAGS=$NDEB_CXXFLAGS
+      LDFLAGS=$NDEB_LDFLAGS
    else
       echo " $CFLAGS "  | $EGREP_Q "$dbgrx1|$dbgrx2" || CFLAGS="$CFLAGS -g"
       echo " $CXXFLAGS "| $EGREP_Q "$dbgrx1|$dbgrx2" || CXXFLAGS="$CXXFLAGS -g"
       echo " $LDFLAGS " | $EGREP_Q "$dbgrx1|$dbgrx2" || LDFLAGS="$LDFLAGS -g"
       STRIP="@:"
+      case "$compiler:$compiler_version" in
+         GCC:4[89]? | GCC:[5-9]? | GCC:???? )
+            # GCC 4.8 defaults to DWARF 4, which Totalview for one
+            # can't handle; roll back to version 3 by default.
+            echo " $USER_CFLAGS " | $EGREP_Q "$dbgrx1|$dbgrx2" || \
+               CFLAGS="$NDEB_CFLAGS -gdwarf-3"
+            echo " $USER_CXXFLAGS " | $EGREP_Q "$dbgrx1|$dbgrx2" || \
+               CXXFLAGS="$NDEB_CXXFLAGS -gdwarf-3"
+            echo " $USER_LDFLAGS " | $EGREP_Q "$dbgrx1|$dbgrx2" || \
+               LDFLAGS="$NDEB_LDFLAGS -gdwarf-3"
+            ;;
+      esac
    fi
 
    NOPT_CFLAGS=`  echo " $CFLAGS "    | sed "s/$optrx/ /g"`
@@ -9056,18 +10807,19 @@
 for ac_header in iostream  iostream.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if eval "test \"\${$as_ac_Header+set}\" = set"; then
-  echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
-if eval "test \"\${$as_ac_Header+set}\" = set"; then
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  { echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 fi
-echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`" >&5
-echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
 else
   # Is the header compilable?
-echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
+echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -9078,24 +10830,36 @@
 #include <$ac_header>
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -9106,13 +10870,14 @@
 
 ac_header_compiler=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
-echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
+echo "${ECHO_T}$ac_header_compiler" >&6; }
 
 # Is the header present?
-echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
+echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -9121,8 +10886,13 @@
 /* end confdefs.h.  */
 #include <$ac_header>
 _ACEOF
-if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
-  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
+if { (ac_try="$ac_cpp conftest.$ac_ext"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
@@ -9146,9 +10916,10 @@
 
   ac_header_preproc=no
 fi
+
 rm -f conftest.err conftest.$ac_ext
-echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6
+{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
+echo "${ECHO_T}$ac_header_preproc" >&6; }
 
 # So?  What about this header?
 case $ac_header_compiler:$ac_header_preproc:$ac_cxx_preproc_warn_flag in
@@ -9172,25 +10943,24 @@
 echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
     { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
 echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-    (
-      cat <<\_ASBOX
+    ( cat <<\_ASBOX
 ## ---------------------------------------- ##
 ## Report this to cpp-core@ncbi.nlm.nih.gov ##
 ## ---------------------------------------- ##
 _ASBOX
-    ) |
-      sed "s/^/$as_me: WARNING:     /" >&2
+     ) | sed "s/^/$as_me: WARNING:     /" >&2
     ;;
 esac
-echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
-if eval "test \"\${$as_ac_Header+set}\" = set"; then
+{ echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   eval "$as_ac_Header=\$ac_header_preproc"
 fi
-echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`" >&5
-echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
 
 fi
 if test `eval echo '${'$as_ac_Header'}'` = yes; then
@@ -9207,18 +10977,19 @@
 for ac_header in fstream   fstream.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if eval "test \"\${$as_ac_Header+set}\" = set"; then
-  echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
-if eval "test \"\${$as_ac_Header+set}\" = set"; then
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  { echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 fi
-echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`" >&5
-echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
 else
   # Is the header compilable?
-echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
+echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -9229,24 +11000,36 @@
 #include <$ac_header>
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -9257,13 +11040,14 @@
 
 ac_header_compiler=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
-echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
+echo "${ECHO_T}$ac_header_compiler" >&6; }
 
 # Is the header present?
-echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
+echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -9272,8 +11056,13 @@
 /* end confdefs.h.  */
 #include <$ac_header>
 _ACEOF
-if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
-  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
+if { (ac_try="$ac_cpp conftest.$ac_ext"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
@@ -9297,9 +11086,10 @@
 
   ac_header_preproc=no
 fi
+
 rm -f conftest.err conftest.$ac_ext
-echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6
+{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
+echo "${ECHO_T}$ac_header_preproc" >&6; }
 
 # So?  What about this header?
 case $ac_header_compiler:$ac_header_preproc:$ac_cxx_preproc_warn_flag in
@@ -9323,25 +11113,24 @@
 echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
     { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
 echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-    (
-      cat <<\_ASBOX
+    ( cat <<\_ASBOX
 ## ---------------------------------------- ##
 ## Report this to cpp-core@ncbi.nlm.nih.gov ##
 ## ---------------------------------------- ##
 _ASBOX
-    ) |
-      sed "s/^/$as_me: WARNING:     /" >&2
+     ) | sed "s/^/$as_me: WARNING:     /" >&2
     ;;
 esac
-echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
-if eval "test \"\${$as_ac_Header+set}\" = set"; then
+{ echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   eval "$as_ac_Header=\$ac_header_preproc"
 fi
-echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`" >&5
-echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
 
 fi
 if test `eval echo '${'$as_ac_Header'}'` = yes; then
@@ -9359,18 +11148,19 @@
 for ac_header in strstream strstream.h strstrea.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if eval "test \"\${$as_ac_Header+set}\" = set"; then
-  echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
-if eval "test \"\${$as_ac_Header+set}\" = set"; then
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  { echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 fi
-echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`" >&5
-echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
 else
   # Is the header compilable?
-echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
+echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -9381,24 +11171,36 @@
 #include <$ac_header>
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -9409,13 +11211,14 @@
 
 ac_header_compiler=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
-echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
+echo "${ECHO_T}$ac_header_compiler" >&6; }
 
 # Is the header present?
-echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
+echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -9424,8 +11227,13 @@
 /* end confdefs.h.  */
 #include <$ac_header>
 _ACEOF
-if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
-  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
+if { (ac_try="$ac_cpp conftest.$ac_ext"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
@@ -9449,9 +11257,10 @@
 
   ac_header_preproc=no
 fi
+
 rm -f conftest.err conftest.$ac_ext
-echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6
+{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
+echo "${ECHO_T}$ac_header_preproc" >&6; }
 
 # So?  What about this header?
 case $ac_header_compiler:$ac_header_preproc:$ac_cxx_preproc_warn_flag in
@@ -9475,25 +11284,24 @@
 echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
     { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
 echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-    (
-      cat <<\_ASBOX
+    ( cat <<\_ASBOX
 ## ---------------------------------------- ##
 ## Report this to cpp-core@ncbi.nlm.nih.gov ##
 ## ---------------------------------------- ##
 _ASBOX
-    ) |
-      sed "s/^/$as_me: WARNING:     /" >&2
+     ) | sed "s/^/$as_me: WARNING:     /" >&2
     ;;
 esac
-echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
-if eval "test \"\${$as_ac_Header+set}\" = set"; then
+{ echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   eval "$as_ac_Header=\$ac_header_preproc"
 fi
-echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`" >&5
-echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
 
 fi
 if test `eval echo '${'$as_ac_Header'}'` = yes; then
@@ -9511,18 +11319,19 @@
 for ac_header in inttypes.h limits
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if eval "test \"\${$as_ac_Header+set}\" = set"; then
-  echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
-if eval "test \"\${$as_ac_Header+set}\" = set"; then
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  { echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 fi
-echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`" >&5
-echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
 else
   # Is the header compilable?
-echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
+echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -9533,24 +11342,36 @@
 #include <$ac_header>
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -9561,13 +11382,14 @@
 
 ac_header_compiler=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
-echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
+echo "${ECHO_T}$ac_header_compiler" >&6; }
 
 # Is the header present?
-echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
+echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -9576,8 +11398,13 @@
 /* end confdefs.h.  */
 #include <$ac_header>
 _ACEOF
-if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
-  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
+if { (ac_try="$ac_cpp conftest.$ac_ext"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
@@ -9601,9 +11428,10 @@
 
   ac_header_preproc=no
 fi
+
 rm -f conftest.err conftest.$ac_ext
-echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6
+{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
+echo "${ECHO_T}$ac_header_preproc" >&6; }
 
 # So?  What about this header?
 case $ac_header_compiler:$ac_header_preproc:$ac_cxx_preproc_warn_flag in
@@ -9627,25 +11455,24 @@
 echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
     { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
 echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-    (
-      cat <<\_ASBOX
+    ( cat <<\_ASBOX
 ## ---------------------------------------- ##
 ## Report this to cpp-core@ncbi.nlm.nih.gov ##
 ## ---------------------------------------- ##
 _ASBOX
-    ) |
-      sed "s/^/$as_me: WARNING:     /" >&2
+     ) | sed "s/^/$as_me: WARNING:     /" >&2
     ;;
 esac
-echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
-if eval "test \"\${$as_ac_Header+set}\" = set"; then
+{ echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   eval "$as_ac_Header=\$ac_header_preproc"
 fi
-echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`" >&5
-echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
 
 fi
 if test `eval echo '${'$as_ac_Header'}'` = yes; then
@@ -9663,18 +11490,19 @@
 for ac_header in unistd.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if eval "test \"\${$as_ac_Header+set}\" = set"; then
-  echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
-if eval "test \"\${$as_ac_Header+set}\" = set"; then
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  { echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 fi
-echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`" >&5
-echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
 else
   # Is the header compilable?
-echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
+echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -9685,24 +11513,36 @@
 #include <$ac_header>
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -9713,13 +11553,14 @@
 
 ac_header_compiler=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
-echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
+echo "${ECHO_T}$ac_header_compiler" >&6; }
 
 # Is the header present?
-echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
+echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -9728,8 +11569,13 @@
 /* end confdefs.h.  */
 #include <$ac_header>
 _ACEOF
-if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
-  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
+if { (ac_try="$ac_cpp conftest.$ac_ext"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
@@ -9753,9 +11599,10 @@
 
   ac_header_preproc=no
 fi
+
 rm -f conftest.err conftest.$ac_ext
-echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6
+{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
+echo "${ECHO_T}$ac_header_preproc" >&6; }
 
 # So?  What about this header?
 case $ac_header_compiler:$ac_header_preproc:$ac_cxx_preproc_warn_flag in
@@ -9779,25 +11626,24 @@
 echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
     { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
 echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-    (
-      cat <<\_ASBOX
+    ( cat <<\_ASBOX
 ## ---------------------------------------- ##
 ## Report this to cpp-core@ncbi.nlm.nih.gov ##
 ## ---------------------------------------- ##
 _ASBOX
-    ) |
-      sed "s/^/$as_me: WARNING:     /" >&2
+     ) | sed "s/^/$as_me: WARNING:     /" >&2
     ;;
 esac
-echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
-if eval "test \"\${$as_ac_Header+set}\" = set"; then
+{ echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   eval "$as_ac_Header=\$ac_header_preproc"
 fi
-echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`" >&5
-echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
 
 fi
 if test `eval echo '${'$as_ac_Header'}'` = yes; then
@@ -9813,18 +11659,19 @@
 for ac_header in windows.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if eval "test \"\${$as_ac_Header+set}\" = set"; then
-  echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
-if eval "test \"\${$as_ac_Header+set}\" = set"; then
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  { echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 fi
-echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`" >&5
-echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
 else
   # Is the header compilable?
-echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
+echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -9835,24 +11682,36 @@
 #include <$ac_header>
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -9863,13 +11722,14 @@
 
 ac_header_compiler=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
-echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
+echo "${ECHO_T}$ac_header_compiler" >&6; }
 
 # Is the header present?
-echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
+echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -9878,8 +11738,13 @@
 /* end confdefs.h.  */
 #include <$ac_header>
 _ACEOF
-if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
-  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
+if { (ac_try="$ac_cpp conftest.$ac_ext"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
@@ -9903,9 +11768,10 @@
 
   ac_header_preproc=no
 fi
+
 rm -f conftest.err conftest.$ac_ext
-echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6
+{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
+echo "${ECHO_T}$ac_header_preproc" >&6; }
 
 # So?  What about this header?
 case $ac_header_compiler:$ac_header_preproc:$ac_cxx_preproc_warn_flag in
@@ -9929,25 +11795,24 @@
 echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
     { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
 echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-    (
-      cat <<\_ASBOX
+    ( cat <<\_ASBOX
 ## ---------------------------------------- ##
 ## Report this to cpp-core@ncbi.nlm.nih.gov ##
 ## ---------------------------------------- ##
 _ASBOX
-    ) |
-      sed "s/^/$as_me: WARNING:     /" >&2
+     ) | sed "s/^/$as_me: WARNING:     /" >&2
     ;;
 esac
-echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
-if eval "test \"\${$as_ac_Header+set}\" = set"; then
+{ echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   eval "$as_ac_Header=\$ac_header_preproc"
 fi
-echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`" >&5
-echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
 
 fi
 if test `eval echo '${'$as_ac_Header'}'` = yes; then
@@ -10078,8 +11943,8 @@
 esac
 
 # AC_CHECK_TYPES is insufficient, as linking may still fail :-/
-echo "$as_me:$LINENO: checking for wstring" >&5
-echo $ECHO_N "checking for wstring... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking for wstring" >&5
+echo $ECHO_N "checking for wstring... $ECHO_C" >&6; }
 if test "${ac_cv_type_wstring_linkable+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -10100,24 +11965,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -10128,11 +12005,12 @@
 
 ac_cv_type_wstring_linkable=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ac_cv_type_wstring_linkable" >&5
-echo "${ECHO_T}$ac_cv_type_wstring_linkable" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_type_wstring_linkable" >&5
+echo "${ECHO_T}$ac_cv_type_wstring_linkable" >&6; }
 if test "$ac_cv_type_wstring_linkable" = "yes"; then
 
 cat >>confdefs.h <<\_ACEOF
@@ -10141,8 +12019,8 @@
 
 fi
 
-echo "$as_me:$LINENO: checking for socklen_t" >&5
-echo $ECHO_N "checking for socklen_t... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking for socklen_t" >&5
+echo $ECHO_N "checking for socklen_t... $ECHO_C" >&6; }
 if test "${ac_cv_type_socklen_t+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -10155,36 +12033,49 @@
 #include <sys/types.h>
 #include <sys/socket.h>
 
+typedef socklen_t ac__type_new_;
 int
 main ()
 {
-if ((socklen_t *) 0)
+if ((ac__type_new_ *) 0)
   return 0;
-if (sizeof (socklen_t))
+if (sizeof (ac__type_new_))
   return 0;
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -10195,10 +12086,11 @@
 
 ac_cv_type_socklen_t=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ac_cv_type_socklen_t" >&5
-echo "${ECHO_T}$ac_cv_type_socklen_t" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_type_socklen_t" >&5
+echo "${ECHO_T}$ac_cv_type_socklen_t" >&6; }
 if test $ac_cv_type_socklen_t = yes; then
 
 cat >>confdefs.h <<_ACEOF
@@ -10222,18 +12114,19 @@
                  sys/sockio.h sys/statvfs.h sys/sysinfo.h sys/vfs.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if eval "test \"\${$as_ac_Header+set}\" = set"; then
-  echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
-if eval "test \"\${$as_ac_Header+set}\" = set"; then
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  { echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 fi
-echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`" >&5
-echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
 else
   # Is the header compilable?
-echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
+echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -10244,24 +12137,36 @@
 #include <$ac_header>
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -10272,13 +12177,14 @@
 
 ac_header_compiler=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
-echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
+echo "${ECHO_T}$ac_header_compiler" >&6; }
 
 # Is the header present?
-echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
+echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -10287,8 +12193,13 @@
 /* end confdefs.h.  */
 #include <$ac_header>
 _ACEOF
-if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
-  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
+if { (ac_try="$ac_cpp conftest.$ac_ext"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
@@ -10312,9 +12223,10 @@
 
   ac_header_preproc=no
 fi
+
 rm -f conftest.err conftest.$ac_ext
-echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6
+{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
+echo "${ECHO_T}$ac_header_preproc" >&6; }
 
 # So?  What about this header?
 case $ac_header_compiler:$ac_header_preproc:$ac_cxx_preproc_warn_flag in
@@ -10338,25 +12250,24 @@
 echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
     { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
 echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-    (
-      cat <<\_ASBOX
+    ( cat <<\_ASBOX
 ## ---------------------------------------- ##
 ## Report this to cpp-core@ncbi.nlm.nih.gov ##
 ## ---------------------------------------- ##
 _ASBOX
-    ) |
-      sed "s/^/$as_me: WARNING:     /" >&2
+     ) | sed "s/^/$as_me: WARNING:     /" >&2
     ;;
 esac
-echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
-if eval "test \"\${$as_ac_Header+set}\" = set"; then
+{ echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   eval "$as_ac_Header=\$ac_header_preproc"
 fi
-echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`" >&5
-echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
 
 fi
 if test `eval echo '${'$as_ac_Header'}'` = yes; then
@@ -10373,18 +12284,19 @@
 for ac_header in winternl.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if eval "test \"\${$as_ac_Header+set}\" = set"; then
-  echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
-if eval "test \"\${$as_ac_Header+set}\" = set"; then
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  { echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 fi
-echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`" >&5
-echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
 else
   # Is the header compilable?
-echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
+echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -10395,24 +12307,36 @@
 #include <$ac_header>
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -10423,13 +12347,14 @@
 
 ac_header_compiler=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
-echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
+echo "${ECHO_T}$ac_header_compiler" >&6; }
 
 # Is the header present?
-echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
+echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -10438,8 +12363,13 @@
 /* end confdefs.h.  */
 #include <$ac_header>
 _ACEOF
-if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
-  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
+if { (ac_try="$ac_cpp conftest.$ac_ext"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
@@ -10463,9 +12393,10 @@
 
   ac_header_preproc=no
 fi
+
 rm -f conftest.err conftest.$ac_ext
-echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6
+{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
+echo "${ECHO_T}$ac_header_preproc" >&6; }
 
 # So?  What about this header?
 case $ac_header_compiler:$ac_header_preproc:$ac_cxx_preproc_warn_flag in
@@ -10489,25 +12420,24 @@
 echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
     { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
 echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-    (
-      cat <<\_ASBOX
+    ( cat <<\_ASBOX
 ## ---------------------------------------- ##
 ## Report this to cpp-core@ncbi.nlm.nih.gov ##
 ## ---------------------------------------- ##
 _ASBOX
-    ) |
-      sed "s/^/$as_me: WARNING:     /" >&2
+     ) | sed "s/^/$as_me: WARNING:     /" >&2
     ;;
 esac
-echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
-if eval "test \"\${$as_ac_Header+set}\" = set"; then
+{ echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   eval "$as_ac_Header=\$ac_header_preproc"
 fi
-echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`" >&5
-echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
 
 fi
 if test `eval echo '${'$as_ac_Header'}'` = yes; then
@@ -10539,18 +12469,19 @@
                  sys/ioctl.h sys/select.h sys/socket.h sys/time.h wchar.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-if eval "test \"\${$as_ac_Header+set}\" = set"; then
-  echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
-if eval "test \"\${$as_ac_Header+set}\" = set"; then
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
+  { echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 fi
-echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`" >&5
-echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
 else
   # Is the header compilable?
-echo "$as_me:$LINENO: checking $ac_header usability" >&5
-echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking $ac_header usability" >&5
+echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6; }
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -10561,24 +12492,36 @@
 #include <$ac_header>
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -10589,13 +12532,14 @@
 
 ac_header_compiler=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
-echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
+echo "${ECHO_T}$ac_header_compiler" >&6; }
 
 # Is the header present?
-echo "$as_me:$LINENO: checking $ac_header presence" >&5
-echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking $ac_header presence" >&5
+echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6; }
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -10604,8 +12548,13 @@
 /* end confdefs.h.  */
 #include <$ac_header>
 _ACEOF
-if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
-  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
+if { (ac_try="$ac_cpp conftest.$ac_ext"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
@@ -10629,9 +12578,10 @@
 
   ac_header_preproc=no
 fi
+
 rm -f conftest.err conftest.$ac_ext
-echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6
+{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
+echo "${ECHO_T}$ac_header_preproc" >&6; }
 
 # So?  What about this header?
 case $ac_header_compiler:$ac_header_preproc:$ac_cxx_preproc_warn_flag in
@@ -10655,25 +12605,24 @@
 echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
     { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
 echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
-    (
-      cat <<\_ASBOX
+    ( cat <<\_ASBOX
 ## ---------------------------------------- ##
 ## Report this to cpp-core@ncbi.nlm.nih.gov ##
 ## ---------------------------------------- ##
 _ASBOX
-    ) |
-      sed "s/^/$as_me: WARNING:     /" >&2
+     ) | sed "s/^/$as_me: WARNING:     /" >&2
     ;;
 esac
-echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
-if eval "test \"\${$as_ac_Header+set}\" = set"; then
+{ echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   eval "$as_ac_Header=\$ac_header_preproc"
 fi
-echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`" >&5
-echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
 
 fi
 if test `eval echo '${'$as_ac_Header'}'` = yes; then
@@ -10685,8 +12634,8 @@
 
 done
 
-echo "$as_me:$LINENO: checking whether time.h and sys/time.h may both be included" >&5
-echo $ECHO_N "checking whether time.h and sys/time.h may both be included... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking whether time.h and sys/time.h may both be included" >&5
+echo $ECHO_N "checking whether time.h and sys/time.h may both be included... $ECHO_C" >&6; }
 if test "${ac_cv_header_time+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -10710,24 +12659,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -10738,10 +12699,11 @@
 
 ac_cv_header_time=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ac_cv_header_time" >&5
-echo "${ECHO_T}$ac_cv_header_time" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_header_time" >&5
+echo "${ECHO_T}$ac_cv_header_time" >&6; }
 if test $ac_cv_header_time = yes; then
 
 cat >>confdefs.h <<\_ACEOF
@@ -10753,8 +12715,8 @@
 
 ## gethostbyname_r() -- 2 different variants: 5-arg (Solaris), 6-arg (Linux).
 
-echo "$as_me:$LINENO: checking for gethostbyname_r" >&5
-echo $ECHO_N "checking for gethostbyname_r... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking for gethostbyname_r" >&5
+echo $ECHO_N "checking for gethostbyname_r... $ECHO_C" >&6; }
 if test "${ncbi_cv_func_gethostbyname_r+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -10781,24 +12743,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -10810,8 +12784,10 @@
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
+
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
     if test "$ncbi_cv_func_gethostbyname_r" = "no" ; then
     cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
@@ -10835,24 +12811,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -10864,12 +12852,14 @@
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
+
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
     fi
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_func_gethostbyname_r" >&5
-echo "${ECHO_T}$ncbi_cv_func_gethostbyname_r" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_func_gethostbyname_r" >&5
+echo "${ECHO_T}$ncbi_cv_func_gethostbyname_r" >&6; }
 
 if test "$ncbi_cv_func_gethostbyname_r" != "no" ; then
 
@@ -10882,8 +12872,8 @@
 
 ## gethostbyaddr_r() -- 2 different variants: 7-arg (Solaris), 8-arg (Linux).
 
-echo "$as_me:$LINENO: checking for gethostbyaddr_r" >&5
-echo $ECHO_N "checking for gethostbyaddr_r... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking for gethostbyaddr_r" >&5
+echo $ECHO_N "checking for gethostbyaddr_r... $ECHO_C" >&6; }
 if test "${ncbi_cv_func_gethostbyaddr_r+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -10916,24 +12906,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -10945,8 +12947,10 @@
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
+
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
     if test "$ncbi_cv_func_gethostbyaddr_r" = "no" ; then
     cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
@@ -10976,24 +12980,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -11005,12 +13021,14 @@
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
+
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
     fi
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_func_gethostbyaddr_r" >&5
-echo "${ECHO_T}$ncbi_cv_func_gethostbyaddr_r" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_func_gethostbyaddr_r" >&5
+echo "${ECHO_T}$ncbi_cv_func_gethostbyaddr_r" >&6; }
 
 if test "$ncbi_cv_func_gethostbyaddr_r" != "no" ; then
 
@@ -11023,8 +13041,8 @@
 
 ## getservbyname_r() -- 2 different variants: 5-arg (Solaris), 6-arg (Linux).
 
-echo "$as_me:$LINENO: checking for getservbyname_r" >&5
-echo $ECHO_N "checking for getservbyname_r... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking for getservbyname_r" >&5
+echo $ECHO_N "checking for getservbyname_r... $ECHO_C" >&6; }
 if test "${ncbi_cv_func_getservbyname_r+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -11051,24 +13069,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -11080,8 +13110,10 @@
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
+
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
     if test "$ncbi_cv_func_getservbyname_r" = "no" ; then
     cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
@@ -11105,24 +13137,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -11134,12 +13178,14 @@
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
+
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
     fi
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_func_getservbyname_r" >&5
-echo "${ECHO_T}$ncbi_cv_func_getservbyname_r" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_func_getservbyname_r" >&5
+echo "${ECHO_T}$ncbi_cv_func_getservbyname_r" >&6; }
 
 if test "$ncbi_cv_func_getservbyname_r" != "no" ; then
 
@@ -11152,8 +13198,8 @@
 ## getpwuid_r() -- 2 major variants: 4-arg, 5-arg (POSIX).
 ## (Alternate 4-arg interface ignored due to rarity.)
 
-echo "$as_me:$LINENO: checking for getpwuid_r" >&5
-echo $ECHO_N "checking for getpwuid_r... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking for getpwuid_r" >&5
+echo $ECHO_N "checking for getpwuid_r... $ECHO_C" >&6; }
 if test "${ncbi_cv_func_getpwuid_r+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -11178,24 +13224,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -11204,8 +13262,10 @@
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
+
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
     if test "$ncbi_cv_func_getpwuid_r" = "no" ; then
     cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
@@ -11227,24 +13287,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -11253,12 +13325,14 @@
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
+
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
     fi
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_func_getpwuid_r" >&5
-echo "${ECHO_T}$ncbi_cv_func_getpwuid_r" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_func_getpwuid_r" >&5
+echo "${ECHO_T}$ncbi_cv_func_getpwuid_r" >&6; }
 
 if test "$ncbi_cv_func_getpwuid_r" != "no" ; then
 
@@ -11270,8 +13344,8 @@
 
 # Perform a full-fledged check in C++ to be sure of an actual declaration.
 # Accommodate the old Solaris interface that returns char* rather than int. :-/
-echo "$as_me:$LINENO: checking for getlogin_r" >&5
-echo $ECHO_N "checking for getlogin_r... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking for getlogin_r" >&5
+echo $ECHO_N "checking for getlogin_r... $ECHO_C" >&6; }
 if test "${ncbi_cv_func_getlogin_r+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -11292,24 +13366,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -11320,10 +13406,11 @@
 
 ncbi_cv_func_getlogin_r=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_func_getlogin_r" >&5
-echo "${ECHO_T}$ncbi_cv_func_getlogin_r" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_func_getlogin_r" >&5
+echo "${ECHO_T}$ncbi_cv_func_getlogin_r" >&6; }
 if test $ncbi_cv_func_getlogin_r = yes; then
 
 cat >>confdefs.h <<\_ACEOF
@@ -11342,13 +13429,12 @@
 
 
 
-
 for ac_func in localtime_r pthread_setconcurrency pthread_atfork
 do
 as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
-echo "$as_me:$LINENO: checking for $ac_func" >&5
-echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6
-if eval "test \"\${$as_ac_var+set}\" = set"; then
+{ echo "$as_me:$LINENO: checking for $ac_func" >&5
+echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6; }
+if { as_var=$as_ac_var; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   cat >conftest.$ac_ext <<_ACEOF
@@ -11374,53 +13460,59 @@
 
 #undef $ac_func
 
-/* Override any gcc2 internal prototype to avoid an error.  */
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
 #ifdef __cplusplus
 extern "C"
-{
 #endif
-/* We use char because int might match the return type of a gcc2
-   builtin and then its argument prototype would still apply.  */
 char $ac_func ();
 /* The GNU C library defines this for functions which it implements
     to always fail with ENOSYS.  Some functions are actually named
     something starting with __ and the normal name is an alias.  */
-#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
+#if defined __stub_$ac_func || defined __stub___$ac_func
 choke me
-#else
-char (*f) () = $ac_func;
-#endif
-#ifdef __cplusplus
-}
 #endif
 
 int
 main ()
 {
-return f != $ac_func;
+return $ac_func ();
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_c_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -11431,11 +13523,13 @@
 
 eval "$as_ac_var=no"
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_var'}'`" >&5
-echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
+ac_res=`eval echo '${'$as_ac_var'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
 if test `eval echo '${'$as_ac_var'}'` = yes; then
   cat >>confdefs.h <<_ACEOF
 #define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
@@ -11445,8 +13539,8 @@
 done
 
 if test "$ac_cv_func_localtime_r" = "yes" ; then
-   echo "$as_me:$LINENO: checking return type of localtime_r" >&5
-echo $ECHO_N "checking return type of localtime_r... $ECHO_C" >&6
+   { echo "$as_me:$LINENO: checking return type of localtime_r" >&5
+echo $ECHO_N "checking return type of localtime_r... $ECHO_C" >&6; }
 if test "${ac_cv_func_which_localtime_r+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -11469,24 +13563,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_c_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -11497,10 +13603,11 @@
 
 ac_cv_func_which_localtime_r=int
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ac_cv_func_which_localtime_r" >&5
-echo "${ECHO_T}$ac_cv_func_which_localtime_r" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_func_which_localtime_r" >&5
+echo "${ECHO_T}$ac_cv_func_which_localtime_r" >&6; }
    if test $ac_cv_func_which_localtime_r = struct; then
 
 cat >>confdefs.h <<\_ACEOF
@@ -11516,8 +13623,8 @@
    fi
 fi
 
-echo "$as_me:$LINENO: checking whether pthread mutexes are available" >&5
-echo $ECHO_N "checking whether pthread mutexes are available... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking whether pthread mutexes are available" >&5
+echo $ECHO_N "checking whether pthread mutexes are available... $ECHO_C" >&6; }
 if test "${ncbi_cv_func_pthread_mutex+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -11538,24 +13645,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_c_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -11566,11 +13685,12 @@
 
 ncbi_cv_func_pthread_mutex=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_func_pthread_mutex" >&5
-echo "${ECHO_T}$ncbi_cv_func_pthread_mutex" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_func_pthread_mutex" >&5
+echo "${ECHO_T}$ncbi_cv_func_pthread_mutex" >&6; }
 if test $ncbi_cv_func_pthread_mutex=yes; then
 
 cat >>confdefs.h <<\_ACEOF
@@ -11586,9 +13706,9 @@
 for ac_func in vprintf
 do
 as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
-echo "$as_me:$LINENO: checking for $ac_func" >&5
-echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6
-if eval "test \"\${$as_ac_var+set}\" = set"; then
+{ echo "$as_me:$LINENO: checking for $ac_func" >&5
+echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6; }
+if { as_var=$as_ac_var; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   cat >conftest.$ac_ext <<_ACEOF
@@ -11614,53 +13734,59 @@
 
 #undef $ac_func
 
-/* Override any gcc2 internal prototype to avoid an error.  */
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
 #ifdef __cplusplus
 extern "C"
-{
 #endif
-/* We use char because int might match the return type of a gcc2
-   builtin and then its argument prototype would still apply.  */
 char $ac_func ();
 /* The GNU C library defines this for functions which it implements
     to always fail with ENOSYS.  Some functions are actually named
     something starting with __ and the normal name is an alias.  */
-#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
+#if defined __stub_$ac_func || defined __stub___$ac_func
 choke me
-#else
-char (*f) () = $ac_func;
-#endif
-#ifdef __cplusplus
-}
 #endif
 
 int
 main ()
 {
-return f != $ac_func;
+return $ac_func ();
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_c_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -11671,18 +13797,20 @@
 
 eval "$as_ac_var=no"
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_var'}'`" >&5
-echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
+ac_res=`eval echo '${'$as_ac_var'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
 if test `eval echo '${'$as_ac_var'}'` = yes; then
   cat >>confdefs.h <<_ACEOF
 #define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
 _ACEOF
 
-echo "$as_me:$LINENO: checking for _doprnt" >&5
-echo $ECHO_N "checking for _doprnt... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking for _doprnt" >&5
+echo $ECHO_N "checking for _doprnt... $ECHO_C" >&6; }
 if test "${ac_cv_func__doprnt+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -11709,53 +13837,59 @@
 
 #undef _doprnt
 
-/* Override any gcc2 internal prototype to avoid an error.  */
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
 #ifdef __cplusplus
 extern "C"
-{
 #endif
-/* We use char because int might match the return type of a gcc2
-   builtin and then its argument prototype would still apply.  */
 char _doprnt ();
 /* The GNU C library defines this for functions which it implements
     to always fail with ENOSYS.  Some functions are actually named
     something starting with __ and the normal name is an alias.  */
-#if defined (__stub__doprnt) || defined (__stub____doprnt)
+#if defined __stub__doprnt || defined __stub____doprnt
 choke me
-#else
-char (*f) () = _doprnt;
-#endif
-#ifdef __cplusplus
-}
 #endif
 
 int
 main ()
 {
-return f != _doprnt;
+return _doprnt ();
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_c_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -11766,11 +13900,12 @@
 
 ac_cv_func__doprnt=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ac_cv_func__doprnt" >&5
-echo "${ECHO_T}$ac_cv_func__doprnt" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_func__doprnt" >&5
+echo "${ECHO_T}$ac_cv_func__doprnt" >&6; }
 if test $ac_cv_func__doprnt = yes; then
 
 cat >>confdefs.h <<\_ACEOF
@@ -11816,17 +13951,18 @@
 
 
 
-for ac_func in euidaccess atoll basename lchown fseeko getpagesize \
-               getpass getpassphrase getpwuid getrusage gettimeofday \
-               getuid memrchr readpassphrase readv usleep \
+
+for ac_func in euidaccess atoll basename lchown fseeko getgrouplist \
+               getpagesize getpass getpassphrase getpwuid getrusage \
+               gettimeofday getuid memrchr readpassphrase readv usleep \
                asprintf vasprintf vsnprintf select statfs statvfs \
                strcasecmp strlcat strlcpy strdup strndup strtok_r \
                sysmp timegm utimes lutimes writev
 do
 as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
-echo "$as_me:$LINENO: checking for $ac_func" >&5
-echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6
-if eval "test \"\${$as_ac_var+set}\" = set"; then
+{ echo "$as_me:$LINENO: checking for $ac_func" >&5
+echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6; }
+if { as_var=$as_ac_var; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   cat >conftest.$ac_ext <<_ACEOF
@@ -11852,53 +13988,59 @@
 
 #undef $ac_func
 
-/* Override any gcc2 internal prototype to avoid an error.  */
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
 #ifdef __cplusplus
 extern "C"
-{
 #endif
-/* We use char because int might match the return type of a gcc2
-   builtin and then its argument prototype would still apply.  */
 char $ac_func ();
 /* The GNU C library defines this for functions which it implements
     to always fail with ENOSYS.  Some functions are actually named
     something starting with __ and the normal name is an alias.  */
-#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
+#if defined __stub_$ac_func || defined __stub___$ac_func
 choke me
-#else
-char (*f) () = $ac_func;
-#endif
-#ifdef __cplusplus
-}
 #endif
 
 int
 main ()
 {
-return f != $ac_func;
+return $ac_func ();
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_c_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -11909,11 +14051,13 @@
 
 eval "$as_ac_var=no"
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_var'}'`" >&5
-echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
+ac_res=`eval echo '${'$as_ac_var'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
 if test `eval echo '${'$as_ac_var'}'` = yes; then
   cat >>confdefs.h <<_ACEOF
 #define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
@@ -11922,15 +14066,15 @@
 fi
 done
 
-ac_ext=cc
+ac_ext=cpp
 ac_cpp='$CXXCPP $CPPFLAGS'
 ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
 ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
 ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
 
 
-echo "$as_me:$LINENO: checking return type of signal handlers" >&5
-echo $ECHO_N "checking return type of signal handlers... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking return type of signal handlers" >&5
+echo $ECHO_N "checking return type of signal handlers... $ECHO_C" >&6; }
 if test "${ac_cv_type_signal+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -11942,56 +14086,61 @@
 /* end confdefs.h.  */
 #include <sys/types.h>
 #include <signal.h>
-#ifdef signal
-# undef signal
-#endif
-#ifdef __cplusplus
-extern "C" void (*signal (int, void (*)(int)))(int);
-#else
-void (*signal ()) ();
-#endif
 
 int
 main ()
 {
-int i;
+return *(signal (0, 0)) (0) == 1;
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ac_cv_type_signal=void
+  ac_cv_type_signal=int
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-ac_cv_type_signal=int
+	ac_cv_type_signal=void
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ac_cv_type_signal" >&5
-echo "${ECHO_T}$ac_cv_type_signal" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_type_signal" >&5
+echo "${ECHO_T}$ac_cv_type_signal" >&6; }
 
 cat >>confdefs.h <<_ACEOF
 #define RETSIGTYPE $ac_cv_type_signal
@@ -11999,8 +14148,8 @@
 
 
 test "$ac_cv_func_select" = yes  ||  ncbi_cv_func_select_updates_timeout=no
-echo "$as_me:$LINENO: checking whether select updates the timeout when interrupted" >&5
-echo $ECHO_N "checking whether select updates the timeout when interrupted... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking whether select updates the timeout when interrupted" >&5
+echo $ECHO_N "checking whether select updates the timeout when interrupted... $ECHO_C" >&6; }
 if test "${ncbi_cv_func_select_updates_timeout+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -12041,13 +14190,22 @@
 }
 _ACEOF
 rm -f conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -12060,11 +14218,13 @@
 ( exit $ac_status )
 ncbi_cv_func_select_updates_timeout=no
 fi
-rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
+rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
 fi
+
+
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_func_select_updates_timeout" >&5
-echo "${ECHO_T}$ncbi_cv_func_select_updates_timeout" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_func_select_updates_timeout" >&5
+echo "${ECHO_T}$ncbi_cv_func_select_updates_timeout" >&6; }
 if test "$ncbi_cv_func_select_updates_timeout" = yes; then
 
 cat >>confdefs.h <<\_ACEOF
@@ -12078,8 +14238,8 @@
 # is yes when cross-compiling; anyone cross-compiling for exceptional
 # platforms can set ncbi_cv_func_strcasecmp_lc=no in config.site.
 if test "$ac_cv_func_strcasecmp" = yes; then
-   echo "$as_me:$LINENO: checking whether strcasecmp treats letters as lowercase" >&5
-echo $ECHO_N "checking whether strcasecmp treats letters as lowercase... $ECHO_C" >&6
+   { echo "$as_me:$LINENO: checking whether strcasecmp treats letters as lowercase" >&5
+echo $ECHO_N "checking whether strcasecmp treats letters as lowercase... $ECHO_C" >&6; }
 if test "${ncbi_cv_func_strcasecmp_lc+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -12102,13 +14262,22 @@
 }
 _ACEOF
 rm -f conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -12121,11 +14290,13 @@
 ( exit $ac_status )
 ncbi_cv_func_strcasecmp_lc=no
 fi
-rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
+rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
 fi
+
+
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_func_strcasecmp_lc" >&5
-echo "${ECHO_T}$ncbi_cv_func_strcasecmp_lc" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_func_strcasecmp_lc" >&5
+echo "${ECHO_T}$ncbi_cv_func_strcasecmp_lc" >&6; }
    if test "$ncbi_cv_func_strcasecmp_lc" = yes; then
 
 cat >>confdefs.h <<\_ACEOF
@@ -12135,8 +14306,8 @@
    fi
 fi
 
-echo "$as_me:$LINENO: checking for Linux-like sysinfo with 1 arg" >&5
-echo $ECHO_N "checking for Linux-like sysinfo with 1 arg... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking for Linux-like sysinfo with 1 arg" >&5
+echo $ECHO_N "checking for Linux-like sysinfo with 1 arg... $ECHO_C" >&6; }
 if test "${ncbi_cv_func_sysinfo_1+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -12160,24 +14331,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -12188,10 +14371,11 @@
 
 ncbi_cv_func_sysinfo_1=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_func_sysinfo_1" >&5
-echo "${ECHO_T}$ncbi_cv_func_sysinfo_1" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_func_sysinfo_1" >&5
+echo "${ECHO_T}$ncbi_cv_func_sysinfo_1" >&6; }
 
 if test "$ncbi_cv_func_sysinfo_1" = yes; then
 
@@ -12205,9 +14389,9 @@
 for ac_func in getloadavg
 do
 as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
-echo "$as_me:$LINENO: checking for $ac_func" >&5
-echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6
-if eval "test \"\${$as_ac_var+set}\" = set"; then
+{ echo "$as_me:$LINENO: checking for $ac_func" >&5
+echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6; }
+if { as_var=$as_ac_var; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   cat >conftest.$ac_ext <<_ACEOF
@@ -12233,53 +14417,59 @@
 
 #undef $ac_func
 
-/* Override any gcc2 internal prototype to avoid an error.  */
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
 #ifdef __cplusplus
 extern "C"
-{
 #endif
-/* We use char because int might match the return type of a gcc2
-   builtin and then its argument prototype would still apply.  */
 char $ac_func ();
 /* The GNU C library defines this for functions which it implements
     to always fail with ENOSYS.  Some functions are actually named
     something starting with __ and the normal name is an alias.  */
-#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
+#if defined __stub_$ac_func || defined __stub___$ac_func
 choke me
-#else
-char (*f) () = $ac_func;
-#endif
-#ifdef __cplusplus
-}
 #endif
 
 int
 main ()
 {
-return f != $ac_func;
+return $ac_func ();
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -12290,11 +14480,13 @@
 
 eval "$as_ac_var=no"
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_var'}'`" >&5
-echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
+ac_res=`eval echo '${'$as_ac_var'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
 if test `eval echo '${'$as_ac_var'}'` = yes; then
   cat >>confdefs.h <<_ACEOF
 #define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
@@ -12306,8 +14498,8 @@
 
 ## readdir_r() -- 2 different variants: 2-arg (trad. Solaris), 3-arg (POSIX).
 
-echo "$as_me:$LINENO: checking for readdir_r" >&5
-echo $ECHO_N "checking for readdir_r... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking for readdir_r" >&5
+echo $ECHO_N "checking for readdir_r... $ECHO_C" >&6; }
 if test "${ncbi_cv_func_readdir_r+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -12328,24 +14520,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -12354,8 +14558,10 @@
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
+
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
     if test "$ncbi_cv_func_readdir_r" = "no" ; then
     cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
@@ -12373,24 +14579,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -12399,12 +14617,14 @@
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
+
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
     fi
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_func_readdir_r" >&5
-echo "${ECHO_T}$ncbi_cv_func_readdir_r" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_func_readdir_r" >&5
+echo "${ECHO_T}$ncbi_cv_func_readdir_r" >&6; }
 
 if test "$ncbi_cv_func_readdir_r" != "no" ; then
 
@@ -12415,8 +14635,8 @@
 fi
 
 ### Check for typedefs, structures, and compiler features.
-echo "$as_me:$LINENO: checking for an ANSI C-conforming const" >&5
-echo $ECHO_N "checking for an ANSI C-conforming const... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking for an ANSI C-conforming const" >&5
+echo $ECHO_N "checking for an ANSI C-conforming const... $ECHO_C" >&6; }
 if test "${ac_cv_c_const+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -12456,6 +14676,7 @@
     char const *s = 0 ? (char *) 0 : (char const *) 0;
 
     *t++ = 0;
+    if (s) return 0;
   }
   { /* Someone thinks the Sun supposedly-ANSI compiler will reject this.  */
     int x[] = {25, 17};
@@ -12474,7 +14695,9 @@
   }
   { /* ULTRIX-32 V3.1 (Rev 9) vcc rejects this */
     const int foo = 10;
+    if (!foo) return 0;
   }
+  return !x[0] && !zero.x;
 #endif
 
   ;
@@ -12482,24 +14705,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -12510,10 +14745,11 @@
 
 ac_cv_c_const=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ac_cv_c_const" >&5
-echo "${ECHO_T}$ac_cv_c_const" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_c_const" >&5
+echo "${ECHO_T}$ac_cv_c_const" >&6; }
 if test $ac_cv_c_const = no; then
 
 cat >>confdefs.h <<\_ACEOF
@@ -12525,8 +14761,8 @@
 
 ### Check for C standard types and sizes
 if test "${with_universal-no}" = "no"; then
-   echo "$as_me:$LINENO: checking whether byte ordering is bigendian" >&5
-echo $ECHO_N "checking whether byte ordering is bigendian... $ECHO_C" >&6
+   { echo "$as_me:$LINENO: checking whether byte ordering is bigendian" >&5
+echo $ECHO_N "checking whether byte ordering is bigendian... $ECHO_C" >&6; }
 if test "${ac_cv_c_bigendian+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -12552,24 +14788,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -12595,24 +14843,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -12623,7 +14883,8 @@
 
 ac_cv_c_bigendian=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
@@ -12638,11 +14899,11 @@
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-short ascii_mm[] = { 0x4249, 0x4765, 0x6E44, 0x6961, 0x6E53, 0x7953, 0 };
-short ascii_ii[] = { 0x694C, 0x5454, 0x656C, 0x6E45, 0x6944, 0x6E61, 0 };
+short int ascii_mm[] = { 0x4249, 0x4765, 0x6E44, 0x6961, 0x6E53, 0x7953, 0 };
+short int ascii_ii[] = { 0x694C, 0x5454, 0x656C, 0x6E45, 0x6944, 0x6E61, 0 };
 void _ascii () { char *s = (char *) ascii_mm; s = (char *) ascii_ii; }
-short ebcdic_ii[] = { 0x89D3, 0xE3E3, 0x8593, 0x95C5, 0x89C4, 0x9581, 0 };
-short ebcdic_mm[] = { 0xC2C9, 0xC785, 0x95C4, 0x8981, 0x95E2, 0xA8E2, 0 };
+short int ebcdic_ii[] = { 0x89D3, 0xE3E3, 0x8593, 0x95C5, 0x89C4, 0x9581, 0 };
+short int ebcdic_mm[] = { 0xC2C9, 0xC785, 0x95C4, 0x8981, 0x95E2, 0xA8E2, 0 };
 void _ebcdic () { char *s = (char *) ebcdic_mm; s = (char *) ebcdic_ii; }
 int
 main ()
@@ -12653,24 +14914,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -12689,8 +14962,10 @@
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
+
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 else
   cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
@@ -12698,27 +14973,41 @@
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
+$ac_includes_default
 int
 main ()
 {
+
   /* Are we little or big endian?  From Harbison&Steele.  */
   union
   {
-    long l;
-    char c[sizeof (long)];
+    long int l;
+    char c[sizeof (long int)];
   } u;
   u.l = 1;
-  exit (u.c[sizeof (long) - 1] == 1);
+  return u.c[sizeof (long int) - 1] == 1;
+
+  ;
+  return 0;
 }
 _ACEOF
 rm -f conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -12731,13 +15020,16 @@
 ( exit $ac_status )
 ac_cv_c_bigendian=yes
 fi
-rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
+rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
 fi
+
+
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ac_cv_c_bigendian" >&5
-echo "${ECHO_T}$ac_cv_c_bigendian" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_c_bigendian" >&5
+echo "${ECHO_T}$ac_cv_c_bigendian" >&6; }
 case $ac_cv_c_bigendian in
   yes)
 
@@ -12756,8 +15048,8 @@
 esac
 
 
-echo "$as_me:$LINENO: checking whether char is unsigned" >&5
-echo $ECHO_N "checking whether char is unsigned... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking whether char is unsigned" >&5
+echo $ECHO_N "checking whether char is unsigned... $ECHO_C" >&6; }
 if test "${ac_cv_c_char_unsigned+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -12779,24 +15071,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -12807,10 +15111,11 @@
 
 ac_cv_c_char_unsigned=yes
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ac_cv_c_char_unsigned" >&5
-echo "${ECHO_T}$ac_cv_c_char_unsigned" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_c_char_unsigned" >&5
+echo "${ECHO_T}$ac_cv_c_char_unsigned" >&6; }
 if test $ac_cv_c_char_unsigned = yes && test "$GCC" != yes; then
   cat >>confdefs.h <<\_ACEOF
 #define __CHAR_UNSIGNED__ 1
@@ -12818,8 +15123,8 @@
 
 fi
 
-   echo "$as_me:$LINENO: checking for char" >&5
-echo $ECHO_N "checking for char... $ECHO_C" >&6
+   { echo "$as_me:$LINENO: checking for char" >&5
+echo $ECHO_N "checking for char... $ECHO_C" >&6; }
 if test "${ac_cv_type_char+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -12830,36 +15135,49 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+typedef char ac__type_new_;
 int
 main ()
 {
-if ((char *) 0)
+if ((ac__type_new_ *) 0)
   return 0;
-if (sizeof (char))
+if (sizeof (ac__type_new_))
   return 0;
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -12870,18 +15188,19 @@
 
 ac_cv_type_char=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ac_cv_type_char" >&5
-echo "${ECHO_T}$ac_cv_type_char" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_type_char" >&5
+echo "${ECHO_T}$ac_cv_type_char" >&6; }
 
-echo "$as_me:$LINENO: checking size of char" >&5
-echo $ECHO_N "checking size of char... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking size of char" >&5
+echo $ECHO_N "checking size of char... $ECHO_C" >&6; }
 if test "${ac_cv_sizeof_char+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   if test "$ac_cv_type_char" = yes; then
-  # The cast to unsigned long works around a bug in the HP C Compiler
+  # The cast to long int works around a bug in the HP C Compiler
   # version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
   # declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.
   # This bug is HP SR number 8606223364.
@@ -12894,10 +15213,11 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+		   typedef char ac__type_sizeof_;
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (char))) >= 0)];
+static int test_array [1 - 2 * !(((long int) (sizeof (ac__type_sizeof_))) >= 0)];
 test_array [0] = 0
 
   ;
@@ -12905,24 +15225,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -12935,10 +15267,11 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+		   typedef char ac__type_sizeof_;
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (char))) <= $ac_mid)];
+static int test_array [1 - 2 * !(((long int) (sizeof (ac__type_sizeof_))) <= $ac_mid)];
 test_array [0] = 0
 
   ;
@@ -12946,24 +15279,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -12979,7 +15324,8 @@
 		    fi
 		    ac_mid=`expr 2 '*' $ac_mid + 1`
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
   done
 else
   echo "$as_me: failed program was:" >&5
@@ -12992,10 +15338,11 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+		   typedef char ac__type_sizeof_;
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (char))) < 0)];
+static int test_array [1 - 2 * !(((long int) (sizeof (ac__type_sizeof_))) < 0)];
 test_array [0] = 0
 
   ;
@@ -13003,24 +15350,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -13033,10 +15392,11 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+		   typedef char ac__type_sizeof_;
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (char))) >= $ac_mid)];
+static int test_array [1 - 2 * !(((long int) (sizeof (ac__type_sizeof_))) >= $ac_mid)];
 test_array [0] = 0
 
   ;
@@ -13044,24 +15404,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -13077,7 +15449,8 @@
 		       fi
 		       ac_mid=`expr 2 '*' $ac_mid`
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
   done
 else
   echo "$as_me: failed program was:" >&5
@@ -13085,9 +15458,11 @@
 
 ac_lo= ac_hi=
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 # Binary search between lo and hi bounds.
 while test "x$ac_lo" != "x$ac_hi"; do
   ac_mid=`expr '(' $ac_hi - $ac_lo ')' / 2 + $ac_lo`
@@ -13098,10 +15473,11 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+		   typedef char ac__type_sizeof_;
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (char))) <= $ac_mid)];
+static int test_array [1 - 2 * !(((long int) (sizeof (ac__type_sizeof_))) <= $ac_mid)];
 test_array [0] = 0
 
   ;
@@ -13109,24 +15485,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -13137,24 +15525,18 @@
 
 ac_lo=`expr '(' $ac_mid ')' + 1`
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 done
 case $ac_lo in
 ?*) ac_cv_sizeof_char=$ac_lo;;
-'') { { echo "$as_me:$LINENO: error: cannot compute sizeof (char), 77
+'') { { echo "$as_me:$LINENO: error: cannot compute sizeof (char)
 See \`config.log' for more details." >&5
-echo "$as_me: error: cannot compute sizeof (char), 77
+echo "$as_me: error: cannot compute sizeof (char)
 See \`config.log' for more details." >&2;}
-   { (exit 1); exit 1; }; } ;;
+   { (exit 77); exit 77; }; } ;;
 esac
 else
-  if test "$cross_compiling" = yes; then
-  { { echo "$as_me:$LINENO: error: cannot run test program while cross compiling
-See \`config.log' for more details." >&5
-echo "$as_me: error: cannot run test program while cross compiling
-See \`config.log' for more details." >&2;}
-   { (exit 1); exit 1; }; }
-else
   cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -13162,8 +15544,9 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
-long longval () { return (long) (sizeof (char)); }
-unsigned long ulongval () { return (long) (sizeof (char)); }
+		   typedef char ac__type_sizeof_;
+static long int longval () { return (long int) (sizeof (ac__type_sizeof_)); }
+static unsigned long int ulongval () { return (long int) (sizeof (ac__type_sizeof_)); }
 #include <stdio.h>
 #include <stdlib.h>
 int
@@ -13172,35 +15555,44 @@
 
   FILE *f = fopen ("conftest.val", "w");
   if (! f)
-    exit (1);
-  if (((long) (sizeof (char))) < 0)
+    return 1;
+  if (((long int) (sizeof (ac__type_sizeof_))) < 0)
     {
-      long i = longval ();
-      if (i != ((long) (sizeof (char))))
-	exit (1);
+      long int i = longval ();
+      if (i != ((long int) (sizeof (ac__type_sizeof_))))
+	return 1;
       fprintf (f, "%ld\n", i);
     }
   else
     {
-      unsigned long i = ulongval ();
-      if (i != ((long) (sizeof (char))))
-	exit (1);
+      unsigned long int i = ulongval ();
+      if (i != ((long int) (sizeof (ac__type_sizeof_))))
+	return 1;
       fprintf (f, "%lu\n", i);
     }
-  exit (ferror (f) || fclose (f) != 0);
+  return ferror (f) || fclose (f) != 0;
 
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -13211,29 +15603,28 @@
 sed 's/^/| /' conftest.$ac_ext >&5
 
 ( exit $ac_status )
-{ { echo "$as_me:$LINENO: error: cannot compute sizeof (char), 77
+{ { echo "$as_me:$LINENO: error: cannot compute sizeof (char)
 See \`config.log' for more details." >&5
-echo "$as_me: error: cannot compute sizeof (char), 77
+echo "$as_me: error: cannot compute sizeof (char)
 See \`config.log' for more details." >&2;}
-   { (exit 1); exit 1; }; }
-fi
-rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
+   { (exit 77); exit 77; }; }
 fi
+rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
 fi
 rm -f conftest.val
 else
   ac_cv_sizeof_char=0
 fi
 fi
-echo "$as_me:$LINENO: result: $ac_cv_sizeof_char" >&5
-echo "${ECHO_T}$ac_cv_sizeof_char" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_sizeof_char" >&5
+echo "${ECHO_T}$ac_cv_sizeof_char" >&6; }
 cat >>confdefs.h <<_ACEOF
 #define SIZEOF_CHAR $ac_cv_sizeof_char
 _ACEOF
 
 
-   echo "$as_me:$LINENO: checking for double" >&5
-echo $ECHO_N "checking for double... $ECHO_C" >&6
+   { echo "$as_me:$LINENO: checking for double" >&5
+echo $ECHO_N "checking for double... $ECHO_C" >&6; }
 if test "${ac_cv_type_double+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -13244,36 +15635,49 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+typedef double ac__type_new_;
 int
 main ()
 {
-if ((double *) 0)
+if ((ac__type_new_ *) 0)
   return 0;
-if (sizeof (double))
+if (sizeof (ac__type_new_))
   return 0;
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -13284,18 +15688,19 @@
 
 ac_cv_type_double=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ac_cv_type_double" >&5
-echo "${ECHO_T}$ac_cv_type_double" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_type_double" >&5
+echo "${ECHO_T}$ac_cv_type_double" >&6; }
 
-echo "$as_me:$LINENO: checking size of double" >&5
-echo $ECHO_N "checking size of double... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking size of double" >&5
+echo $ECHO_N "checking size of double... $ECHO_C" >&6; }
 if test "${ac_cv_sizeof_double+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   if test "$ac_cv_type_double" = yes; then
-  # The cast to unsigned long works around a bug in the HP C Compiler
+  # The cast to long int works around a bug in the HP C Compiler
   # version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
   # declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.
   # This bug is HP SR number 8606223364.
@@ -13308,10 +15713,11 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+		   typedef double ac__type_sizeof_;
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (double))) >= 0)];
+static int test_array [1 - 2 * !(((long int) (sizeof (ac__type_sizeof_))) >= 0)];
 test_array [0] = 0
 
   ;
@@ -13319,24 +15725,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -13349,10 +15767,11 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+		   typedef double ac__type_sizeof_;
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (double))) <= $ac_mid)];
+static int test_array [1 - 2 * !(((long int) (sizeof (ac__type_sizeof_))) <= $ac_mid)];
 test_array [0] = 0
 
   ;
@@ -13360,24 +15779,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -13393,7 +15824,8 @@
 		    fi
 		    ac_mid=`expr 2 '*' $ac_mid + 1`
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
   done
 else
   echo "$as_me: failed program was:" >&5
@@ -13406,10 +15838,11 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+		   typedef double ac__type_sizeof_;
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (double))) < 0)];
+static int test_array [1 - 2 * !(((long int) (sizeof (ac__type_sizeof_))) < 0)];
 test_array [0] = 0
 
   ;
@@ -13417,24 +15850,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -13447,10 +15892,11 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+		   typedef double ac__type_sizeof_;
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (double))) >= $ac_mid)];
+static int test_array [1 - 2 * !(((long int) (sizeof (ac__type_sizeof_))) >= $ac_mid)];
 test_array [0] = 0
 
   ;
@@ -13458,24 +15904,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -13491,7 +15949,8 @@
 		       fi
 		       ac_mid=`expr 2 '*' $ac_mid`
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
   done
 else
   echo "$as_me: failed program was:" >&5
@@ -13499,9 +15958,11 @@
 
 ac_lo= ac_hi=
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 # Binary search between lo and hi bounds.
 while test "x$ac_lo" != "x$ac_hi"; do
   ac_mid=`expr '(' $ac_hi - $ac_lo ')' / 2 + $ac_lo`
@@ -13512,10 +15973,11 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+		   typedef double ac__type_sizeof_;
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (double))) <= $ac_mid)];
+static int test_array [1 - 2 * !(((long int) (sizeof (ac__type_sizeof_))) <= $ac_mid)];
 test_array [0] = 0
 
   ;
@@ -13523,24 +15985,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -13551,24 +16025,18 @@
 
 ac_lo=`expr '(' $ac_mid ')' + 1`
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 done
 case $ac_lo in
 ?*) ac_cv_sizeof_double=$ac_lo;;
-'') { { echo "$as_me:$LINENO: error: cannot compute sizeof (double), 77
+'') { { echo "$as_me:$LINENO: error: cannot compute sizeof (double)
 See \`config.log' for more details." >&5
-echo "$as_me: error: cannot compute sizeof (double), 77
+echo "$as_me: error: cannot compute sizeof (double)
 See \`config.log' for more details." >&2;}
-   { (exit 1); exit 1; }; } ;;
+   { (exit 77); exit 77; }; } ;;
 esac
 else
-  if test "$cross_compiling" = yes; then
-  { { echo "$as_me:$LINENO: error: cannot run test program while cross compiling
-See \`config.log' for more details." >&5
-echo "$as_me: error: cannot run test program while cross compiling
-See \`config.log' for more details." >&2;}
-   { (exit 1); exit 1; }; }
-else
   cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -13576,8 +16044,9 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
-long longval () { return (long) (sizeof (double)); }
-unsigned long ulongval () { return (long) (sizeof (double)); }
+		   typedef double ac__type_sizeof_;
+static long int longval () { return (long int) (sizeof (ac__type_sizeof_)); }
+static unsigned long int ulongval () { return (long int) (sizeof (ac__type_sizeof_)); }
 #include <stdio.h>
 #include <stdlib.h>
 int
@@ -13586,35 +16055,44 @@
 
   FILE *f = fopen ("conftest.val", "w");
   if (! f)
-    exit (1);
-  if (((long) (sizeof (double))) < 0)
+    return 1;
+  if (((long int) (sizeof (ac__type_sizeof_))) < 0)
     {
-      long i = longval ();
-      if (i != ((long) (sizeof (double))))
-	exit (1);
+      long int i = longval ();
+      if (i != ((long int) (sizeof (ac__type_sizeof_))))
+	return 1;
       fprintf (f, "%ld\n", i);
     }
   else
     {
-      unsigned long i = ulongval ();
-      if (i != ((long) (sizeof (double))))
-	exit (1);
+      unsigned long int i = ulongval ();
+      if (i != ((long int) (sizeof (ac__type_sizeof_))))
+	return 1;
       fprintf (f, "%lu\n", i);
     }
-  exit (ferror (f) || fclose (f) != 0);
+  return ferror (f) || fclose (f) != 0;
 
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -13625,29 +16103,28 @@
 sed 's/^/| /' conftest.$ac_ext >&5
 
 ( exit $ac_status )
-{ { echo "$as_me:$LINENO: error: cannot compute sizeof (double), 77
+{ { echo "$as_me:$LINENO: error: cannot compute sizeof (double)
 See \`config.log' for more details." >&5
-echo "$as_me: error: cannot compute sizeof (double), 77
+echo "$as_me: error: cannot compute sizeof (double)
 See \`config.log' for more details." >&2;}
-   { (exit 1); exit 1; }; }
-fi
-rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
+   { (exit 77); exit 77; }; }
 fi
+rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
 fi
 rm -f conftest.val
 else
   ac_cv_sizeof_double=0
 fi
 fi
-echo "$as_me:$LINENO: result: $ac_cv_sizeof_double" >&5
-echo "${ECHO_T}$ac_cv_sizeof_double" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_sizeof_double" >&5
+echo "${ECHO_T}$ac_cv_sizeof_double" >&6; }
 cat >>confdefs.h <<_ACEOF
 #define SIZEOF_DOUBLE $ac_cv_sizeof_double
 _ACEOF
 
 
-   echo "$as_me:$LINENO: checking for float" >&5
-echo $ECHO_N "checking for float... $ECHO_C" >&6
+   { echo "$as_me:$LINENO: checking for float" >&5
+echo $ECHO_N "checking for float... $ECHO_C" >&6; }
 if test "${ac_cv_type_float+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -13658,36 +16135,49 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+typedef float ac__type_new_;
 int
 main ()
 {
-if ((float *) 0)
+if ((ac__type_new_ *) 0)
   return 0;
-if (sizeof (float))
+if (sizeof (ac__type_new_))
   return 0;
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -13698,18 +16188,19 @@
 
 ac_cv_type_float=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ac_cv_type_float" >&5
-echo "${ECHO_T}$ac_cv_type_float" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_type_float" >&5
+echo "${ECHO_T}$ac_cv_type_float" >&6; }
 
-echo "$as_me:$LINENO: checking size of float" >&5
-echo $ECHO_N "checking size of float... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking size of float" >&5
+echo $ECHO_N "checking size of float... $ECHO_C" >&6; }
 if test "${ac_cv_sizeof_float+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   if test "$ac_cv_type_float" = yes; then
-  # The cast to unsigned long works around a bug in the HP C Compiler
+  # The cast to long int works around a bug in the HP C Compiler
   # version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
   # declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.
   # This bug is HP SR number 8606223364.
@@ -13722,10 +16213,11 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+		   typedef float ac__type_sizeof_;
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (float))) >= 0)];
+static int test_array [1 - 2 * !(((long int) (sizeof (ac__type_sizeof_))) >= 0)];
 test_array [0] = 0
 
   ;
@@ -13733,24 +16225,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -13763,10 +16267,11 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+		   typedef float ac__type_sizeof_;
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (float))) <= $ac_mid)];
+static int test_array [1 - 2 * !(((long int) (sizeof (ac__type_sizeof_))) <= $ac_mid)];
 test_array [0] = 0
 
   ;
@@ -13774,24 +16279,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -13807,7 +16324,8 @@
 		    fi
 		    ac_mid=`expr 2 '*' $ac_mid + 1`
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
   done
 else
   echo "$as_me: failed program was:" >&5
@@ -13820,10 +16338,11 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+		   typedef float ac__type_sizeof_;
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (float))) < 0)];
+static int test_array [1 - 2 * !(((long int) (sizeof (ac__type_sizeof_))) < 0)];
 test_array [0] = 0
 
   ;
@@ -13831,24 +16350,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -13861,10 +16392,11 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+		   typedef float ac__type_sizeof_;
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (float))) >= $ac_mid)];
+static int test_array [1 - 2 * !(((long int) (sizeof (ac__type_sizeof_))) >= $ac_mid)];
 test_array [0] = 0
 
   ;
@@ -13872,24 +16404,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -13905,7 +16449,8 @@
 		       fi
 		       ac_mid=`expr 2 '*' $ac_mid`
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
   done
 else
   echo "$as_me: failed program was:" >&5
@@ -13913,9 +16458,11 @@
 
 ac_lo= ac_hi=
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 # Binary search between lo and hi bounds.
 while test "x$ac_lo" != "x$ac_hi"; do
   ac_mid=`expr '(' $ac_hi - $ac_lo ')' / 2 + $ac_lo`
@@ -13926,10 +16473,11 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+		   typedef float ac__type_sizeof_;
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (float))) <= $ac_mid)];
+static int test_array [1 - 2 * !(((long int) (sizeof (ac__type_sizeof_))) <= $ac_mid)];
 test_array [0] = 0
 
   ;
@@ -13937,24 +16485,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -13965,24 +16525,18 @@
 
 ac_lo=`expr '(' $ac_mid ')' + 1`
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 done
 case $ac_lo in
 ?*) ac_cv_sizeof_float=$ac_lo;;
-'') { { echo "$as_me:$LINENO: error: cannot compute sizeof (float), 77
+'') { { echo "$as_me:$LINENO: error: cannot compute sizeof (float)
 See \`config.log' for more details." >&5
-echo "$as_me: error: cannot compute sizeof (float), 77
+echo "$as_me: error: cannot compute sizeof (float)
 See \`config.log' for more details." >&2;}
-   { (exit 1); exit 1; }; } ;;
+   { (exit 77); exit 77; }; } ;;
 esac
 else
-  if test "$cross_compiling" = yes; then
-  { { echo "$as_me:$LINENO: error: cannot run test program while cross compiling
-See \`config.log' for more details." >&5
-echo "$as_me: error: cannot run test program while cross compiling
-See \`config.log' for more details." >&2;}
-   { (exit 1); exit 1; }; }
-else
   cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -13990,8 +16544,9 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
-long longval () { return (long) (sizeof (float)); }
-unsigned long ulongval () { return (long) (sizeof (float)); }
+		   typedef float ac__type_sizeof_;
+static long int longval () { return (long int) (sizeof (ac__type_sizeof_)); }
+static unsigned long int ulongval () { return (long int) (sizeof (ac__type_sizeof_)); }
 #include <stdio.h>
 #include <stdlib.h>
 int
@@ -14000,35 +16555,44 @@
 
   FILE *f = fopen ("conftest.val", "w");
   if (! f)
-    exit (1);
-  if (((long) (sizeof (float))) < 0)
+    return 1;
+  if (((long int) (sizeof (ac__type_sizeof_))) < 0)
     {
-      long i = longval ();
-      if (i != ((long) (sizeof (float))))
-	exit (1);
+      long int i = longval ();
+      if (i != ((long int) (sizeof (ac__type_sizeof_))))
+	return 1;
       fprintf (f, "%ld\n", i);
     }
   else
     {
-      unsigned long i = ulongval ();
-      if (i != ((long) (sizeof (float))))
-	exit (1);
+      unsigned long int i = ulongval ();
+      if (i != ((long int) (sizeof (ac__type_sizeof_))))
+	return 1;
       fprintf (f, "%lu\n", i);
     }
-  exit (ferror (f) || fclose (f) != 0);
+  return ferror (f) || fclose (f) != 0;
 
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -14039,29 +16603,28 @@
 sed 's/^/| /' conftest.$ac_ext >&5
 
 ( exit $ac_status )
-{ { echo "$as_me:$LINENO: error: cannot compute sizeof (float), 77
+{ { echo "$as_me:$LINENO: error: cannot compute sizeof (float)
 See \`config.log' for more details." >&5
-echo "$as_me: error: cannot compute sizeof (float), 77
+echo "$as_me: error: cannot compute sizeof (float)
 See \`config.log' for more details." >&2;}
-   { (exit 1); exit 1; }; }
-fi
-rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
+   { (exit 77); exit 77; }; }
 fi
+rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
 fi
 rm -f conftest.val
 else
   ac_cv_sizeof_float=0
 fi
 fi
-echo "$as_me:$LINENO: result: $ac_cv_sizeof_float" >&5
-echo "${ECHO_T}$ac_cv_sizeof_float" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_sizeof_float" >&5
+echo "${ECHO_T}$ac_cv_sizeof_float" >&6; }
 cat >>confdefs.h <<_ACEOF
 #define SIZEOF_FLOAT $ac_cv_sizeof_float
 _ACEOF
 
 
-   echo "$as_me:$LINENO: checking for int" >&5
-echo $ECHO_N "checking for int... $ECHO_C" >&6
+   { echo "$as_me:$LINENO: checking for int" >&5
+echo $ECHO_N "checking for int... $ECHO_C" >&6; }
 if test "${ac_cv_type_int+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -14072,36 +16635,49 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+typedef int ac__type_new_;
 int
 main ()
 {
-if ((int *) 0)
+if ((ac__type_new_ *) 0)
   return 0;
-if (sizeof (int))
+if (sizeof (ac__type_new_))
   return 0;
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -14112,18 +16688,19 @@
 
 ac_cv_type_int=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ac_cv_type_int" >&5
-echo "${ECHO_T}$ac_cv_type_int" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_type_int" >&5
+echo "${ECHO_T}$ac_cv_type_int" >&6; }
 
-echo "$as_me:$LINENO: checking size of int" >&5
-echo $ECHO_N "checking size of int... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking size of int" >&5
+echo $ECHO_N "checking size of int... $ECHO_C" >&6; }
 if test "${ac_cv_sizeof_int+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   if test "$ac_cv_type_int" = yes; then
-  # The cast to unsigned long works around a bug in the HP C Compiler
+  # The cast to long int works around a bug in the HP C Compiler
   # version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
   # declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.
   # This bug is HP SR number 8606223364.
@@ -14136,10 +16713,11 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+		   typedef int ac__type_sizeof_;
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (int))) >= 0)];
+static int test_array [1 - 2 * !(((long int) (sizeof (ac__type_sizeof_))) >= 0)];
 test_array [0] = 0
 
   ;
@@ -14147,24 +16725,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -14177,10 +16767,11 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+		   typedef int ac__type_sizeof_;
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (int))) <= $ac_mid)];
+static int test_array [1 - 2 * !(((long int) (sizeof (ac__type_sizeof_))) <= $ac_mid)];
 test_array [0] = 0
 
   ;
@@ -14188,24 +16779,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -14221,7 +16824,8 @@
 		    fi
 		    ac_mid=`expr 2 '*' $ac_mid + 1`
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
   done
 else
   echo "$as_me: failed program was:" >&5
@@ -14234,10 +16838,11 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+		   typedef int ac__type_sizeof_;
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (int))) < 0)];
+static int test_array [1 - 2 * !(((long int) (sizeof (ac__type_sizeof_))) < 0)];
 test_array [0] = 0
 
   ;
@@ -14245,24 +16850,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -14275,10 +16892,11 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+		   typedef int ac__type_sizeof_;
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (int))) >= $ac_mid)];
+static int test_array [1 - 2 * !(((long int) (sizeof (ac__type_sizeof_))) >= $ac_mid)];
 test_array [0] = 0
 
   ;
@@ -14286,24 +16904,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -14319,7 +16949,8 @@
 		       fi
 		       ac_mid=`expr 2 '*' $ac_mid`
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
   done
 else
   echo "$as_me: failed program was:" >&5
@@ -14327,9 +16958,11 @@
 
 ac_lo= ac_hi=
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 # Binary search between lo and hi bounds.
 while test "x$ac_lo" != "x$ac_hi"; do
   ac_mid=`expr '(' $ac_hi - $ac_lo ')' / 2 + $ac_lo`
@@ -14340,10 +16973,11 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+		   typedef int ac__type_sizeof_;
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (int))) <= $ac_mid)];
+static int test_array [1 - 2 * !(((long int) (sizeof (ac__type_sizeof_))) <= $ac_mid)];
 test_array [0] = 0
 
   ;
@@ -14351,24 +16985,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -14379,24 +17025,18 @@
 
 ac_lo=`expr '(' $ac_mid ')' + 1`
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 done
 case $ac_lo in
 ?*) ac_cv_sizeof_int=$ac_lo;;
-'') { { echo "$as_me:$LINENO: error: cannot compute sizeof (int), 77
+'') { { echo "$as_me:$LINENO: error: cannot compute sizeof (int)
 See \`config.log' for more details." >&5
-echo "$as_me: error: cannot compute sizeof (int), 77
+echo "$as_me: error: cannot compute sizeof (int)
 See \`config.log' for more details." >&2;}
-   { (exit 1); exit 1; }; } ;;
+   { (exit 77); exit 77; }; } ;;
 esac
 else
-  if test "$cross_compiling" = yes; then
-  { { echo "$as_me:$LINENO: error: cannot run test program while cross compiling
-See \`config.log' for more details." >&5
-echo "$as_me: error: cannot run test program while cross compiling
-See \`config.log' for more details." >&2;}
-   { (exit 1); exit 1; }; }
-else
   cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -14404,8 +17044,9 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
-long longval () { return (long) (sizeof (int)); }
-unsigned long ulongval () { return (long) (sizeof (int)); }
+		   typedef int ac__type_sizeof_;
+static long int longval () { return (long int) (sizeof (ac__type_sizeof_)); }
+static unsigned long int ulongval () { return (long int) (sizeof (ac__type_sizeof_)); }
 #include <stdio.h>
 #include <stdlib.h>
 int
@@ -14414,35 +17055,44 @@
 
   FILE *f = fopen ("conftest.val", "w");
   if (! f)
-    exit (1);
-  if (((long) (sizeof (int))) < 0)
+    return 1;
+  if (((long int) (sizeof (ac__type_sizeof_))) < 0)
     {
-      long i = longval ();
-      if (i != ((long) (sizeof (int))))
-	exit (1);
+      long int i = longval ();
+      if (i != ((long int) (sizeof (ac__type_sizeof_))))
+	return 1;
       fprintf (f, "%ld\n", i);
     }
   else
     {
-      unsigned long i = ulongval ();
-      if (i != ((long) (sizeof (int))))
-	exit (1);
+      unsigned long int i = ulongval ();
+      if (i != ((long int) (sizeof (ac__type_sizeof_))))
+	return 1;
       fprintf (f, "%lu\n", i);
     }
-  exit (ferror (f) || fclose (f) != 0);
+  return ferror (f) || fclose (f) != 0;
 
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -14453,29 +17103,28 @@
 sed 's/^/| /' conftest.$ac_ext >&5
 
 ( exit $ac_status )
-{ { echo "$as_me:$LINENO: error: cannot compute sizeof (int), 77
+{ { echo "$as_me:$LINENO: error: cannot compute sizeof (int)
 See \`config.log' for more details." >&5
-echo "$as_me: error: cannot compute sizeof (int), 77
+echo "$as_me: error: cannot compute sizeof (int)
 See \`config.log' for more details." >&2;}
-   { (exit 1); exit 1; }; }
-fi
-rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
+   { (exit 77); exit 77; }; }
 fi
+rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
 fi
 rm -f conftest.val
 else
   ac_cv_sizeof_int=0
 fi
 fi
-echo "$as_me:$LINENO: result: $ac_cv_sizeof_int" >&5
-echo "${ECHO_T}$ac_cv_sizeof_int" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_sizeof_int" >&5
+echo "${ECHO_T}$ac_cv_sizeof_int" >&6; }
 cat >>confdefs.h <<_ACEOF
 #define SIZEOF_INT $ac_cv_sizeof_int
 _ACEOF
 
 
-   echo "$as_me:$LINENO: checking for long" >&5
-echo $ECHO_N "checking for long... $ECHO_C" >&6
+   { echo "$as_me:$LINENO: checking for long" >&5
+echo $ECHO_N "checking for long... $ECHO_C" >&6; }
 if test "${ac_cv_type_long+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -14486,36 +17135,49 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+typedef long ac__type_new_;
 int
 main ()
 {
-if ((long *) 0)
+if ((ac__type_new_ *) 0)
   return 0;
-if (sizeof (long))
+if (sizeof (ac__type_new_))
   return 0;
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -14526,18 +17188,19 @@
 
 ac_cv_type_long=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ac_cv_type_long" >&5
-echo "${ECHO_T}$ac_cv_type_long" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_type_long" >&5
+echo "${ECHO_T}$ac_cv_type_long" >&6; }
 
-echo "$as_me:$LINENO: checking size of long" >&5
-echo $ECHO_N "checking size of long... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking size of long" >&5
+echo $ECHO_N "checking size of long... $ECHO_C" >&6; }
 if test "${ac_cv_sizeof_long+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   if test "$ac_cv_type_long" = yes; then
-  # The cast to unsigned long works around a bug in the HP C Compiler
+  # The cast to long int works around a bug in the HP C Compiler
   # version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
   # declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.
   # This bug is HP SR number 8606223364.
@@ -14550,10 +17213,11 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+		   typedef long ac__type_sizeof_;
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (long))) >= 0)];
+static int test_array [1 - 2 * !(((long int) (sizeof (ac__type_sizeof_))) >= 0)];
 test_array [0] = 0
 
   ;
@@ -14561,24 +17225,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -14591,10 +17267,11 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+		   typedef long ac__type_sizeof_;
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (long))) <= $ac_mid)];
+static int test_array [1 - 2 * !(((long int) (sizeof (ac__type_sizeof_))) <= $ac_mid)];
 test_array [0] = 0
 
   ;
@@ -14602,24 +17279,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -14635,7 +17324,8 @@
 		    fi
 		    ac_mid=`expr 2 '*' $ac_mid + 1`
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
   done
 else
   echo "$as_me: failed program was:" >&5
@@ -14648,10 +17338,11 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+		   typedef long ac__type_sizeof_;
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (long))) < 0)];
+static int test_array [1 - 2 * !(((long int) (sizeof (ac__type_sizeof_))) < 0)];
 test_array [0] = 0
 
   ;
@@ -14659,24 +17350,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -14689,10 +17392,11 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+		   typedef long ac__type_sizeof_;
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (long))) >= $ac_mid)];
+static int test_array [1 - 2 * !(((long int) (sizeof (ac__type_sizeof_))) >= $ac_mid)];
 test_array [0] = 0
 
   ;
@@ -14700,24 +17404,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -14733,7 +17449,8 @@
 		       fi
 		       ac_mid=`expr 2 '*' $ac_mid`
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
   done
 else
   echo "$as_me: failed program was:" >&5
@@ -14741,9 +17458,11 @@
 
 ac_lo= ac_hi=
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 # Binary search between lo and hi bounds.
 while test "x$ac_lo" != "x$ac_hi"; do
   ac_mid=`expr '(' $ac_hi - $ac_lo ')' / 2 + $ac_lo`
@@ -14754,10 +17473,11 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+		   typedef long ac__type_sizeof_;
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (long))) <= $ac_mid)];
+static int test_array [1 - 2 * !(((long int) (sizeof (ac__type_sizeof_))) <= $ac_mid)];
 test_array [0] = 0
 
   ;
@@ -14765,24 +17485,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -14793,24 +17525,18 @@
 
 ac_lo=`expr '(' $ac_mid ')' + 1`
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 done
 case $ac_lo in
 ?*) ac_cv_sizeof_long=$ac_lo;;
-'') { { echo "$as_me:$LINENO: error: cannot compute sizeof (long), 77
+'') { { echo "$as_me:$LINENO: error: cannot compute sizeof (long)
 See \`config.log' for more details." >&5
-echo "$as_me: error: cannot compute sizeof (long), 77
+echo "$as_me: error: cannot compute sizeof (long)
 See \`config.log' for more details." >&2;}
-   { (exit 1); exit 1; }; } ;;
+   { (exit 77); exit 77; }; } ;;
 esac
 else
-  if test "$cross_compiling" = yes; then
-  { { echo "$as_me:$LINENO: error: cannot run test program while cross compiling
-See \`config.log' for more details." >&5
-echo "$as_me: error: cannot run test program while cross compiling
-See \`config.log' for more details." >&2;}
-   { (exit 1); exit 1; }; }
-else
   cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -14818,8 +17544,9 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
-long longval () { return (long) (sizeof (long)); }
-unsigned long ulongval () { return (long) (sizeof (long)); }
+		   typedef long ac__type_sizeof_;
+static long int longval () { return (long int) (sizeof (ac__type_sizeof_)); }
+static unsigned long int ulongval () { return (long int) (sizeof (ac__type_sizeof_)); }
 #include <stdio.h>
 #include <stdlib.h>
 int
@@ -14828,35 +17555,44 @@
 
   FILE *f = fopen ("conftest.val", "w");
   if (! f)
-    exit (1);
-  if (((long) (sizeof (long))) < 0)
+    return 1;
+  if (((long int) (sizeof (ac__type_sizeof_))) < 0)
     {
-      long i = longval ();
-      if (i != ((long) (sizeof (long))))
-	exit (1);
+      long int i = longval ();
+      if (i != ((long int) (sizeof (ac__type_sizeof_))))
+	return 1;
       fprintf (f, "%ld\n", i);
     }
   else
     {
-      unsigned long i = ulongval ();
-      if (i != ((long) (sizeof (long))))
-	exit (1);
+      unsigned long int i = ulongval ();
+      if (i != ((long int) (sizeof (ac__type_sizeof_))))
+	return 1;
       fprintf (f, "%lu\n", i);
     }
-  exit (ferror (f) || fclose (f) != 0);
+  return ferror (f) || fclose (f) != 0;
 
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -14867,29 +17603,28 @@
 sed 's/^/| /' conftest.$ac_ext >&5
 
 ( exit $ac_status )
-{ { echo "$as_me:$LINENO: error: cannot compute sizeof (long), 77
+{ { echo "$as_me:$LINENO: error: cannot compute sizeof (long)
 See \`config.log' for more details." >&5
-echo "$as_me: error: cannot compute sizeof (long), 77
+echo "$as_me: error: cannot compute sizeof (long)
 See \`config.log' for more details." >&2;}
-   { (exit 1); exit 1; }; }
-fi
-rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
+   { (exit 77); exit 77; }; }
 fi
+rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
 fi
 rm -f conftest.val
 else
   ac_cv_sizeof_long=0
 fi
 fi
-echo "$as_me:$LINENO: result: $ac_cv_sizeof_long" >&5
-echo "${ECHO_T}$ac_cv_sizeof_long" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_sizeof_long" >&5
+echo "${ECHO_T}$ac_cv_sizeof_long" >&6; }
 cat >>confdefs.h <<_ACEOF
 #define SIZEOF_LONG $ac_cv_sizeof_long
 _ACEOF
 
 
-   echo "$as_me:$LINENO: checking for long double" >&5
-echo $ECHO_N "checking for long double... $ECHO_C" >&6
+   { echo "$as_me:$LINENO: checking for long double" >&5
+echo $ECHO_N "checking for long double... $ECHO_C" >&6; }
 if test "${ac_cv_type_long_double+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -14900,36 +17635,49 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+typedef long double ac__type_new_;
 int
 main ()
 {
-if ((long double *) 0)
+if ((ac__type_new_ *) 0)
   return 0;
-if (sizeof (long double))
+if (sizeof (ac__type_new_))
   return 0;
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -14940,18 +17688,19 @@
 
 ac_cv_type_long_double=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ac_cv_type_long_double" >&5
-echo "${ECHO_T}$ac_cv_type_long_double" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_type_long_double" >&5
+echo "${ECHO_T}$ac_cv_type_long_double" >&6; }
 
-echo "$as_me:$LINENO: checking size of long double" >&5
-echo $ECHO_N "checking size of long double... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking size of long double" >&5
+echo $ECHO_N "checking size of long double... $ECHO_C" >&6; }
 if test "${ac_cv_sizeof_long_double+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   if test "$ac_cv_type_long_double" = yes; then
-  # The cast to unsigned long works around a bug in the HP C Compiler
+  # The cast to long int works around a bug in the HP C Compiler
   # version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
   # declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.
   # This bug is HP SR number 8606223364.
@@ -14964,10 +17713,11 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+		   typedef long double ac__type_sizeof_;
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (long double))) >= 0)];
+static int test_array [1 - 2 * !(((long int) (sizeof (ac__type_sizeof_))) >= 0)];
 test_array [0] = 0
 
   ;
@@ -14975,24 +17725,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -15005,10 +17767,11 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+		   typedef long double ac__type_sizeof_;
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (long double))) <= $ac_mid)];
+static int test_array [1 - 2 * !(((long int) (sizeof (ac__type_sizeof_))) <= $ac_mid)];
 test_array [0] = 0
 
   ;
@@ -15016,24 +17779,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -15049,7 +17824,8 @@
 		    fi
 		    ac_mid=`expr 2 '*' $ac_mid + 1`
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
   done
 else
   echo "$as_me: failed program was:" >&5
@@ -15062,10 +17838,11 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+		   typedef long double ac__type_sizeof_;
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (long double))) < 0)];
+static int test_array [1 - 2 * !(((long int) (sizeof (ac__type_sizeof_))) < 0)];
 test_array [0] = 0
 
   ;
@@ -15073,24 +17850,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -15103,10 +17892,11 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+		   typedef long double ac__type_sizeof_;
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (long double))) >= $ac_mid)];
+static int test_array [1 - 2 * !(((long int) (sizeof (ac__type_sizeof_))) >= $ac_mid)];
 test_array [0] = 0
 
   ;
@@ -15114,24 +17904,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -15147,7 +17949,8 @@
 		       fi
 		       ac_mid=`expr 2 '*' $ac_mid`
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
   done
 else
   echo "$as_me: failed program was:" >&5
@@ -15155,9 +17958,11 @@
 
 ac_lo= ac_hi=
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 # Binary search between lo and hi bounds.
 while test "x$ac_lo" != "x$ac_hi"; do
   ac_mid=`expr '(' $ac_hi - $ac_lo ')' / 2 + $ac_lo`
@@ -15168,10 +17973,11 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+		   typedef long double ac__type_sizeof_;
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (long double))) <= $ac_mid)];
+static int test_array [1 - 2 * !(((long int) (sizeof (ac__type_sizeof_))) <= $ac_mid)];
 test_array [0] = 0
 
   ;
@@ -15179,24 +17985,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -15207,24 +18025,18 @@
 
 ac_lo=`expr '(' $ac_mid ')' + 1`
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 done
 case $ac_lo in
 ?*) ac_cv_sizeof_long_double=$ac_lo;;
-'') { { echo "$as_me:$LINENO: error: cannot compute sizeof (long double), 77
+'') { { echo "$as_me:$LINENO: error: cannot compute sizeof (long double)
 See \`config.log' for more details." >&5
-echo "$as_me: error: cannot compute sizeof (long double), 77
+echo "$as_me: error: cannot compute sizeof (long double)
 See \`config.log' for more details." >&2;}
-   { (exit 1); exit 1; }; } ;;
+   { (exit 77); exit 77; }; } ;;
 esac
 else
-  if test "$cross_compiling" = yes; then
-  { { echo "$as_me:$LINENO: error: cannot run test program while cross compiling
-See \`config.log' for more details." >&5
-echo "$as_me: error: cannot run test program while cross compiling
-See \`config.log' for more details." >&2;}
-   { (exit 1); exit 1; }; }
-else
   cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -15232,8 +18044,9 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
-long longval () { return (long) (sizeof (long double)); }
-unsigned long ulongval () { return (long) (sizeof (long double)); }
+		   typedef long double ac__type_sizeof_;
+static long int longval () { return (long int) (sizeof (ac__type_sizeof_)); }
+static unsigned long int ulongval () { return (long int) (sizeof (ac__type_sizeof_)); }
 #include <stdio.h>
 #include <stdlib.h>
 int
@@ -15242,35 +18055,44 @@
 
   FILE *f = fopen ("conftest.val", "w");
   if (! f)
-    exit (1);
-  if (((long) (sizeof (long double))) < 0)
+    return 1;
+  if (((long int) (sizeof (ac__type_sizeof_))) < 0)
     {
-      long i = longval ();
-      if (i != ((long) (sizeof (long double))))
-	exit (1);
+      long int i = longval ();
+      if (i != ((long int) (sizeof (ac__type_sizeof_))))
+	return 1;
       fprintf (f, "%ld\n", i);
     }
   else
     {
-      unsigned long i = ulongval ();
-      if (i != ((long) (sizeof (long double))))
-	exit (1);
+      unsigned long int i = ulongval ();
+      if (i != ((long int) (sizeof (ac__type_sizeof_))))
+	return 1;
       fprintf (f, "%lu\n", i);
     }
-  exit (ferror (f) || fclose (f) != 0);
+  return ferror (f) || fclose (f) != 0;
 
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -15281,29 +18103,28 @@
 sed 's/^/| /' conftest.$ac_ext >&5
 
 ( exit $ac_status )
-{ { echo "$as_me:$LINENO: error: cannot compute sizeof (long double), 77
+{ { echo "$as_me:$LINENO: error: cannot compute sizeof (long double)
 See \`config.log' for more details." >&5
-echo "$as_me: error: cannot compute sizeof (long double), 77
+echo "$as_me: error: cannot compute sizeof (long double)
 See \`config.log' for more details." >&2;}
-   { (exit 1); exit 1; }; }
-fi
-rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
+   { (exit 77); exit 77; }; }
 fi
+rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
 fi
 rm -f conftest.val
 else
   ac_cv_sizeof_long_double=0
 fi
 fi
-echo "$as_me:$LINENO: result: $ac_cv_sizeof_long_double" >&5
-echo "${ECHO_T}$ac_cv_sizeof_long_double" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_sizeof_long_double" >&5
+echo "${ECHO_T}$ac_cv_sizeof_long_double" >&6; }
 cat >>confdefs.h <<_ACEOF
 #define SIZEOF_LONG_DOUBLE $ac_cv_sizeof_long_double
 _ACEOF
 
 
-   echo "$as_me:$LINENO: checking for long long" >&5
-echo $ECHO_N "checking for long long... $ECHO_C" >&6
+   { echo "$as_me:$LINENO: checking for long long" >&5
+echo $ECHO_N "checking for long long... $ECHO_C" >&6; }
 if test "${ac_cv_type_long_long+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -15314,36 +18135,49 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+typedef long long ac__type_new_;
 int
 main ()
 {
-if ((long long *) 0)
+if ((ac__type_new_ *) 0)
   return 0;
-if (sizeof (long long))
+if (sizeof (ac__type_new_))
   return 0;
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -15354,18 +18188,19 @@
 
 ac_cv_type_long_long=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ac_cv_type_long_long" >&5
-echo "${ECHO_T}$ac_cv_type_long_long" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_type_long_long" >&5
+echo "${ECHO_T}$ac_cv_type_long_long" >&6; }
 
-echo "$as_me:$LINENO: checking size of long long" >&5
-echo $ECHO_N "checking size of long long... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking size of long long" >&5
+echo $ECHO_N "checking size of long long... $ECHO_C" >&6; }
 if test "${ac_cv_sizeof_long_long+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   if test "$ac_cv_type_long_long" = yes; then
-  # The cast to unsigned long works around a bug in the HP C Compiler
+  # The cast to long int works around a bug in the HP C Compiler
   # version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
   # declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.
   # This bug is HP SR number 8606223364.
@@ -15378,10 +18213,11 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+		   typedef long long ac__type_sizeof_;
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (long long))) >= 0)];
+static int test_array [1 - 2 * !(((long int) (sizeof (ac__type_sizeof_))) >= 0)];
 test_array [0] = 0
 
   ;
@@ -15389,24 +18225,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -15419,10 +18267,11 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+		   typedef long long ac__type_sizeof_;
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (long long))) <= $ac_mid)];
+static int test_array [1 - 2 * !(((long int) (sizeof (ac__type_sizeof_))) <= $ac_mid)];
 test_array [0] = 0
 
   ;
@@ -15430,24 +18279,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -15463,7 +18324,8 @@
 		    fi
 		    ac_mid=`expr 2 '*' $ac_mid + 1`
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
   done
 else
   echo "$as_me: failed program was:" >&5
@@ -15476,10 +18338,11 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+		   typedef long long ac__type_sizeof_;
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (long long))) < 0)];
+static int test_array [1 - 2 * !(((long int) (sizeof (ac__type_sizeof_))) < 0)];
 test_array [0] = 0
 
   ;
@@ -15487,24 +18350,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -15517,10 +18392,11 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+		   typedef long long ac__type_sizeof_;
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (long long))) >= $ac_mid)];
+static int test_array [1 - 2 * !(((long int) (sizeof (ac__type_sizeof_))) >= $ac_mid)];
 test_array [0] = 0
 
   ;
@@ -15528,24 +18404,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -15561,7 +18449,8 @@
 		       fi
 		       ac_mid=`expr 2 '*' $ac_mid`
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
   done
 else
   echo "$as_me: failed program was:" >&5
@@ -15569,9 +18458,11 @@
 
 ac_lo= ac_hi=
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 # Binary search between lo and hi bounds.
 while test "x$ac_lo" != "x$ac_hi"; do
   ac_mid=`expr '(' $ac_hi - $ac_lo ')' / 2 + $ac_lo`
@@ -15582,10 +18473,11 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+		   typedef long long ac__type_sizeof_;
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (long long))) <= $ac_mid)];
+static int test_array [1 - 2 * !(((long int) (sizeof (ac__type_sizeof_))) <= $ac_mid)];
 test_array [0] = 0
 
   ;
@@ -15593,24 +18485,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -15621,24 +18525,18 @@
 
 ac_lo=`expr '(' $ac_mid ')' + 1`
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 done
 case $ac_lo in
 ?*) ac_cv_sizeof_long_long=$ac_lo;;
-'') { { echo "$as_me:$LINENO: error: cannot compute sizeof (long long), 77
+'') { { echo "$as_me:$LINENO: error: cannot compute sizeof (long long)
 See \`config.log' for more details." >&5
-echo "$as_me: error: cannot compute sizeof (long long), 77
+echo "$as_me: error: cannot compute sizeof (long long)
 See \`config.log' for more details." >&2;}
-   { (exit 1); exit 1; }; } ;;
+   { (exit 77); exit 77; }; } ;;
 esac
 else
-  if test "$cross_compiling" = yes; then
-  { { echo "$as_me:$LINENO: error: cannot run test program while cross compiling
-See \`config.log' for more details." >&5
-echo "$as_me: error: cannot run test program while cross compiling
-See \`config.log' for more details." >&2;}
-   { (exit 1); exit 1; }; }
-else
   cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -15646,8 +18544,9 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
-long longval () { return (long) (sizeof (long long)); }
-unsigned long ulongval () { return (long) (sizeof (long long)); }
+		   typedef long long ac__type_sizeof_;
+static long int longval () { return (long int) (sizeof (ac__type_sizeof_)); }
+static unsigned long int ulongval () { return (long int) (sizeof (ac__type_sizeof_)); }
 #include <stdio.h>
 #include <stdlib.h>
 int
@@ -15656,35 +18555,44 @@
 
   FILE *f = fopen ("conftest.val", "w");
   if (! f)
-    exit (1);
-  if (((long) (sizeof (long long))) < 0)
+    return 1;
+  if (((long int) (sizeof (ac__type_sizeof_))) < 0)
     {
-      long i = longval ();
-      if (i != ((long) (sizeof (long long))))
-	exit (1);
+      long int i = longval ();
+      if (i != ((long int) (sizeof (ac__type_sizeof_))))
+	return 1;
       fprintf (f, "%ld\n", i);
     }
   else
     {
-      unsigned long i = ulongval ();
-      if (i != ((long) (sizeof (long long))))
-	exit (1);
+      unsigned long int i = ulongval ();
+      if (i != ((long int) (sizeof (ac__type_sizeof_))))
+	return 1;
       fprintf (f, "%lu\n", i);
     }
-  exit (ferror (f) || fclose (f) != 0);
+  return ferror (f) || fclose (f) != 0;
 
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -15695,29 +18603,28 @@
 sed 's/^/| /' conftest.$ac_ext >&5
 
 ( exit $ac_status )
-{ { echo "$as_me:$LINENO: error: cannot compute sizeof (long long), 77
+{ { echo "$as_me:$LINENO: error: cannot compute sizeof (long long)
 See \`config.log' for more details." >&5
-echo "$as_me: error: cannot compute sizeof (long long), 77
+echo "$as_me: error: cannot compute sizeof (long long)
 See \`config.log' for more details." >&2;}
-   { (exit 1); exit 1; }; }
-fi
-rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
+   { (exit 77); exit 77; }; }
 fi
+rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
 fi
 rm -f conftest.val
 else
   ac_cv_sizeof_long_long=0
 fi
 fi
-echo "$as_me:$LINENO: result: $ac_cv_sizeof_long_long" >&5
-echo "${ECHO_T}$ac_cv_sizeof_long_long" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_sizeof_long_long" >&5
+echo "${ECHO_T}$ac_cv_sizeof_long_long" >&6; }
 cat >>confdefs.h <<_ACEOF
 #define SIZEOF_LONG_LONG $ac_cv_sizeof_long_long
 _ACEOF
 
 
-   echo "$as_me:$LINENO: checking for short" >&5
-echo $ECHO_N "checking for short... $ECHO_C" >&6
+   { echo "$as_me:$LINENO: checking for short" >&5
+echo $ECHO_N "checking for short... $ECHO_C" >&6; }
 if test "${ac_cv_type_short+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -15728,36 +18635,49 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+typedef short ac__type_new_;
 int
 main ()
 {
-if ((short *) 0)
+if ((ac__type_new_ *) 0)
   return 0;
-if (sizeof (short))
+if (sizeof (ac__type_new_))
   return 0;
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -15768,18 +18688,19 @@
 
 ac_cv_type_short=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ac_cv_type_short" >&5
-echo "${ECHO_T}$ac_cv_type_short" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_type_short" >&5
+echo "${ECHO_T}$ac_cv_type_short" >&6; }
 
-echo "$as_me:$LINENO: checking size of short" >&5
-echo $ECHO_N "checking size of short... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking size of short" >&5
+echo $ECHO_N "checking size of short... $ECHO_C" >&6; }
 if test "${ac_cv_sizeof_short+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   if test "$ac_cv_type_short" = yes; then
-  # The cast to unsigned long works around a bug in the HP C Compiler
+  # The cast to long int works around a bug in the HP C Compiler
   # version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
   # declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.
   # This bug is HP SR number 8606223364.
@@ -15792,10 +18713,11 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+		   typedef short ac__type_sizeof_;
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (short))) >= 0)];
+static int test_array [1 - 2 * !(((long int) (sizeof (ac__type_sizeof_))) >= 0)];
 test_array [0] = 0
 
   ;
@@ -15803,24 +18725,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -15833,10 +18767,11 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+		   typedef short ac__type_sizeof_;
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (short))) <= $ac_mid)];
+static int test_array [1 - 2 * !(((long int) (sizeof (ac__type_sizeof_))) <= $ac_mid)];
 test_array [0] = 0
 
   ;
@@ -15844,24 +18779,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -15877,7 +18824,8 @@
 		    fi
 		    ac_mid=`expr 2 '*' $ac_mid + 1`
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
   done
 else
   echo "$as_me: failed program was:" >&5
@@ -15890,10 +18838,11 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+		   typedef short ac__type_sizeof_;
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (short))) < 0)];
+static int test_array [1 - 2 * !(((long int) (sizeof (ac__type_sizeof_))) < 0)];
 test_array [0] = 0
 
   ;
@@ -15901,24 +18850,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -15931,10 +18892,11 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+		   typedef short ac__type_sizeof_;
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (short))) >= $ac_mid)];
+static int test_array [1 - 2 * !(((long int) (sizeof (ac__type_sizeof_))) >= $ac_mid)];
 test_array [0] = 0
 
   ;
@@ -15942,24 +18904,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -15975,7 +18949,8 @@
 		       fi
 		       ac_mid=`expr 2 '*' $ac_mid`
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
   done
 else
   echo "$as_me: failed program was:" >&5
@@ -15983,9 +18958,11 @@
 
 ac_lo= ac_hi=
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 # Binary search between lo and hi bounds.
 while test "x$ac_lo" != "x$ac_hi"; do
   ac_mid=`expr '(' $ac_hi - $ac_lo ')' / 2 + $ac_lo`
@@ -15996,10 +18973,11 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+		   typedef short ac__type_sizeof_;
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (short))) <= $ac_mid)];
+static int test_array [1 - 2 * !(((long int) (sizeof (ac__type_sizeof_))) <= $ac_mid)];
 test_array [0] = 0
 
   ;
@@ -16007,24 +18985,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -16035,24 +19025,18 @@
 
 ac_lo=`expr '(' $ac_mid ')' + 1`
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 done
 case $ac_lo in
 ?*) ac_cv_sizeof_short=$ac_lo;;
-'') { { echo "$as_me:$LINENO: error: cannot compute sizeof (short), 77
+'') { { echo "$as_me:$LINENO: error: cannot compute sizeof (short)
 See \`config.log' for more details." >&5
-echo "$as_me: error: cannot compute sizeof (short), 77
+echo "$as_me: error: cannot compute sizeof (short)
 See \`config.log' for more details." >&2;}
-   { (exit 1); exit 1; }; } ;;
+   { (exit 77); exit 77; }; } ;;
 esac
 else
-  if test "$cross_compiling" = yes; then
-  { { echo "$as_me:$LINENO: error: cannot run test program while cross compiling
-See \`config.log' for more details." >&5
-echo "$as_me: error: cannot run test program while cross compiling
-See \`config.log' for more details." >&2;}
-   { (exit 1); exit 1; }; }
-else
   cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -16060,8 +19044,9 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
-long longval () { return (long) (sizeof (short)); }
-unsigned long ulongval () { return (long) (sizeof (short)); }
+		   typedef short ac__type_sizeof_;
+static long int longval () { return (long int) (sizeof (ac__type_sizeof_)); }
+static unsigned long int ulongval () { return (long int) (sizeof (ac__type_sizeof_)); }
 #include <stdio.h>
 #include <stdlib.h>
 int
@@ -16070,35 +19055,44 @@
 
   FILE *f = fopen ("conftest.val", "w");
   if (! f)
-    exit (1);
-  if (((long) (sizeof (short))) < 0)
+    return 1;
+  if (((long int) (sizeof (ac__type_sizeof_))) < 0)
     {
-      long i = longval ();
-      if (i != ((long) (sizeof (short))))
-	exit (1);
+      long int i = longval ();
+      if (i != ((long int) (sizeof (ac__type_sizeof_))))
+	return 1;
       fprintf (f, "%ld\n", i);
     }
   else
     {
-      unsigned long i = ulongval ();
-      if (i != ((long) (sizeof (short))))
-	exit (1);
+      unsigned long int i = ulongval ();
+      if (i != ((long int) (sizeof (ac__type_sizeof_))))
+	return 1;
       fprintf (f, "%lu\n", i);
     }
-  exit (ferror (f) || fclose (f) != 0);
+  return ferror (f) || fclose (f) != 0;
 
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -16109,29 +19103,28 @@
 sed 's/^/| /' conftest.$ac_ext >&5
 
 ( exit $ac_status )
-{ { echo "$as_me:$LINENO: error: cannot compute sizeof (short), 77
+{ { echo "$as_me:$LINENO: error: cannot compute sizeof (short)
 See \`config.log' for more details." >&5
-echo "$as_me: error: cannot compute sizeof (short), 77
+echo "$as_me: error: cannot compute sizeof (short)
 See \`config.log' for more details." >&2;}
-   { (exit 1); exit 1; }; }
-fi
-rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
+   { (exit 77); exit 77; }; }
 fi
+rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
 fi
 rm -f conftest.val
 else
   ac_cv_sizeof_short=0
 fi
 fi
-echo "$as_me:$LINENO: result: $ac_cv_sizeof_short" >&5
-echo "${ECHO_T}$ac_cv_sizeof_short" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_sizeof_short" >&5
+echo "${ECHO_T}$ac_cv_sizeof_short" >&6; }
 cat >>confdefs.h <<_ACEOF
 #define SIZEOF_SHORT $ac_cv_sizeof_short
 _ACEOF
 
 
-   echo "$as_me:$LINENO: checking for void*" >&5
-echo $ECHO_N "checking for void*... $ECHO_C" >&6
+   { echo "$as_me:$LINENO: checking for void*" >&5
+echo $ECHO_N "checking for void*... $ECHO_C" >&6; }
 if test "${ac_cv_type_voidp+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -16142,36 +19135,49 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+typedef void* ac__type_new_;
 int
 main ()
 {
-if ((void* *) 0)
+if ((ac__type_new_ *) 0)
   return 0;
-if (sizeof (void*))
+if (sizeof (ac__type_new_))
   return 0;
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -16182,18 +19188,19 @@
 
 ac_cv_type_voidp=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ac_cv_type_voidp" >&5
-echo "${ECHO_T}$ac_cv_type_voidp" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_type_voidp" >&5
+echo "${ECHO_T}$ac_cv_type_voidp" >&6; }
 
-echo "$as_me:$LINENO: checking size of void*" >&5
-echo $ECHO_N "checking size of void*... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking size of void*" >&5
+echo $ECHO_N "checking size of void*... $ECHO_C" >&6; }
 if test "${ac_cv_sizeof_voidp+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   if test "$ac_cv_type_voidp" = yes; then
-  # The cast to unsigned long works around a bug in the HP C Compiler
+  # The cast to long int works around a bug in the HP C Compiler
   # version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
   # declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.
   # This bug is HP SR number 8606223364.
@@ -16206,10 +19213,11 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+		   typedef void* ac__type_sizeof_;
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (void*))) >= 0)];
+static int test_array [1 - 2 * !(((long int) (sizeof (ac__type_sizeof_))) >= 0)];
 test_array [0] = 0
 
   ;
@@ -16217,24 +19225,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -16247,10 +19267,11 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+		   typedef void* ac__type_sizeof_;
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (void*))) <= $ac_mid)];
+static int test_array [1 - 2 * !(((long int) (sizeof (ac__type_sizeof_))) <= $ac_mid)];
 test_array [0] = 0
 
   ;
@@ -16258,24 +19279,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -16291,7 +19324,8 @@
 		    fi
 		    ac_mid=`expr 2 '*' $ac_mid + 1`
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
   done
 else
   echo "$as_me: failed program was:" >&5
@@ -16304,10 +19338,11 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+		   typedef void* ac__type_sizeof_;
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (void*))) < 0)];
+static int test_array [1 - 2 * !(((long int) (sizeof (ac__type_sizeof_))) < 0)];
 test_array [0] = 0
 
   ;
@@ -16315,24 +19350,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -16345,10 +19392,11 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+		   typedef void* ac__type_sizeof_;
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (void*))) >= $ac_mid)];
+static int test_array [1 - 2 * !(((long int) (sizeof (ac__type_sizeof_))) >= $ac_mid)];
 test_array [0] = 0
 
   ;
@@ -16356,24 +19404,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -16389,7 +19449,8 @@
 		       fi
 		       ac_mid=`expr 2 '*' $ac_mid`
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
   done
 else
   echo "$as_me: failed program was:" >&5
@@ -16397,9 +19458,11 @@
 
 ac_lo= ac_hi=
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 # Binary search between lo and hi bounds.
 while test "x$ac_lo" != "x$ac_hi"; do
   ac_mid=`expr '(' $ac_hi - $ac_lo ')' / 2 + $ac_lo`
@@ -16410,10 +19473,11 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+		   typedef void* ac__type_sizeof_;
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (void*))) <= $ac_mid)];
+static int test_array [1 - 2 * !(((long int) (sizeof (ac__type_sizeof_))) <= $ac_mid)];
 test_array [0] = 0
 
   ;
@@ -16421,24 +19485,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -16449,24 +19525,18 @@
 
 ac_lo=`expr '(' $ac_mid ')' + 1`
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 done
 case $ac_lo in
 ?*) ac_cv_sizeof_voidp=$ac_lo;;
-'') { { echo "$as_me:$LINENO: error: cannot compute sizeof (void*), 77
+'') { { echo "$as_me:$LINENO: error: cannot compute sizeof (void*)
 See \`config.log' for more details." >&5
-echo "$as_me: error: cannot compute sizeof (void*), 77
+echo "$as_me: error: cannot compute sizeof (void*)
 See \`config.log' for more details." >&2;}
-   { (exit 1); exit 1; }; } ;;
+   { (exit 77); exit 77; }; } ;;
 esac
 else
-  if test "$cross_compiling" = yes; then
-  { { echo "$as_me:$LINENO: error: cannot run test program while cross compiling
-See \`config.log' for more details." >&5
-echo "$as_me: error: cannot run test program while cross compiling
-See \`config.log' for more details." >&2;}
-   { (exit 1); exit 1; }; }
-else
   cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -16474,8 +19544,9 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
-long longval () { return (long) (sizeof (void*)); }
-unsigned long ulongval () { return (long) (sizeof (void*)); }
+		   typedef void* ac__type_sizeof_;
+static long int longval () { return (long int) (sizeof (ac__type_sizeof_)); }
+static unsigned long int ulongval () { return (long int) (sizeof (ac__type_sizeof_)); }
 #include <stdio.h>
 #include <stdlib.h>
 int
@@ -16484,35 +19555,44 @@
 
   FILE *f = fopen ("conftest.val", "w");
   if (! f)
-    exit (1);
-  if (((long) (sizeof (void*))) < 0)
+    return 1;
+  if (((long int) (sizeof (ac__type_sizeof_))) < 0)
     {
-      long i = longval ();
-      if (i != ((long) (sizeof (void*))))
-	exit (1);
+      long int i = longval ();
+      if (i != ((long int) (sizeof (ac__type_sizeof_))))
+	return 1;
       fprintf (f, "%ld\n", i);
     }
   else
     {
-      unsigned long i = ulongval ();
-      if (i != ((long) (sizeof (void*))))
-	exit (1);
+      unsigned long int i = ulongval ();
+      if (i != ((long int) (sizeof (ac__type_sizeof_))))
+	return 1;
       fprintf (f, "%lu\n", i);
     }
-  exit (ferror (f) || fclose (f) != 0);
+  return ferror (f) || fclose (f) != 0;
 
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -16523,29 +19603,28 @@
 sed 's/^/| /' conftest.$ac_ext >&5
 
 ( exit $ac_status )
-{ { echo "$as_me:$LINENO: error: cannot compute sizeof (void*), 77
+{ { echo "$as_me:$LINENO: error: cannot compute sizeof (void*)
 See \`config.log' for more details." >&5
-echo "$as_me: error: cannot compute sizeof (void*), 77
+echo "$as_me: error: cannot compute sizeof (void*)
 See \`config.log' for more details." >&2;}
-   { (exit 1); exit 1; }; }
-fi
-rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
+   { (exit 77); exit 77; }; }
 fi
+rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
 fi
 rm -f conftest.val
 else
   ac_cv_sizeof_voidp=0
 fi
 fi
-echo "$as_me:$LINENO: result: $ac_cv_sizeof_voidp" >&5
-echo "${ECHO_T}$ac_cv_sizeof_voidp" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_sizeof_voidp" >&5
+echo "${ECHO_T}$ac_cv_sizeof_voidp" >&6; }
 cat >>confdefs.h <<_ACEOF
 #define SIZEOF_VOIDP $ac_cv_sizeof_voidp
 _ACEOF
 
 
-   echo "$as_me:$LINENO: checking for __int64" >&5
-echo $ECHO_N "checking for __int64... $ECHO_C" >&6
+   { echo "$as_me:$LINENO: checking for __int64" >&5
+echo $ECHO_N "checking for __int64... $ECHO_C" >&6; }
 if test "${ac_cv_type___int64+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -16556,36 +19635,49 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+typedef __int64 ac__type_new_;
 int
 main ()
 {
-if ((__int64 *) 0)
+if ((ac__type_new_ *) 0)
   return 0;
-if (sizeof (__int64))
+if (sizeof (ac__type_new_))
   return 0;
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -16596,18 +19688,19 @@
 
 ac_cv_type___int64=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ac_cv_type___int64" >&5
-echo "${ECHO_T}$ac_cv_type___int64" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_type___int64" >&5
+echo "${ECHO_T}$ac_cv_type___int64" >&6; }
 
-echo "$as_me:$LINENO: checking size of __int64" >&5
-echo $ECHO_N "checking size of __int64... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking size of __int64" >&5
+echo $ECHO_N "checking size of __int64... $ECHO_C" >&6; }
 if test "${ac_cv_sizeof___int64+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   if test "$ac_cv_type___int64" = yes; then
-  # The cast to unsigned long works around a bug in the HP C Compiler
+  # The cast to long int works around a bug in the HP C Compiler
   # version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
   # declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.
   # This bug is HP SR number 8606223364.
@@ -16620,10 +19713,11 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+		   typedef __int64 ac__type_sizeof_;
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (__int64))) >= 0)];
+static int test_array [1 - 2 * !(((long int) (sizeof (ac__type_sizeof_))) >= 0)];
 test_array [0] = 0
 
   ;
@@ -16631,24 +19725,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -16661,10 +19767,11 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+		   typedef __int64 ac__type_sizeof_;
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (__int64))) <= $ac_mid)];
+static int test_array [1 - 2 * !(((long int) (sizeof (ac__type_sizeof_))) <= $ac_mid)];
 test_array [0] = 0
 
   ;
@@ -16672,24 +19779,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -16705,7 +19824,8 @@
 		    fi
 		    ac_mid=`expr 2 '*' $ac_mid + 1`
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
   done
 else
   echo "$as_me: failed program was:" >&5
@@ -16718,10 +19838,11 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+		   typedef __int64 ac__type_sizeof_;
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (__int64))) < 0)];
+static int test_array [1 - 2 * !(((long int) (sizeof (ac__type_sizeof_))) < 0)];
 test_array [0] = 0
 
   ;
@@ -16729,24 +19850,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -16759,10 +19892,11 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+		   typedef __int64 ac__type_sizeof_;
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (__int64))) >= $ac_mid)];
+static int test_array [1 - 2 * !(((long int) (sizeof (ac__type_sizeof_))) >= $ac_mid)];
 test_array [0] = 0
 
   ;
@@ -16770,24 +19904,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -16803,7 +19949,8 @@
 		       fi
 		       ac_mid=`expr 2 '*' $ac_mid`
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
   done
 else
   echo "$as_me: failed program was:" >&5
@@ -16811,9 +19958,11 @@
 
 ac_lo= ac_hi=
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 # Binary search between lo and hi bounds.
 while test "x$ac_lo" != "x$ac_hi"; do
   ac_mid=`expr '(' $ac_hi - $ac_lo ')' / 2 + $ac_lo`
@@ -16824,10 +19973,11 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+		   typedef __int64 ac__type_sizeof_;
 int
 main ()
 {
-static int test_array [1 - 2 * !(((long) (sizeof (__int64))) <= $ac_mid)];
+static int test_array [1 - 2 * !(((long int) (sizeof (ac__type_sizeof_))) <= $ac_mid)];
 test_array [0] = 0
 
   ;
@@ -16835,24 +19985,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -16863,24 +20025,18 @@
 
 ac_lo=`expr '(' $ac_mid ')' + 1`
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 done
 case $ac_lo in
 ?*) ac_cv_sizeof___int64=$ac_lo;;
-'') { { echo "$as_me:$LINENO: error: cannot compute sizeof (__int64), 77
+'') { { echo "$as_me:$LINENO: error: cannot compute sizeof (__int64)
 See \`config.log' for more details." >&5
-echo "$as_me: error: cannot compute sizeof (__int64), 77
+echo "$as_me: error: cannot compute sizeof (__int64)
 See \`config.log' for more details." >&2;}
-   { (exit 1); exit 1; }; } ;;
+   { (exit 77); exit 77; }; } ;;
 esac
 else
-  if test "$cross_compiling" = yes; then
-  { { echo "$as_me:$LINENO: error: cannot run test program while cross compiling
-See \`config.log' for more details." >&5
-echo "$as_me: error: cannot run test program while cross compiling
-See \`config.log' for more details." >&2;}
-   { (exit 1); exit 1; }; }
-else
   cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -16888,8 +20044,9 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
-long longval () { return (long) (sizeof (__int64)); }
-unsigned long ulongval () { return (long) (sizeof (__int64)); }
+		   typedef __int64 ac__type_sizeof_;
+static long int longval () { return (long int) (sizeof (ac__type_sizeof_)); }
+static unsigned long int ulongval () { return (long int) (sizeof (ac__type_sizeof_)); }
 #include <stdio.h>
 #include <stdlib.h>
 int
@@ -16898,35 +20055,44 @@
 
   FILE *f = fopen ("conftest.val", "w");
   if (! f)
-    exit (1);
-  if (((long) (sizeof (__int64))) < 0)
+    return 1;
+  if (((long int) (sizeof (ac__type_sizeof_))) < 0)
     {
-      long i = longval ();
-      if (i != ((long) (sizeof (__int64))))
-	exit (1);
+      long int i = longval ();
+      if (i != ((long int) (sizeof (ac__type_sizeof_))))
+	return 1;
       fprintf (f, "%ld\n", i);
     }
   else
     {
-      unsigned long i = ulongval ();
-      if (i != ((long) (sizeof (__int64))))
-	exit (1);
+      unsigned long int i = ulongval ();
+      if (i != ((long int) (sizeof (ac__type_sizeof_))))
+	return 1;
       fprintf (f, "%lu\n", i);
     }
-  exit (ferror (f) || fclose (f) != 0);
+  return ferror (f) || fclose (f) != 0;
 
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -16937,30 +20103,29 @@
 sed 's/^/| /' conftest.$ac_ext >&5
 
 ( exit $ac_status )
-{ { echo "$as_me:$LINENO: error: cannot compute sizeof (__int64), 77
+{ { echo "$as_me:$LINENO: error: cannot compute sizeof (__int64)
 See \`config.log' for more details." >&5
-echo "$as_me: error: cannot compute sizeof (__int64), 77
+echo "$as_me: error: cannot compute sizeof (__int64)
 See \`config.log' for more details." >&2;}
-   { (exit 1); exit 1; }; }
-fi
-rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
+   { (exit 77); exit 77; }; }
 fi
+rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
 fi
 rm -f conftest.val
 else
   ac_cv_sizeof___int64=0
 fi
 fi
-echo "$as_me:$LINENO: result: $ac_cv_sizeof___int64" >&5
-echo "${ECHO_T}$ac_cv_sizeof___int64" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_sizeof___int64" >&5
+echo "${ECHO_T}$ac_cv_sizeof___int64" >&6; }
 cat >>confdefs.h <<_ACEOF
 #define SIZEOF___INT64 $ac_cv_sizeof___int64
 _ACEOF
 
 
 fi
-echo "$as_me:$LINENO: checking for intptr_t" >&5
-echo $ECHO_N "checking for intptr_t... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking for intptr_t" >&5
+echo $ECHO_N "checking for intptr_t... $ECHO_C" >&6; }
 if test "${ac_cv_type_intptr_t+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -16971,36 +20136,49 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+typedef intptr_t ac__type_new_;
 int
 main ()
 {
-if ((intptr_t *) 0)
+if ((ac__type_new_ *) 0)
   return 0;
-if (sizeof (intptr_t))
+if (sizeof (ac__type_new_))
   return 0;
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -17011,10 +20189,11 @@
 
 ac_cv_type_intptr_t=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ac_cv_type_intptr_t" >&5
-echo "${ECHO_T}$ac_cv_type_intptr_t" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_type_intptr_t" >&5
+echo "${ECHO_T}$ac_cv_type_intptr_t" >&6; }
 if test $ac_cv_type_intptr_t = yes; then
 
 cat >>confdefs.h <<_ACEOF
@@ -17023,8 +20202,8 @@
 
 
 fi
-echo "$as_me:$LINENO: checking for uintptr_t" >&5
-echo $ECHO_N "checking for uintptr_t... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking for uintptr_t" >&5
+echo $ECHO_N "checking for uintptr_t... $ECHO_C" >&6; }
 if test "${ac_cv_type_uintptr_t+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -17035,36 +20214,49 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 $ac_includes_default
+typedef uintptr_t ac__type_new_;
 int
 main ()
 {
-if ((uintptr_t *) 0)
+if ((ac__type_new_ *) 0)
   return 0;
-if (sizeof (uintptr_t))
+if (sizeof (ac__type_new_))
   return 0;
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -17075,10 +20267,11 @@
 
 ac_cv_type_uintptr_t=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ac_cv_type_uintptr_t" >&5
-echo "${ECHO_T}$ac_cv_type_uintptr_t" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_type_uintptr_t" >&5
+echo "${ECHO_T}$ac_cv_type_uintptr_t" >&6; }
 if test $ac_cv_type_uintptr_t = yes; then
 
 cat >>confdefs.h <<_ACEOF
@@ -17089,8 +20282,8 @@
 fi
 
 
-echo "$as_me:$LINENO: checking for struct sockaddr_in.sin_len" >&5
-echo $ECHO_N "checking for struct sockaddr_in.sin_len... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking for struct sockaddr_in.sin_len" >&5
+echo $ECHO_N "checking for struct sockaddr_in.sin_len... $ECHO_C" >&6; }
 if test "${ac_cv_member_struct_sockaddr_in_sin_len+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -17114,24 +20307,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -17160,24 +20365,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -17188,12 +20405,14 @@
 
 ac_cv_member_struct_sockaddr_in_sin_len=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ac_cv_member_struct_sockaddr_in_sin_len" >&5
-echo "${ECHO_T}$ac_cv_member_struct_sockaddr_in_sin_len" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_member_struct_sockaddr_in_sin_len" >&5
+echo "${ECHO_T}$ac_cv_member_struct_sockaddr_in_sin_len" >&6; }
 if test $ac_cv_member_struct_sockaddr_in_sin_len = yes; then
 
 cat >>confdefs.h <<\_ACEOF
@@ -17203,8 +20422,8 @@
 fi
 
 
-echo "$as_me:$LINENO: checking for struct tm.tm_zone" >&5
-echo $ECHO_N "checking for struct tm.tm_zone... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking for struct tm.tm_zone" >&5
+echo $ECHO_N "checking for struct tm.tm_zone... $ECHO_C" >&6; }
 if test "${ac_cv_member_struct_tm_tm_zone+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -17227,24 +20446,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -17272,24 +20503,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -17300,12 +20543,14 @@
 
 ac_cv_member_struct_tm_tm_zone=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ac_cv_member_struct_tm_tm_zone" >&5
-echo "${ECHO_T}$ac_cv_member_struct_tm_tm_zone" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_member_struct_tm_tm_zone" >&5
+echo "${ECHO_T}$ac_cv_member_struct_tm_tm_zone" >&6; }
 if test $ac_cv_member_struct_tm_tm_zone = yes; then
 
 cat >>confdefs.h <<_ACEOF
@@ -17314,8 +20559,8 @@
 
 
 fi
-echo "$as_me:$LINENO: checking for struct tm.__tm_zone" >&5
-echo $ECHO_N "checking for struct tm.__tm_zone... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking for struct tm.__tm_zone" >&5
+echo $ECHO_N "checking for struct tm.__tm_zone... $ECHO_C" >&6; }
 if test "${ac_cv_member_struct_tm___tm_zone+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -17338,24 +20583,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -17383,24 +20640,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -17411,12 +20680,14 @@
 
 ac_cv_member_struct_tm___tm_zone=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ac_cv_member_struct_tm___tm_zone" >&5
-echo "${ECHO_T}$ac_cv_member_struct_tm___tm_zone" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_member_struct_tm___tm_zone" >&5
+echo "${ECHO_T}$ac_cv_member_struct_tm___tm_zone" >&6; }
 if test $ac_cv_member_struct_tm___tm_zone = yes; then
 
 cat >>confdefs.h <<_ACEOF
@@ -17428,8 +20699,8 @@
 
 
 
-echo "$as_me:$LINENO: checking whether function prototypes can use throw(...)" >&5
-echo $ECHO_N "checking whether function prototypes can use throw(...)... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking whether function prototypes can use throw(...)" >&5
+echo $ECHO_N "checking whether function prototypes can use throw(...)... $ECHO_C" >&6; }
 if test "${ncbi_cv_cxx_throw_spec+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -17451,24 +20722,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -17479,10 +20762,11 @@
 
 ncbi_cv_cxx_throw_spec=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_cxx_throw_spec" >&5
-echo "${ECHO_T}$ncbi_cv_cxx_throw_spec" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_cxx_throw_spec" >&5
+echo "${ECHO_T}$ncbi_cv_cxx_throw_spec" >&6; }
 if test "$ncbi_cv_cxx_throw_spec" = yes; then
 
 cat >>confdefs.h <<\_ACEOF
@@ -17492,8 +20776,8 @@
 fi
 
 
-echo "$as_me:$LINENO: checking for obsolete string::compare() syntax" >&5
-echo $ECHO_N "checking for obsolete string::compare() syntax... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking for obsolete string::compare() syntax" >&5
+echo $ECHO_N "checking for obsolete string::compare() syntax... $ECHO_C" >&6; }
 if test "${ncbi_cv_func_string_compare_obsolete+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -17513,24 +20797,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -17541,10 +20837,11 @@
 
 ncbi_cv_func_string_compare_obsolete=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_func_string_compare_obsolete" >&5
-echo "${ECHO_T}$ncbi_cv_func_string_compare_obsolete" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_func_string_compare_obsolete" >&5
+echo "${ECHO_T}$ncbi_cv_func_string_compare_obsolete" >&6; }
 if test "$ncbi_cv_func_string_compare_obsolete" = yes; then
 
 cat >>confdefs.h <<\_ACEOF
@@ -17554,8 +20851,8 @@
 fi
 
 
-echo "$as_me:$LINENO: checking whether the auto_ptr template class works" >&5
-echo $ECHO_N "checking whether the auto_ptr template class works... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking whether the auto_ptr template class works" >&5
+echo $ECHO_N "checking whether the auto_ptr template class works... $ECHO_C" >&6; }
 if test "${ncbi_cv_type_auto_ptr_works+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -17575,24 +20872,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -17603,10 +20912,11 @@
 
 ncbi_cv_type_auto_ptr_works=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_type_auto_ptr_works" >&5
-echo "${ECHO_T}$ncbi_cv_type_auto_ptr_works" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_type_auto_ptr_works" >&5
+echo "${ECHO_T}$ncbi_cv_type_auto_ptr_works" >&6; }
 if test "$ncbi_cv_cxx_auto_ptr_works" = no; then
 
 cat >>confdefs.h <<\_ACEOF
@@ -17616,8 +20926,8 @@
 fi
 
 
-echo "$as_me:$LINENO: checking for min/max templates" >&5
-echo $ECHO_N "checking for min/max templates... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking for min/max templates" >&5
+echo $ECHO_N "checking for min/max templates... $ECHO_C" >&6; }
 if test "${ncbi_cv_func_min_max+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -17645,24 +20955,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -17673,10 +20995,11 @@
 
 ncbi_cv_func_min_max=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_func_min_max" >&5
-echo "${ECHO_T}$ncbi_cv_func_min_max" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_func_min_max" >&5
+echo "${ECHO_T}$ncbi_cv_func_min_max" >&6; }
 if test "$ncbi_cv_func_min_max" = no; then
 
 cat >>confdefs.h <<\_ACEOF
@@ -17686,8 +21009,8 @@
 fi
 
 
-echo "$as_me:$LINENO: checking whether new C++ streams have ios_base::" >&5
-echo $ECHO_N "checking whether new C++ streams have ios_base::... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking whether new C++ streams have ios_base::" >&5
+echo $ECHO_N "checking whether new C++ streams have ios_base::... $ECHO_C" >&6; }
 if test "${ncbi_cv_type_ios_base+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -17707,24 +21030,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -17735,10 +21070,11 @@
 
 ncbi_cv_type_ios_base=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_type_ios_base" >&5
-echo "${ECHO_T}$ncbi_cv_type_ios_base" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_type_ios_base" >&5
+echo "${ECHO_T}$ncbi_cv_type_ios_base" >&6; }
 if test "$ncbi_cv_type_ios_base" = no; then
 
 cat >>confdefs.h <<\_ACEOF
@@ -17748,8 +21084,8 @@
 fi
 
 
-echo "$as_me:$LINENO: checking for ios(_base)::register_callback" >&5
-echo $ECHO_N "checking for ios(_base)::register_callback... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking for ios(_base)::register_callback" >&5
+echo $ECHO_N "checking for ios(_base)::register_callback... $ECHO_C" >&6; }
 if test "${ncbi_cv_func_ios_register_callback+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -17769,24 +21105,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -17797,10 +21145,11 @@
 
 ncbi_cv_func_ios_register_callback=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_func_ios_register_callback" >&5
-echo "${ECHO_T}$ncbi_cv_func_ios_register_callback" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_func_ios_register_callback" >&5
+echo "${ECHO_T}$ncbi_cv_func_ios_register_callback" >&6; }
 if test "$ncbi_cv_func_ios_register_callback" = yes; then
 
 cat >>confdefs.h <<\_ACEOF
@@ -17810,8 +21159,8 @@
 fi
 
 
-echo "$as_me:$LINENO: checking for std::char_traits::" >&5
-echo $ECHO_N "checking for std::char_traits::... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking for std::char_traits::" >&5
+echo $ECHO_N "checking for std::char_traits::... $ECHO_C" >&6; }
 if test "${ncbi_cv_type_char_traits+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -17837,24 +21186,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -17865,10 +21226,11 @@
 
 ncbi_cv_type_char_traits=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_type_char_traits" >&5
-echo "${ECHO_T}$ncbi_cv_type_char_traits" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_type_char_traits" >&5
+echo "${ECHO_T}$ncbi_cv_type_char_traits" >&6; }
 if test "$ncbi_cv_type_char_traits" = no; then
 
 cat >>confdefs.h <<\_ACEOF
@@ -17878,9 +21240,10 @@
 fi
 
 
-echo "$as_me:$LINENO: checking for std::is_sorted<> in <algorithm>" >&5
-echo $ECHO_N "checking for std::is_sorted<> in <algorithm>... $ECHO_C" >&6
-if test "${ncbi_cv_func_is_sorted+set}" = set; then
+
+{ echo "$as_me:$LINENO: checking for SysV semaphores" >&5
+echo $ECHO_N "checking for SysV semaphores... $ECHO_C" >&6; }
+if test "${ncbi_cv_sys_semaphores+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   cat >conftest.$ac_ext <<_ACEOF
@@ -17889,99 +21252,48 @@
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-#include <algorithm>
+#include <sys/types.h>
+#include <sys/sem.h>
 int
 main ()
 {
-int a[2]; return std::is_sorted(a, a+2) ? 0 : 1;
+struct sembuf buf; int id = semget(0x1234, 0, IPC_CREAT);
+       buf.sem_op = SEM_UNDO;
   ;
   return 0;
 }
 _ACEOF
-rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+rm -f conftest.$ac_objext conftest$ac_exeext
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
-  ac_status=$?
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); }; } &&
-	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
-  ac_status=$?
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); }; }; then
-  ncbi_cv_func_is_sorted=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-ncbi_cv_func_is_sorted=no
-fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
-fi
-echo "$as_me:$LINENO: result: $ncbi_cv_func_is_sorted" >&5
-echo "${ECHO_T}$ncbi_cv_func_is_sorted" >&6
-if test "$ncbi_cv_func_is_sorted" = yes; then
-
-cat >>confdefs.h <<\_ACEOF
-#define HAVE_IS_SORTED 1
-_ACEOF
-
-fi
-
-
-
-echo "$as_me:$LINENO: checking for SysV semaphores" >&5
-echo $ECHO_N "checking for SysV semaphores... $ECHO_C" >&6
-if test "${ncbi_cv_sys_semaphores+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <sys/types.h>
-#include <sys/sem.h>
-int
-main ()
-{
-struct sembuf buf; int id = semget(0x1234, 0, IPC_CREAT);
-       buf.sem_op = SEM_UNDO;
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -17992,11 +21304,12 @@
 
 ncbi_cv_sys_semaphores=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_sys_semaphores" >&5
-echo "${ECHO_T}$ncbi_cv_sys_semaphores" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_sys_semaphores" >&5
+echo "${ECHO_T}$ncbi_cv_sys_semaphores" >&6; }
 if test "$ncbi_cv_sys_semaphores" = yes; then
 
 cat >>confdefs.h <<\_ACEOF
@@ -18005,8 +21318,8 @@
 
 fi
 
-echo "$as_me:$LINENO: checking for union semun" >&5
-echo $ECHO_N "checking for union semun... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking for union semun" >&5
+echo $ECHO_N "checking for union semun... $ECHO_C" >&6; }
 if test "${ac_cv_type_union_semun+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -18019,36 +21332,49 @@
 #include <sys/types.h>
 #include <sys/sem.h>
 
+typedef union semun ac__type_new_;
 int
 main ()
 {
-if ((union semun *) 0)
+if ((ac__type_new_ *) 0)
   return 0;
-if (sizeof (union semun))
+if (sizeof (ac__type_new_))
   return 0;
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -18059,10 +21385,11 @@
 
 ac_cv_type_union_semun=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ac_cv_type_union_semun" >&5
-echo "${ECHO_T}$ac_cv_type_union_semun" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_type_union_semun" >&5
+echo "${ECHO_T}$ac_cv_type_union_semun" >&6; }
 if test $ac_cv_type_union_semun = yes; then
 
 cat >>confdefs.h <<\_ACEOF
@@ -18073,8 +21400,8 @@
 
 
 
-echo "$as_me:$LINENO: checking which way the stack grows" >&5
-echo $ECHO_N "checking which way the stack grows... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking which way the stack grows" >&5
+echo $ECHO_N "checking which way the stack grows... $ECHO_C" >&6; }
 if test "${ncbi_cv_sys_stack_dir+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -18097,13 +21424,22 @@
 }
 _ACEOF
 rm -f conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -18116,11 +21452,13 @@
 ( exit $ac_status )
 ncbi_cv_sys_stack_dir=down
 fi
-rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
+rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
 fi
+
+
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_sys_stack_dir" >&5
-echo "${ECHO_T}$ncbi_cv_sys_stack_dir" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_sys_stack_dir" >&5
+echo "${ECHO_T}$ncbi_cv_sys_stack_dir" >&6; }
 case "$ncbi_cv_sys_stack_dir" in
  up)
 cat >>confdefs.h <<\_ACEOF
@@ -18141,8 +21479,8 @@
 ac_compiler_gnu=$ac_cv_c_compiler_gnu
 
 
-echo "$as_me:$LINENO: checking whether the preprocessor supports C99-style variadic macros" >&5
-echo $ECHO_N "checking whether the preprocessor supports C99-style variadic macros... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking whether the preprocessor supports C99-style variadic macros" >&5
+echo $ECHO_N "checking whether the preprocessor supports C99-style variadic macros... $ECHO_C" >&6; }
 if test "${ncbi_cv_cpp_std_varargs+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -18165,24 +21503,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_c_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -18193,10 +21543,11 @@
 
 ncbi_cv_cpp_std_varargs=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_cpp_std_varargs" >&5
-echo "${ECHO_T}$ncbi_cv_cpp_std_varargs" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_cpp_std_varargs" >&5
+echo "${ECHO_T}$ncbi_cv_cpp_std_varargs" >&6; }
 if test "$ncbi_cv_cpp_std_varargs" = yes; then
 
 cat >>confdefs.h <<\_ACEOF
@@ -18205,8 +21556,8 @@
 
 fi
 
-echo "$as_me:$LINENO: checking whether the preprocessor supports GNU-style variadic macros" >&5
-echo $ECHO_N "checking whether the preprocessor supports GNU-style variadic macros... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking whether the preprocessor supports GNU-style variadic macros" >&5
+echo $ECHO_N "checking whether the preprocessor supports GNU-style variadic macros... $ECHO_C" >&6; }
 if test "${ncbi_cv_cpp_gnu_varargs+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -18229,24 +21580,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_c_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -18257,10 +21620,11 @@
 
 ncbi_cv_cpp_gnu_varargs=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_cpp_gnu_varargs" >&5
-echo "${ECHO_T}$ncbi_cv_cpp_gnu_varargs" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_cpp_gnu_varargs" >&5
+echo "${ECHO_T}$ncbi_cv_cpp_gnu_varargs" >&6; }
 if test "$ncbi_cv_cpp_gnu_varargs" = yes; then
 
 cat >>confdefs.h <<\_ACEOF
@@ -18269,7 +21633,7 @@
 
 fi
 
-ac_ext=cc
+ac_ext=cpp
 ac_cpp='$CXXCPP $CPPFLAGS'
 ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
 ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
@@ -18292,8 +21656,8 @@
       ;;
 esac
 
-echo "$as_me:$LINENO: checking syntax for marking deprecated functions" >&5
-echo $ECHO_N "checking syntax for marking deprecated functions... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking syntax for marking deprecated functions" >&5
+echo $ECHO_N "checking syntax for marking deprecated functions... $ECHO_C" >&6; }
 if test "${ncbi_cv_c_deprecation_syntax+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -18313,24 +21677,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -18341,10 +21717,11 @@
 
 ncbi_cv_c_deprecation_syntax=none
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_c_deprecation_syntax" >&5
-echo "${ECHO_T}$ncbi_cv_c_deprecation_syntax" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_c_deprecation_syntax" >&5
+echo "${ECHO_T}$ncbi_cv_c_deprecation_syntax" >&6; }
 depr=$ncbi_cv_c_deprecation_syntax
 test "$depr" = "none"  &&  depr=""
 
@@ -18359,8 +21736,8 @@
 ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
 ac_compiler_gnu=$ac_cv_c_compiler_gnu
 
-echo "$as_me:$LINENO: checking how to force inlining" >&5
-echo $ECHO_N "checking how to force inlining... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking how to force inlining" >&5
+echo $ECHO_N "checking how to force inlining... $ECHO_C" >&6; }
 if test "${ncbi_cv_c_forceinline+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -18377,24 +21754,36 @@
 $fi int f(void) { return 0; }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_c_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -18403,12 +21792,14 @@
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
+
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
     done
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_c_forceinline" >&5
-echo "${ECHO_T}$ncbi_cv_c_forceinline" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_c_forceinline" >&5
+echo "${ECHO_T}$ncbi_cv_c_forceinline" >&6; }
 forceinline=$ncbi_cv_c_forceinline
 test "$forceinline" = "no"  &&  forceinline=""
 
@@ -18417,8 +21808,8 @@
 _ACEOF
 
 
-echo "$as_me:$LINENO: checking whether the C compiler supports __attribute__((destructor))" >&5
-echo $ECHO_N "checking whether the C compiler supports __attribute__((destructor))... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking whether the C compiler supports __attribute__((destructor))" >&5
+echo $ECHO_N "checking whether the C compiler supports __attribute__((destructor))... $ECHO_C" >&6; }
 if test "${ncbi_cv_c_attribute_destructor+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -18438,24 +21829,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_c_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -18466,10 +21869,11 @@
 
 ncbi_cv_c_attribute_destructor=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_c_attribute_destructor" >&5
-echo "${ECHO_T}$ncbi_cv_c_attribute_destructor" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_c_attribute_destructor" >&5
+echo "${ECHO_T}$ncbi_cv_c_attribute_destructor" >&6; }
 if test $ncbi_cv_c_attribute_destructor = yes; then
 
 cat >>confdefs.h <<\_ACEOF
@@ -18483,8 +21887,8 @@
    * ) ncbi_cv_c_attribute_visibility_default=unnecessary ;;
 esac
 
-echo "$as_me:$LINENO: checking whether $CC supports __attribute__((visibility(\"default\")))" >&5
-echo $ECHO_N "checking whether $CC supports __attribute__((visibility(\"default\")))... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking whether $CC supports __attribute__((visibility(\"default\")))" >&5
+echo $ECHO_N "checking whether $CC supports __attribute__((visibility(\"default\")))... $ECHO_C" >&6; }
 if test "${ncbi_cv_c_attribute_visibility_default+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -18504,24 +21908,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_c_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -18532,10 +21948,11 @@
 
 ncbi_cv_c_attribute_visibility_default=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_c_attribute_visibility_default" >&5
-echo "${ECHO_T}$ncbi_cv_c_attribute_visibility_default" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_c_attribute_visibility_default" >&5
+echo "${ECHO_T}$ncbi_cv_c_attribute_visibility_default" >&6; }
 if test $ncbi_cv_c_attribute_visibility_default = yes; then
 
 cat >>confdefs.h <<\_ACEOF
@@ -18544,13 +21961,13 @@
 
 fi
 
-echo "$as_me:$LINENO: checking whether the C compiler supports C99 restrict" >&5
-echo $ECHO_N "checking whether the C compiler supports C99 restrict... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking whether the C compiler supports C99 restrict" >&5
+echo $ECHO_N "checking whether the C compiler supports C99 restrict... $ECHO_C" >&6; }
 if test "${ncbi_cv_c_restrict+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   ncbi_cv_c_restrict=no
-    for restrict in restrict __restrict__ __restrict; do
+    for restrict in __restrict__ __restrict restrict; do
        test "$ncbi_cv_c_restrict" = "no" || break
        cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
@@ -18561,24 +21978,36 @@
 void f(int * $restrict p);
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_c_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -18587,12 +22016,14 @@
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
+
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
     done
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_c_restrict" >&5
-echo "${ECHO_T}$ncbi_cv_c_restrict" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_c_restrict" >&5
+echo "${ECHO_T}$ncbi_cv_c_restrict" >&6; }
 restrict=$ncbi_cv_c_restrict
 test "$restrict" = "no"  &&  restrict=""
 
@@ -18607,20 +22038,20 @@
 _ACEOF
 
 fi
-ac_ext=cc
+ac_ext=cpp
 ac_cpp='$CXXCPP $CPPFLAGS'
 ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
 ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
 ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
 
 
-echo "$as_me:$LINENO: checking whether the C++ compiler supports C99 restrict" >&5
-echo $ECHO_N "checking whether the C++ compiler supports C99 restrict... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking whether the C++ compiler supports C99 restrict" >&5
+echo $ECHO_N "checking whether the C++ compiler supports C99 restrict... $ECHO_C" >&6; }
 if test "${ncbi_cv_cxx_restrict+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   ncbi_cv_cxx_restrict=no
-    for restrict in restrict __restrict__ __restrict; do
+    for restrict in __restrict__ __restrict restrict; do
        test "$ncbi_cv_cxx_restrict" = "no" || break
        cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
@@ -18631,24 +22062,36 @@
 void f(int * $restrict p);
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -18657,12 +22100,14 @@
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
+
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
     done
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_cxx_restrict" >&5
-echo "${ECHO_T}$ncbi_cv_cxx_restrict" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_cxx_restrict" >&5
+echo "${ECHO_T}$ncbi_cv_cxx_restrict" >&6; }
 restrict=$ncbi_cv_cxx_restrict
 test "$restrict" = "no"  &&  restrict=""
 
@@ -18678,8 +22123,8 @@
 
 fi
 
-echo "$as_me:$LINENO: checking syntax for marking functions that never return" >&5
-echo $ECHO_N "checking syntax for marking functions that never return... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking syntax for marking functions that never return" >&5
+echo $ECHO_N "checking syntax for marking functions that never return... $ECHO_C" >&6; }
 if test "${ncbi_cv_c_noreturn+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -18699,24 +22144,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -18727,10 +22184,11 @@
 
 ncbi_cv_c_noreturn=none
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_c_noreturn" >&5
-echo "${ECHO_T}$ncbi_cv_c_noreturn" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_c_noreturn" >&5
+echo "${ECHO_T}$ncbi_cv_c_noreturn" >&6; }
 noret=$ncbi_cv_c_noreturn
 test "$noret" = "none"  &&  noret=""
 
@@ -18739,8 +22197,8 @@
 _ACEOF
 
 
-echo "$as_me:$LINENO: checking syntax for declaring thread-local variables" >&5
-echo $ECHO_N "checking syntax for declaring thread-local variables... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking syntax for declaring thread-local variables" >&5
+echo $ECHO_N "checking syntax for declaring thread-local variables... $ECHO_C" >&6; }
 if test "${ncbi_cv_c_tls_var+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -18763,24 +22221,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -18789,12 +22259,14 @@
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
+
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
     done
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_c_tls_var" >&5
-echo "${ECHO_T}$ncbi_cv_c_tls_var" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_c_tls_var" >&5
+echo "${ECHO_T}$ncbi_cv_c_tls_var" >&6; }
 tls_var=$ncbi_cv_c_tls_var
 if test "$tls_var" != "none"; then
 
@@ -18805,8 +22277,8 @@
 fi
 
 # for FreeTDS
-echo "$as_me:$LINENO: checking whether FIONBIO requires BSD_COMP to be defined" >&5
-echo $ECHO_N "checking whether FIONBIO requires BSD_COMP to be defined... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking whether FIONBIO requires BSD_COMP to be defined" >&5
+echo $ECHO_N "checking whether FIONBIO requires BSD_COMP to be defined... $ECHO_C" >&6; }
 if test "${ncbi_cv_decl_fionbio_needs_bsd_comp+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -18827,24 +22299,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -18871,24 +22355,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -18899,12 +22395,14 @@
 
 ncbi_cv_decl_fionbio_needs_bsd_comp="never defined at all"
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_decl_fionbio_needs_bsd_comp" >&5
-echo "${ECHO_T}$ncbi_cv_decl_fionbio_needs_bsd_comp" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_decl_fionbio_needs_bsd_comp" >&5
+echo "${ECHO_T}$ncbi_cv_decl_fionbio_needs_bsd_comp" >&6; }
 if test "$ncbi_cv_decl_fionbio_needs_bsd_comp" = yes; then
 
 cat >>confdefs.h <<\_ACEOF
@@ -18913,8 +22411,8 @@
 
 fi
 
-echo "$as_me:$LINENO: checking whether INADDR_NONE is defined" >&5
-echo $ECHO_N "checking whether INADDR_NONE is defined... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking whether INADDR_NONE is defined" >&5
+echo $ECHO_N "checking whether INADDR_NONE is defined... $ECHO_C" >&6; }
 if test "${ncbi_cv_decl_inaddr_none+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -18947,24 +22445,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -18975,10 +22485,11 @@
 
 ncbi_cv_decl_inaddr_none=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_decl_inaddr_none" >&5
-echo "${ECHO_T}$ncbi_cv_decl_inaddr_none" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_decl_inaddr_none" >&5
+echo "${ECHO_T}$ncbi_cv_decl_inaddr_none" >&6; }
 if test "$ncbi_cv_decl_inaddr_none" != yes; then
 
 cat >>confdefs.h <<\_ACEOF
@@ -18987,8 +22498,8 @@
 
 fi
 
-echo "$as_me:$LINENO: checking whether unaligned reads are permissible" >&5
-echo $ECHO_N "checking whether unaligned reads are permissible... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking whether unaligned reads are permissible" >&5
+echo $ECHO_N "checking whether unaligned reads are permissible... $ECHO_C" >&6; }
 if test "${ncbi_cv_sys_unaligned_reads+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -19015,13 +22526,22 @@
 }
 _ACEOF
 rm -f conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>&5
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -19034,76 +22554,17 @@
 ( exit $ac_status )
 ncbi_cv_sys_unaligned_reads=no
 fi
-rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
-fi
-fi
-echo "$as_me:$LINENO: result: $ncbi_cv_sys_unaligned_reads" >&5
-echo "${ECHO_T}$ncbi_cv_sys_unaligned_reads" >&6
-if test "$ncbi_cv_sys_unaligned_reads" = yes; then
-
-cat >>confdefs.h <<\_ACEOF
-#define HAVE_UNALIGNED_READS 1
-_ACEOF
-
+rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
 fi
 
-echo "$as_me:$LINENO: checking whether $CXX supports C++0x nullptr" >&5
-echo $ECHO_N "checking whether $CXX supports C++0x nullptr... $ECHO_C" >&6
-if test "${ncbi_cv_cxx_nullptr+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-
-int
-main ()
-{
-void * p = nullptr;
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
-  ac_status=$?
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); }; } &&
-	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
-  ac_status=$?
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); }; }; then
-  ncbi_cv_cxx_nullptr=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
 
-ncbi_cv_cxx_nullptr=no
-fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_cxx_nullptr" >&5
-echo "${ECHO_T}$ncbi_cv_cxx_nullptr" >&6
-if test "$ncbi_cv_cxx_nullptr" = yes; then
+{ echo "$as_me:$LINENO: result: $ncbi_cv_sys_unaligned_reads" >&5
+echo "${ECHO_T}$ncbi_cv_sys_unaligned_reads" >&6; }
+if test "$ncbi_cv_sys_unaligned_reads" = yes; then
 
 cat >>confdefs.h <<\_ACEOF
-#define HAVE_NULLPTR 1
+#define HAVE_UNALIGNED_READS 1
 _ACEOF
 
 fi
@@ -19112,23 +22573,23 @@
 ### --------------------------------------------
 
 
-echo "$as_me:$LINENO: checking whether in-house NCBI resources are available" >&5
-echo $ECHO_N "checking whether in-house NCBI resources are available... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking whether in-house NCBI resources are available" >&5
+echo $ECHO_N "checking whether in-house NCBI resources are available... $ECHO_C" >&6; }
 if test -n "$orig_NCBI" -a -f "$orig_NCBI/.ncbirc" \
     -a -d /am/coremake_builds/test_data; \
 then
              WithFeatures="$WithFeatures${WithFeaturesSep}in-house-resources"; WithFeaturesSep=" "
-   echo "$as_me:$LINENO: result: yes" >&5
-echo "${ECHO_T}yes" >&6
+   { echo "$as_me:$LINENO: result: yes" >&5
+echo "${ECHO_T}yes" >&6; }
 else
-   echo "$as_me:$LINENO: result: no" >&5
-echo "${ECHO_T}no" >&6
+   { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
 fi
 
 ### Common-use system and miscellaneous libs
 if test -z "${NETWORK_LIBS+set}"; then
-   echo "$as_me:$LINENO: checking for gethostbyname in -lnsl" >&5
-echo $ECHO_N "checking for gethostbyname in -lnsl... $ECHO_C" >&6
+   { echo "$as_me:$LINENO: checking for gethostbyname in -lnsl" >&5
+echo $ECHO_N "checking for gethostbyname in -lnsl... $ECHO_C" >&6; }
 if test "${ac_cv_lib_nsl_gethostbyname+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -19141,40 +22602,52 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 
-/* Override any gcc2 internal prototype to avoid an error.  */
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
 #ifdef __cplusplus
 extern "C"
 #endif
-/* We use char because int might match the return type of a gcc2
-   builtin and then its argument prototype would still apply.  */
 char gethostbyname ();
 int
 main ()
 {
-gethostbyname ();
+return gethostbyname ();
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -19185,20 +22658,21 @@
 
 ac_cv_lib_nsl_gethostbyname=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 LIBS=$ac_check_lib_save_LIBS
 fi
-echo "$as_me:$LINENO: result: $ac_cv_lib_nsl_gethostbyname" >&5
-echo "${ECHO_T}$ac_cv_lib_nsl_gethostbyname" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_lib_nsl_gethostbyname" >&5
+echo "${ECHO_T}$ac_cv_lib_nsl_gethostbyname" >&6; }
 if test $ac_cv_lib_nsl_gethostbyname = yes; then
   libnsl=-lnsl
 else
   libnsl=
 fi
 
-   echo "$as_me:$LINENO: checking for connect in -lsocket" >&5
-echo $ECHO_N "checking for connect in -lsocket... $ECHO_C" >&6
+   { echo "$as_me:$LINENO: checking for connect in -lsocket" >&5
+echo $ECHO_N "checking for connect in -lsocket... $ECHO_C" >&6; }
 if test "${ac_cv_lib_socket_connect+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -19211,40 +22685,52 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 
-/* Override any gcc2 internal prototype to avoid an error.  */
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
 #ifdef __cplusplus
 extern "C"
 #endif
-/* We use char because int might match the return type of a gcc2
-   builtin and then its argument prototype would still apply.  */
 char connect ();
 int
 main ()
 {
-connect ();
+return connect ();
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -19255,12 +22741,13 @@
 
 ac_cv_lib_socket_connect=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 LIBS=$ac_check_lib_save_LIBS
 fi
-echo "$as_me:$LINENO: result: $ac_cv_lib_socket_connect" >&5
-echo "${ECHO_T}$ac_cv_lib_socket_connect" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_lib_socket_connect" >&5
+echo "${ECHO_T}$ac_cv_lib_socket_connect" >&6; }
 if test $ac_cv_lib_socket_connect = yes; then
   NETWORK_LIBS="-lsocket $libnsl"
 else
@@ -19268,8 +22755,8 @@
 fi
 
 fi
-echo "$as_me:$LINENO: checking for res_search in -lresolv" >&5
-echo $ECHO_N "checking for res_search in -lresolv... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking for res_search in -lresolv" >&5
+echo $ECHO_N "checking for res_search in -lresolv... $ECHO_C" >&6; }
 if test "${ac_cv_lib_resolv_res_search+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -19292,24 +22779,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -19320,12 +22819,13 @@
 
 ac_cv_lib_resolv_res_search=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
     LIBS=$orig_LIBS
 fi
-echo "$as_me:$LINENO: result: $ac_cv_lib_resolv_res_search" >&5
-echo "${ECHO_T}$ac_cv_lib_resolv_res_search" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_lib_resolv_res_search" >&5
+echo "${ECHO_T}$ac_cv_lib_resolv_res_search" >&6; }
 if test "$ac_cv_lib_resolv_res_search" = "yes"; then
    RESOLVER_LIBS=-lresolv
 else
@@ -19338,9 +22838,9 @@
 for ac_func in inet_ntoa_r
 do
 as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
-echo "$as_me:$LINENO: checking for $ac_func" >&5
-echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6
-if eval "test \"\${$as_ac_var+set}\" = set"; then
+{ echo "$as_me:$LINENO: checking for $ac_func" >&5
+echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6; }
+if { as_var=$as_ac_var; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   cat >conftest.$ac_ext <<_ACEOF
@@ -19366,53 +22866,59 @@
 
 #undef $ac_func
 
-/* Override any gcc2 internal prototype to avoid an error.  */
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
 #ifdef __cplusplus
 extern "C"
-{
 #endif
-/* We use char because int might match the return type of a gcc2
-   builtin and then its argument prototype would still apply.  */
 char $ac_func ();
 /* The GNU C library defines this for functions which it implements
     to always fail with ENOSYS.  Some functions are actually named
     something starting with __ and the normal name is an alias.  */
-#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
+#if defined __stub_$ac_func || defined __stub___$ac_func
 choke me
-#else
-char (*f) () = $ac_func;
-#endif
-#ifdef __cplusplus
-}
 #endif
 
 int
 main ()
 {
-return f != $ac_func;
+return $ac_func ();
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -19423,11 +22929,13 @@
 
 eval "$as_ac_var=no"
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_var'}'`" >&5
-echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
+ac_res=`eval echo '${'$as_ac_var'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
 if test `eval echo '${'$as_ac_var'}'` = yes; then
   cat >>confdefs.h <<_ACEOF
 #define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
@@ -19436,8 +22944,8 @@
 fi
 done
 
-echo "$as_me:$LINENO: checking for getaddrinfo" >&5
-echo $ECHO_N "checking for getaddrinfo... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking for getaddrinfo" >&5
+echo $ECHO_N "checking for getaddrinfo... $ECHO_C" >&6; }
 if test "${ac_cv_func_getaddrinfo+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -19457,24 +22965,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -19485,19 +23005,20 @@
 
 ac_cv_func_getaddrinfo=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ac_cv_func_getaddrinfo" >&5
-echo "${ECHO_T}$ac_cv_func_getaddrinfo" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_func_getaddrinfo" >&5
+echo "${ECHO_T}$ac_cv_func_getaddrinfo" >&6; }
 test "$ac_cv_func_getaddrinfo" = "yes" && \
 
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_GETADDRINFO 1
 _ACEOF
 
-echo "$as_me:$LINENO: checking for getnameinfo" >&5
-echo $ECHO_N "checking for getnameinfo... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking for getnameinfo" >&5
+echo $ECHO_N "checking for getnameinfo... $ECHO_C" >&6; }
 if test "${ac_cv_func_getnameinfo+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -19520,24 +23041,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -19548,11 +23081,12 @@
 
 ac_cv_func_getnameinfo=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ac_cv_func_getnameinfo" >&5
-echo "${ECHO_T}$ac_cv_func_getnameinfo" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_func_getnameinfo" >&5
+echo "${ECHO_T}$ac_cv_func_getnameinfo" >&6; }
 test "$ac_cv_func_getnameinfo" = "yes" && \
 
 cat >>confdefs.h <<\_ACEOF
@@ -19568,9 +23102,9 @@
                inet_ntop
 do
 as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
-echo "$as_me:$LINENO: checking for $ac_func" >&5
-echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6
-if eval "test \"\${$as_ac_var+set}\" = set"; then
+{ echo "$as_me:$LINENO: checking for $ac_func" >&5
+echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6; }
+if { as_var=$as_ac_var; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   cat >conftest.$ac_ext <<_ACEOF
@@ -19596,53 +23130,59 @@
 
 #undef $ac_func
 
-/* Override any gcc2 internal prototype to avoid an error.  */
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
 #ifdef __cplusplus
 extern "C"
-{
 #endif
-/* We use char because int might match the return type of a gcc2
-   builtin and then its argument prototype would still apply.  */
 char $ac_func ();
 /* The GNU C library defines this for functions which it implements
     to always fail with ENOSYS.  Some functions are actually named
     something starting with __ and the normal name is an alias.  */
-#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
+#if defined __stub_$ac_func || defined __stub___$ac_func
 choke me
-#else
-char (*f) () = $ac_func;
-#endif
-#ifdef __cplusplus
-}
 #endif
 
 int
 main ()
 {
-return f != $ac_func;
+return $ac_func ();
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -19653,11 +23193,13 @@
 
 eval "$as_ac_var=no"
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_var'}'`" >&5
-echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
+ac_res=`eval echo '${'$as_ac_var'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
 if test `eval echo '${'$as_ac_var'}'` = yes; then
   cat >>confdefs.h <<_ACEOF
 #define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
@@ -19680,9 +23222,9 @@
 for ac_func in erf
 do
 as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
-echo "$as_me:$LINENO: checking for $ac_func" >&5
-echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6
-if eval "test \"\${$as_ac_var+set}\" = set"; then
+{ echo "$as_me:$LINENO: checking for $ac_func" >&5
+echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6; }
+if { as_var=$as_ac_var; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   cat >conftest.$ac_ext <<_ACEOF
@@ -19708,53 +23250,59 @@
 
 #undef $ac_func
 
-/* Override any gcc2 internal prototype to avoid an error.  */
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
 #ifdef __cplusplus
 extern "C"
-{
 #endif
-/* We use char because int might match the return type of a gcc2
-   builtin and then its argument prototype would still apply.  */
 char $ac_func ();
 /* The GNU C library defines this for functions which it implements
     to always fail with ENOSYS.  Some functions are actually named
     something starting with __ and the normal name is an alias.  */
-#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
+#if defined __stub_$ac_func || defined __stub___$ac_func
 choke me
-#else
-char (*f) () = $ac_func;
-#endif
-#ifdef __cplusplus
-}
 #endif
 
 int
 main ()
 {
-return f != $ac_func;
+return $ac_func ();
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -19765,11 +23313,13 @@
 
 eval "$as_ac_var=no"
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_var'}'`" >&5
-echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
+ac_res=`eval echo '${'$as_ac_var'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
 if test `eval echo '${'$as_ac_var'}'` = yes; then
   cat >>confdefs.h <<_ACEOF
 #define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
@@ -19780,13 +23330,12 @@
 
 
 saved_LIBS=$LIBS
- echo "$as_me:$LINENO: checking for library containing kstat_open" >&5
-echo $ECHO_N "checking for library containing kstat_open... $ECHO_C" >&6
+ { echo "$as_me:$LINENO: checking for library containing kstat_open" >&5
+echo $ECHO_N "checking for library containing kstat_open... $ECHO_C" >&6; }
 if test "${ac_cv_search_kstat_open+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   ac_func_search_save_LIBS=$LIBS
-ac_cv_search_kstat_open=no
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -19794,54 +23343,106 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 
-/* Override any gcc2 internal prototype to avoid an error.  */
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
 #ifdef __cplusplus
 extern "C"
 #endif
-/* We use char because int might match the return type of a gcc2
-   builtin and then its argument prototype would still apply.  */
 char kstat_open ();
 int
 main ()
 {
-kstat_open ();
+return kstat_open ();
   ;
   return 0;
 }
 _ACEOF
+for ac_lib in '' "$KSTAT_LIBS" kstat; do
+  if test -z "$ac_lib"; then
+    ac_res="none required"
+  else
+    ac_res=-l$ac_lib
+    LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
+  fi
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ac_cv_search_kstat_open="none required"
+  ac_cv_search_kstat_open=$ac_res
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
+
 fi
-rm -f conftest.err conftest.$ac_objext \
-      conftest$ac_exeext conftest.$ac_ext
-if test "$ac_cv_search_kstat_open" = no; then
-  for ac_lib in "$KSTAT_LIBS" kstat; do
-    LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
+
+rm -f core conftest.err conftest.$ac_objext \
+      conftest$ac_exeext
+  if test "${ac_cv_search_kstat_open+set}" = set; then
+  break
+fi
+done
+if test "${ac_cv_search_kstat_open+set}" = set; then
+  :
+else
+  ac_cv_search_kstat_open=no
+fi
+rm conftest.$ac_ext
+LIBS=$ac_func_search_save_LIBS
+fi
+{ echo "$as_me:$LINENO: result: $ac_cv_search_kstat_open" >&5
+echo "${ECHO_T}$ac_cv_search_kstat_open" >&6; }
+ac_res=$ac_cv_search_kstat_open
+if test "$ac_res" != no; then
+  test "$ac_res" = "none required" || LIBS="$ac_res $LIBS"
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_LIBKSTAT 1
+_ACEOF
+
+   test "x$ac_cv_search_kstat_open" = "xnone required" || KSTAT_LIBS=$ac_cv_search_kstat_open
+fi
+
+ LIBS=$saved_LIBS
+
+saved_LIBS=$LIBS
+ { echo "$as_me:$LINENO: checking for library containing rstat" >&5
+echo $ECHO_N "checking for library containing rstat... $ECHO_C" >&6; }
+if test "${ac_cv_search_rstat+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  ac_func_search_save_LIBS=$LIBS
     cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -19849,78 +23450,114 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 
-/* Override any gcc2 internal prototype to avoid an error.  */
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
 #ifdef __cplusplus
 extern "C"
 #endif
-/* We use char because int might match the return type of a gcc2
-   builtin and then its argument prototype would still apply.  */
-char kstat_open ();
+char rstat ();
 int
 main ()
 {
-kstat_open ();
+return rstat ();
   ;
   return 0;
 }
 _ACEOF
+for ac_lib in '' "$RPCSVC_LIBS" rpcsvc; do
+  if test -z "$ac_lib"; then
+    ac_res="none required"
+  else
+    ac_res=-l$ac_lib
+    LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
+  fi
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ac_cv_search_kstat_open="-l$ac_lib"
-break
+  ac_cv_search_rstat=$ac_res
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
+
+fi
+
+rm -f core conftest.err conftest.$ac_objext \
+      conftest$ac_exeext
+  if test "${ac_cv_search_rstat+set}" = set; then
+  break
 fi
-rm -f conftest.err conftest.$ac_objext \
-      conftest$ac_exeext conftest.$ac_ext
   done
+if test "${ac_cv_search_rstat+set}" = set; then
+  :
+else
+  ac_cv_search_rstat=no
 fi
+rm conftest.$ac_ext
 LIBS=$ac_func_search_save_LIBS
 fi
-echo "$as_me:$LINENO: result: $ac_cv_search_kstat_open" >&5
-echo "${ECHO_T}$ac_cv_search_kstat_open" >&6
-if test "$ac_cv_search_kstat_open" != no; then
-  test "$ac_cv_search_kstat_open" = "none required" || LIBS="$ac_cv_search_kstat_open $LIBS"
+{ echo "$as_me:$LINENO: result: $ac_cv_search_rstat" >&5
+echo "${ECHO_T}$ac_cv_search_rstat" >&6; }
+ac_res=$ac_cv_search_rstat
+if test "$ac_res" != no; then
+  test "$ac_res" = "none required" || LIBS="$ac_res $LIBS"
 
 cat >>confdefs.h <<\_ACEOF
-#define HAVE_LIBKSTAT 1
+#define HAVE_LIBRPCSVC 1
 _ACEOF
 
-   test "x$ac_cv_search_kstat_open" = "xnone required" || KSTAT_LIBS=$ac_cv_search_kstat_open
+   test "x$ac_cv_search_rstat" = "xnone required" || RPCSVC_LIBS=$ac_cv_search_rstat
 fi
 
  LIBS=$saved_LIBS
 
+ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+# Force C for this test because Sun WorkShop otherwise complains about
+# multiple extern "C" declarations of setkey.
 saved_LIBS=$LIBS
- echo "$as_me:$LINENO: checking for library containing rstat" >&5
-echo $ECHO_N "checking for library containing rstat... $ECHO_C" >&6
-if test "${ac_cv_search_rstat+set}" = set; then
+ { echo "$as_me:$LINENO: checking for library containing setkey" >&5
+echo $ECHO_N "checking for library containing setkey... $ECHO_C" >&6; }
+if test "${ac_cv_search_setkey+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   ac_func_search_save_LIBS=$LIBS
-ac_cv_search_rstat=no
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -19928,54 +23565,116 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 
-/* Override any gcc2 internal prototype to avoid an error.  */
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
 #ifdef __cplusplus
 extern "C"
 #endif
-/* We use char because int might match the return type of a gcc2
-   builtin and then its argument prototype would still apply.  */
-char rstat ();
+char setkey ();
 int
 main ()
 {
-rstat ();
+return setkey ();
   ;
   return 0;
 }
 _ACEOF
+for ac_lib in '' "$CRYPT_LIBS" crypt crypt_i; do
+  if test -z "$ac_lib"; then
+    ac_res="none required"
+  else
+    ac_res=-l$ac_lib
+    LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
+  fi
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_c_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ac_cv_search_rstat="none required"
+  ac_cv_search_setkey=$ac_res
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
+
 fi
-rm -f conftest.err conftest.$ac_objext \
-      conftest$ac_exeext conftest.$ac_ext
-if test "$ac_cv_search_rstat" = no; then
-  for ac_lib in "$RPCSVC_LIBS" rpcsvc; do
-    LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
+
+rm -f core conftest.err conftest.$ac_objext \
+      conftest$ac_exeext
+  if test "${ac_cv_search_setkey+set}" = set; then
+  break
+fi
+done
+if test "${ac_cv_search_setkey+set}" = set; then
+  :
+else
+  ac_cv_search_setkey=no
+fi
+rm conftest.$ac_ext
+LIBS=$ac_func_search_save_LIBS
+fi
+{ echo "$as_me:$LINENO: result: $ac_cv_search_setkey" >&5
+echo "${ECHO_T}$ac_cv_search_setkey" >&6; }
+ac_res=$ac_cv_search_setkey
+if test "$ac_res" != no; then
+  test "$ac_res" = "none required" || LIBS="$ac_res $LIBS"
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_LIBCRYPT 1
+_ACEOF
+
+   test "x$ac_cv_search_setkey" = "xnone required" || CRYPT_LIBS=$ac_cv_search_setkey
+fi
+
+ LIBS=$saved_LIBS
+
+ac_ext=cpp
+ac_cpp='$CXXCPP $CPPFLAGS'
+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
+
+case "$host_os:$compiler" in
+     solaris*:GCC ) ac_cv_search_dlopen="-ldl" ;;
+     darwin*      ) ac_cv_search_iconv="-liconv" ;;
+esac
+saved_LIBS=$LIBS
+ { echo "$as_me:$LINENO: checking for library containing dlopen" >&5
+echo $ECHO_N "checking for library containing dlopen... $ECHO_C" >&6; }
+if test "${ac_cv_search_dlopen+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  ac_func_search_save_LIBS=$LIBS
     cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -19983,86 +23682,110 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 
-/* Override any gcc2 internal prototype to avoid an error.  */
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
 #ifdef __cplusplus
 extern "C"
 #endif
-/* We use char because int might match the return type of a gcc2
-   builtin and then its argument prototype would still apply.  */
-char rstat ();
+char dlopen ();
 int
 main ()
 {
-rstat ();
+return dlopen ();
   ;
   return 0;
 }
 _ACEOF
+for ac_lib in '' "$DL_LIBS" dl; do
+  if test -z "$ac_lib"; then
+    ac_res="none required"
+  else
+    ac_res=-l$ac_lib
+    LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
+  fi
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ac_cv_search_rstat="-l$ac_lib"
-break
+  ac_cv_search_dlopen=$ac_res
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
+
+fi
+
+rm -f core conftest.err conftest.$ac_objext \
+      conftest$ac_exeext
+  if test "${ac_cv_search_dlopen+set}" = set; then
+  break
 fi
-rm -f conftest.err conftest.$ac_objext \
-      conftest$ac_exeext conftest.$ac_ext
   done
+if test "${ac_cv_search_dlopen+set}" = set; then
+  :
+else
+  ac_cv_search_dlopen=no
 fi
+rm conftest.$ac_ext
 LIBS=$ac_func_search_save_LIBS
 fi
-echo "$as_me:$LINENO: result: $ac_cv_search_rstat" >&5
-echo "${ECHO_T}$ac_cv_search_rstat" >&6
-if test "$ac_cv_search_rstat" != no; then
-  test "$ac_cv_search_rstat" = "none required" || LIBS="$ac_cv_search_rstat $LIBS"
+{ echo "$as_me:$LINENO: result: $ac_cv_search_dlopen" >&5
+echo "${ECHO_T}$ac_cv_search_dlopen" >&6; }
+ac_res=$ac_cv_search_dlopen
+if test "$ac_res" != no; then
+  test "$ac_res" = "none required" || LIBS="$ac_res $LIBS"
 
 cat >>confdefs.h <<\_ACEOF
-#define HAVE_LIBRPCSVC 1
+#define HAVE_LIBDL 1
 _ACEOF
 
-   test "x$ac_cv_search_rstat" = "xnone required" || RPCSVC_LIBS=$ac_cv_search_rstat
+   test "x$ac_cv_search_dlopen" = "xnone required" || DL_LIBS=$ac_cv_search_dlopen
 fi
 
  LIBS=$saved_LIBS
 
-ac_ext=c
-ac_cpp='$CPP $CPPFLAGS'
-ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
-ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
-ac_compiler_gnu=$ac_cv_c_compiler_gnu
-
-# Force C for this test because Sun WorkShop otherwise complains about
-# multiple extern "C" declarations of setkey.
-saved_LIBS=$LIBS
- echo "$as_me:$LINENO: checking for library containing setkey" >&5
-echo $ECHO_N "checking for library containing setkey... $ECHO_C" >&6
-if test "${ac_cv_search_setkey+set}" = set; then
+# libc's stubs aren't always sufficient...
+case "$host_os:$libnsl" in
+     solaris2.[89]:* ) orig_LIBS="$DL_LIBS $orig_LIBS" ;;
+     solaris*:-lnsl    ) NETWORK_LIBS="$NETWORK_LIBS $DL_LIBS" ;;
+esac
+{ echo "$as_me:$LINENO: checking for library containing uuid_generate" >&5
+echo $ECHO_N "checking for library containing uuid_generate... $ECHO_C" >&6; }
+if test "${ac_cv_search_uuid_generate+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   ac_func_search_save_LIBS=$LIBS
-ac_cv_search_setkey=no
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -20070,54 +23793,101 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 
-/* Override any gcc2 internal prototype to avoid an error.  */
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
 #ifdef __cplusplus
 extern "C"
 #endif
-/* We use char because int might match the return type of a gcc2
-   builtin and then its argument prototype would still apply.  */
-char setkey ();
+char uuid_generate ();
 int
 main ()
 {
-setkey ();
+return uuid_generate ();
   ;
   return 0;
 }
 _ACEOF
+for ac_lib in '' uuid; do
+  if test -z "$ac_lib"; then
+    ac_res="none required"
+  else
+    ac_res=-l$ac_lib
+    LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
+  fi
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_c_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ac_cv_search_setkey="none required"
+  ac_cv_search_uuid_generate=$ac_res
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
+
 fi
-rm -f conftest.err conftest.$ac_objext \
-      conftest$ac_exeext conftest.$ac_ext
-if test "$ac_cv_search_setkey" = no; then
-  for ac_lib in "$CRYPT_LIBS" crypt crypt_i; do
-    LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
+
+rm -f core conftest.err conftest.$ac_objext \
+      conftest$ac_exeext
+  if test "${ac_cv_search_uuid_generate+set}" = set; then
+  break
+fi
+done
+if test "${ac_cv_search_uuid_generate+set}" = set; then
+  :
+else
+  ac_cv_search_uuid_generate=no
+fi
+rm conftest.$ac_ext
+LIBS=$ac_func_search_save_LIBS
+fi
+{ echo "$as_me:$LINENO: result: $ac_cv_search_uuid_generate" >&5
+echo "${ECHO_T}$ac_cv_search_uuid_generate" >&6; }
+ac_res=$ac_cv_search_uuid_generate
+if test "$ac_res" != no; then
+  test "$ac_res" = "none required" || LIBS="$ac_res $LIBS"
+            WithPackages="$WithPackages${WithPackagesSep}UUID"; WithPackagesSep=" "
+    test "x$ac_cv_search_uuid_generate" = "xnone required" || \
+       UUID_LIBS=$ac_cv_search_uuid_generate
+fi
+
+LIBS=$orig_LIBS
+{ echo "$as_me:$LINENO: checking for library containing fuse_loop" >&5
+echo $ECHO_N "checking for library containing fuse_loop... $ECHO_C" >&6; }
+if test "${ac_cv_search_fuse_loop+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  ac_func_search_save_LIBS=$LIBS
     cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -20125,88 +23895,107 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 
-/* Override any gcc2 internal prototype to avoid an error.  */
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
 #ifdef __cplusplus
 extern "C"
 #endif
-/* We use char because int might match the return type of a gcc2
-   builtin and then its argument prototype would still apply.  */
-char setkey ();
+char fuse_loop ();
 int
 main ()
 {
-setkey ();
+return fuse_loop ();
   ;
   return 0;
 }
 _ACEOF
+for ac_lib in '' fuse; do
+  if test -z "$ac_lib"; then
+    ac_res="none required"
+  else
+    ac_res=-l$ac_lib
+    LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
+  fi
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_c_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ac_cv_search_setkey="-l$ac_lib"
-break
+  ac_cv_search_fuse_loop=$ac_res
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
+
+fi
+
+rm -f core conftest.err conftest.$ac_objext \
+      conftest$ac_exeext
+  if test "${ac_cv_search_fuse_loop+set}" = set; then
+  break
 fi
-rm -f conftest.err conftest.$ac_objext \
-      conftest$ac_exeext conftest.$ac_ext
   done
+if test "${ac_cv_search_fuse_loop+set}" = set; then
+  :
+else
+  ac_cv_search_fuse_loop=no
 fi
+rm conftest.$ac_ext
 LIBS=$ac_func_search_save_LIBS
 fi
-echo "$as_me:$LINENO: result: $ac_cv_search_setkey" >&5
-echo "${ECHO_T}$ac_cv_search_setkey" >&6
-if test "$ac_cv_search_setkey" != no; then
-  test "$ac_cv_search_setkey" = "none required" || LIBS="$ac_cv_search_setkey $LIBS"
-
-cat >>confdefs.h <<\_ACEOF
-#define HAVE_LIBCRYPT 1
-_ACEOF
-
-   test "x$ac_cv_search_setkey" = "xnone required" || CRYPT_LIBS=$ac_cv_search_setkey
+{ echo "$as_me:$LINENO: result: $ac_cv_search_fuse_loop" >&5
+echo "${ECHO_T}$ac_cv_search_fuse_loop" >&6; }
+ac_res=$ac_cv_search_fuse_loop
+if test "$ac_res" != no; then
+  test "$ac_res" = "none required" || LIBS="$ac_res $LIBS"
+            WithPackages="$WithPackages${WithPackagesSep}FUSE"; WithPackagesSep=" "
 fi
 
- LIBS=$saved_LIBS
-
-ac_ext=cc
-ac_cpp='$CXXCPP $CPPFLAGS'
-ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
-ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
-ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
-
-case "$host_os:$compiler" in
-     solaris*:GCC ) ac_cv_search_dlopen="-ldl" ;;
-     darwin*      ) ac_cv_search_iconv="-liconv" ;;
-esac
+LIBS=$orig_LIBS
+# Temporarily drop OpenMP flags for this test, as some toolchains count
+# its support library's indirect use of librt when building applications
+# but not when building shared libraries with --no-undefined.
+orig_CXXFLAGS=$CXXFLAGS
+orig_LDFLAGS=$LDFLAGS
+CXXFLAGS=`echo $CXXFLAGS | sed -e 's/[^ ]*openmp[^ ]*//g'`
+LDFLAGS=`echo $LDFLAGS | sed -e 's/[^ ]*openmp[^ ]*//g'`
 saved_LIBS=$LIBS
- echo "$as_me:$LINENO: checking for library containing dlopen" >&5
-echo $ECHO_N "checking for library containing dlopen... $ECHO_C" >&6
-if test "${ac_cv_search_dlopen+set}" = set; then
+ { echo "$as_me:$LINENO: checking for library containing clock_gettime" >&5
+echo $ECHO_N "checking for library containing clock_gettime... $ECHO_C" >&6; }
+if test "${ac_cv_search_clock_gettime+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   ac_func_search_save_LIBS=$LIBS
-ac_cv_search_dlopen=no
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -20214,54 +24003,108 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 
-/* Override any gcc2 internal prototype to avoid an error.  */
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
 #ifdef __cplusplus
 extern "C"
 #endif
-/* We use char because int might match the return type of a gcc2
-   builtin and then its argument prototype would still apply.  */
-char dlopen ();
+char clock_gettime ();
 int
 main ()
 {
-dlopen ();
+return clock_gettime ();
   ;
   return 0;
 }
 _ACEOF
+for ac_lib in '' "$RT_LIBS" rt posix4; do
+  if test -z "$ac_lib"; then
+    ac_res="none required"
+  else
+    ac_res=-l$ac_lib
+    LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
+  fi
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ac_cv_search_dlopen="none required"
+  ac_cv_search_clock_gettime=$ac_res
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
+
 fi
-rm -f conftest.err conftest.$ac_objext \
-      conftest$ac_exeext conftest.$ac_ext
-if test "$ac_cv_search_dlopen" = no; then
-  for ac_lib in "$DL_LIBS" dl; do
-    LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
+
+rm -f core conftest.err conftest.$ac_objext \
+      conftest$ac_exeext
+  if test "${ac_cv_search_clock_gettime+set}" = set; then
+  break
+fi
+done
+if test "${ac_cv_search_clock_gettime+set}" = set; then
+  :
+else
+  ac_cv_search_clock_gettime=no
+fi
+rm conftest.$ac_ext
+LIBS=$ac_func_search_save_LIBS
+fi
+{ echo "$as_me:$LINENO: result: $ac_cv_search_clock_gettime" >&5
+echo "${ECHO_T}$ac_cv_search_clock_gettime" >&6; }
+ac_res=$ac_cv_search_clock_gettime
+if test "$ac_res" != no; then
+  test "$ac_res" = "none required" || LIBS="$ac_res $LIBS"
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_LIBRT 1
+_ACEOF
+
+   test "x$ac_cv_search_clock_gettime" = "xnone required" || RT_LIBS=$ac_cv_search_clock_gettime
+fi
+
+ LIBS=$saved_LIBS
+
+CXXFLAGS=$orig_CXXFLAGS
+LDFLAGS=$orig_LDFLAGS
+saved_LIBS=$LIBS
+ { echo "$as_me:$LINENO: checking for library containing cplus_demangle" >&5
+echo $ECHO_N "checking for library containing cplus_demangle... $ECHO_C" >&6; }
+if test "${ac_cv_search_cplus_demangle+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  ac_func_search_save_LIBS=$LIBS
     cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -20269,1369 +24112,1910 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 
-/* Override any gcc2 internal prototype to avoid an error.  */
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
 #ifdef __cplusplus
 extern "C"
 #endif
-/* We use char because int might match the return type of a gcc2
-   builtin and then its argument prototype would still apply.  */
-char dlopen ();
+char cplus_demangle ();
 int
 main ()
 {
-dlopen ();
+return cplus_demangle ();
   ;
   return 0;
 }
 _ACEOF
+for ac_lib in '' "$DEMANGLE_LIBS" demangle; do
+  if test -z "$ac_lib"; then
+    ac_res="none required"
+  else
+    ac_res=-l$ac_lib
+    LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
+  fi
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ac_cv_search_dlopen="-l$ac_lib"
-break
+  ac_cv_search_cplus_demangle=$ac_res
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
+
+fi
+
+rm -f core conftest.err conftest.$ac_objext \
+      conftest$ac_exeext
+  if test "${ac_cv_search_cplus_demangle+set}" = set; then
+  break
 fi
-rm -f conftest.err conftest.$ac_objext \
-      conftest$ac_exeext conftest.$ac_ext
   done
+if test "${ac_cv_search_cplus_demangle+set}" = set; then
+  :
+else
+  ac_cv_search_cplus_demangle=no
 fi
+rm conftest.$ac_ext
 LIBS=$ac_func_search_save_LIBS
 fi
-echo "$as_me:$LINENO: result: $ac_cv_search_dlopen" >&5
-echo "${ECHO_T}$ac_cv_search_dlopen" >&6
-if test "$ac_cv_search_dlopen" != no; then
-  test "$ac_cv_search_dlopen" = "none required" || LIBS="$ac_cv_search_dlopen $LIBS"
+{ echo "$as_me:$LINENO: result: $ac_cv_search_cplus_demangle" >&5
+echo "${ECHO_T}$ac_cv_search_cplus_demangle" >&6; }
+ac_res=$ac_cv_search_cplus_demangle
+if test "$ac_res" != no; then
+  test "$ac_res" = "none required" || LIBS="$ac_res $LIBS"
 
 cat >>confdefs.h <<\_ACEOF
-#define HAVE_LIBDL 1
+#define HAVE_LIBDEMANGLE 1
 _ACEOF
 
-   test "x$ac_cv_search_dlopen" = "xnone required" || DL_LIBS=$ac_cv_search_dlopen
+   test "x$ac_cv_search_cplus_demangle" = "xnone required" || DEMANGLE_LIBS=$ac_cv_search_cplus_demangle
 fi
 
  LIBS=$saved_LIBS
 
-# libc's stubs aren't always sufficient...
-case "$host_os:$libnsl" in
-     solaris2.[89]:* ) orig_LIBS="$DL_LIBS $orig_LIBS" ;;
-     solaris*:-lnsl    ) NETWORK_LIBS="$NETWORK_LIBS $DL_LIBS" ;;
-esac
-echo "$as_me:$LINENO: checking for library containing uuid_generate" >&5
-echo $ECHO_N "checking for library containing uuid_generate... $ECHO_C" >&6
-if test "${ac_cv_search_uuid_generate+set}" = set; then
+# Add to (orig_)LIBS if present for the sake of corelib and the
+# following call to AC_CHECK_FUNCS.
+if test -n "$DEMANGLE_LIBS$RT_LIBS"; then
+    LIBS="$DEMANGLE_LIBS $RT_LIBS $LIBS"
+    orig_LIBS="$DEMANGLE_LIBS $RT_LIBS $orig_LIBS"
+fi
+
+
+for ac_func in nanosleep sched_yield
+do
+as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
+{ echo "$as_me:$LINENO: checking for $ac_func" >&5
+echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6; }
+if { as_var=$as_ac_var; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  ac_func_search_save_LIBS=$LIBS
-ac_cv_search_uuid_generate=no
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
+/* Define $ac_func to an innocuous variant, in case <limits.h> declares $ac_func.
+   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
+#define $ac_func innocuous_$ac_func
 
-/* Override any gcc2 internal prototype to avoid an error.  */
-#ifdef __cplusplus
-extern "C"
+/* System header to define __stub macros and hopefully few prototypes,
+    which can conflict with char $ac_func (); below.
+    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
+    <limits.h> exists even on freestanding compilers.  */
+
+#ifdef __STDC__
+# include <limits.h>
+#else
+# include <assert.h>
 #endif
-/* We use char because int might match the return type of a gcc2
-   builtin and then its argument prototype would still apply.  */
-char uuid_generate ();
-int
-main ()
-{
-uuid_generate ();
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
-  ac_status=$?
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); }; } &&
-	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
-  ac_status=$?
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); }; }; then
-  ac_cv_search_uuid_generate="none required"
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
 
-fi
-rm -f conftest.err conftest.$ac_objext \
-      conftest$ac_exeext conftest.$ac_ext
-if test "$ac_cv_search_uuid_generate" = no; then
-  for ac_lib in uuid; do
-    LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
-    cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
+#undef $ac_func
 
-/* Override any gcc2 internal prototype to avoid an error.  */
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
 #ifdef __cplusplus
 extern "C"
 #endif
-/* We use char because int might match the return type of a gcc2
-   builtin and then its argument prototype would still apply.  */
-char uuid_generate ();
+char $ac_func ();
+/* The GNU C library defines this for functions which it implements
+    to always fail with ENOSYS.  Some functions are actually named
+    something starting with __ and the normal name is an alias.  */
+#if defined __stub_$ac_func || defined __stub___$ac_func
+choke me
+#endif
+
 int
 main ()
 {
-uuid_generate ();
+return $ac_func ();
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ac_cv_search_uuid_generate="-l$ac_lib"
-break
+  eval "$as_ac_var=yes"
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
+	eval "$as_ac_var=no"
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
-  done
-fi
-LIBS=$ac_func_search_save_LIBS
 fi
-echo "$as_me:$LINENO: result: $ac_cv_search_uuid_generate" >&5
-echo "${ECHO_T}$ac_cv_search_uuid_generate" >&6
-if test "$ac_cv_search_uuid_generate" != no; then
-  test "$ac_cv_search_uuid_generate" = "none required" || LIBS="$ac_cv_search_uuid_generate $LIBS"
-            WithPackages="$WithPackages${WithPackagesSep}UUID"; WithPackagesSep=" "
-    test "x$ac_cv_search_uuid_generate" = "xnone required" || \
-       UUID_LIBS=$ac_cv_search_uuid_generate
+ac_res=`eval echo '${'$as_ac_var'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
+if test `eval echo '${'$as_ac_var'}'` = yes; then
+  cat >>confdefs.h <<_ACEOF
+#define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
+_ACEOF
+
 fi
+done
 
-LIBS=$orig_LIBS
-echo "$as_me:$LINENO: checking for library containing fuse_loop" >&5
-echo $ECHO_N "checking for library containing fuse_loop... $ECHO_C" >&6
-if test "${ac_cv_search_fuse_loop+set}" = set; then
+
+# We need to include <iconv.h>, since some implementations rename the symbols.
+# This logic adapted from Bruno Haible's iconv.m4.
+{ echo "$as_me:$LINENO: checking for library containing iconv" >&5
+echo $ECHO_N "checking for library containing iconv... $ECHO_C" >&6; }
+if test "${ac_cv_search_iconv+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  ac_func_search_save_LIBS=$LIBS
-ac_cv_search_fuse_loop=no
+
+   ac_cv_search_iconv=no
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-
-/* Override any gcc2 internal prototype to avoid an error.  */
-#ifdef __cplusplus
-extern "C"
-#endif
-/* We use char because int might match the return type of a gcc2
-   builtin and then its argument prototype would still apply.  */
-char fuse_loop ();
+#include <stdlib.h>
+           #include <iconv.h>
 int
 main ()
 {
-fuse_loop ();
+iconv_t cd = iconv_open("","");
+           iconv(cd,NULL,NULL,NULL,NULL);
+           iconv_close(cd);
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ac_cv_search_fuse_loop="none required"
+  ac_cv_search_iconv="none required"
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
+
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
-if test "$ac_cv_search_fuse_loop" = no; then
-  for ac_lib in fuse; do
-    LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
+   if test "$ac_cv_search_iconv" != "none required"; then
+      for l in iconv; do
+         LIBS="-l$l $orig_LIBS"
     cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-
-/* Override any gcc2 internal prototype to avoid an error.  */
-#ifdef __cplusplus
-extern "C"
-#endif
-/* We use char because int might match the return type of a gcc2
-   builtin and then its argument prototype would still apply.  */
-char fuse_loop ();
+#include <stdlib.h>
+                  #include <iconv.h>
 int
 main ()
 {
-fuse_loop ();
+iconv_t cd = iconv_open("","");
+                  iconv(cd,NULL,NULL,NULL,NULL);
+                  iconv_close(cd);
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ac_cv_search_fuse_loop="-l$ac_lib"
-break
+  ac_cv_search_iconv=-l$l
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
+
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
+         LIBS="$orig_LIBS"
   done
 fi
-LIBS=$ac_func_search_save_LIBS
-fi
-echo "$as_me:$LINENO: result: $ac_cv_search_fuse_loop" >&5
-echo "${ECHO_T}$ac_cv_search_fuse_loop" >&6
-if test "$ac_cv_search_fuse_loop" != no; then
-  test "$ac_cv_search_fuse_loop" = "none required" || LIBS="$ac_cv_search_fuse_loop $LIBS"
-            WithPackages="$WithPackages${WithPackagesSep}FUSE"; WithPackagesSep=" "
 fi
+{ echo "$as_me:$LINENO: result: $ac_cv_search_iconv" >&5
+echo "${ECHO_T}$ac_cv_search_iconv" >&6; }
+if test "x$ac_cv_search_iconv" != xno; then
 
-LIBS=$orig_LIBS
-saved_LIBS=$LIBS
- echo "$as_me:$LINENO: checking for library containing clock_gettime" >&5
-echo $ECHO_N "checking for library containing clock_gettime... $ECHO_C" >&6
-if test "${ac_cv_search_clock_gettime+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  ac_func_search_save_LIBS=$LIBS
-ac_cv_search_clock_gettime=no
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_LIBICONV 1
 _ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
 
-/* Override any gcc2 internal prototype to avoid an error.  */
-#ifdef __cplusplus
-extern "C"
-#endif
-/* We use char because int might match the return type of a gcc2
-   builtin and then its argument prototype would still apply.  */
-char clock_gettime ();
-int
-main ()
-{
-clock_gettime ();
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
-  ac_status=$?
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); }; } &&
-	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
-  ac_status=$?
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); }; }; then
-  ac_cv_search_clock_gettime="none required"
+   { echo "$as_me:$LINENO: checking for iconv declaration" >&5
+echo $ECHO_N "checking for iconv declaration... $ECHO_C" >&6; }
+   if test "${am_cv_proto_iconv+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
 
-fi
-rm -f conftest.err conftest.$ac_objext \
-      conftest$ac_exeext conftest.$ac_ext
-if test "$ac_cv_search_clock_gettime" = no; then
-  for ac_lib in "$RT_LIBS" rt posix4; do
-    LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
     cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
 
-/* Override any gcc2 internal prototype to avoid an error.  */
+#include <stdlib.h>
+#include <iconv.h>
+extern
 #ifdef __cplusplus
-extern "C"
+"C"
 #endif
-/* We use char because int might match the return type of a gcc2
-   builtin and then its argument prototype would still apply.  */
-char clock_gettime ();
-int
-main ()
-{
-clock_gettime ();
-  ;
-  return 0;
-}
+#if defined(__STDC__) || defined(__cplusplus)
+size_t iconv (iconv_t cd, char * *inbuf, size_t *inbytesleft, char * *outbuf, size_t *outbytesleft);
+#else
+size_t iconv();
+#endif
+
 _ACEOF
-rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+rm -f conftest.$ac_objext
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
-	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -s conftest.$ac_objext'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ac_cv_search_clock_gettime="-l$ac_lib"
-break
+  am_cv_proto_iconv_arg1=""
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
+	am_cv_proto_iconv_arg1="const"
 fi
-rm -f conftest.err conftest.$ac_objext \
-      conftest$ac_exeext conftest.$ac_ext
-  done
-fi
-LIBS=$ac_func_search_save_LIBS
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+      am_cv_proto_iconv="extern size_t iconv (iconv_t cd, $am_cv_proto_iconv_arg1 char * *inbuf, size_t *inbytesleft, char * *outbuf, size_t *outbytesleft);"
 fi
-echo "$as_me:$LINENO: result: $ac_cv_search_clock_gettime" >&5
-echo "${ECHO_T}$ac_cv_search_clock_gettime" >&6
-if test "$ac_cv_search_clock_gettime" != no; then
-  test "$ac_cv_search_clock_gettime" = "none required" || LIBS="$ac_cv_search_clock_gettime $LIBS"
 
-cat >>confdefs.h <<\_ACEOF
-#define HAVE_LIBRT 1
-_ACEOF
+   am_cv_proto_iconv=`echo "$am_cv_proto_iconv" | tr -s ' ' | sed -e 's/( /(/'`
+   { echo "$as_me:$LINENO: result: ${ac_t:-
+       }$am_cv_proto_iconv" >&5
+echo "${ECHO_T}${ac_t:-
+       }$am_cv_proto_iconv" >&6; }
 
-   test "x$ac_cv_search_clock_gettime" = "xnone required" || RT_LIBS=$ac_cv_search_clock_gettime
+cat >>confdefs.h <<_ACEOF
+#define ICONV_CONST $am_cv_proto_iconv_arg1
+_ACEOF
+
+   if test "x$ac_cv_search_iconv" != "xnone required"; then
+      ICONV_LIBS=$ac_cv_search_iconv
+   fi
 fi
 
- LIBS=$saved_LIBS
 
-saved_LIBS=$LIBS
- echo "$as_me:$LINENO: checking for library containing cplus_demangle" >&5
-echo $ECHO_N "checking for library containing cplus_demangle... $ECHO_C" >&6
-if test "${ac_cv_search_cplus_demangle+set}" = set; then
+### Third-party libraries
+
+usr_lib='[/usr]*/lib/*[amdsprcv]*[23469]*'
+no_usr_lib="s,-L$usr_lib ,,g;"
+
+if test "$with_z" != "no"; then
+    case "$with_z" in
+       yes | "" ) ;;
+       *        ) Z_PATH=$with_z ;;
+    esac
+    if test -d "$Z_PATH"; then
+       in_path=" in $Z_PATH"
+       if test -z "$Z_INCLUDE" -a -d "$Z_PATH/include"; then
+          Z_INCLUDE="-I$Z_PATH/include"
+       fi
+       if test -n "$Z_LIBPATH"; then
+          :
+       elif test -d "$Z_PATH/lib${bit64_sfx}"; then
+          ncbi_rp_L_flags=
+ ncbi_rp_L_sep=$CONF_f_libpath
+ if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
+    for x in $Z_PATH/lib${bit64_sfx}; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+    done
+    Z_LIBPATH="${ncbi_rp_L_flags}"
+ else
+    ncbi_rp_R_flags=
+    ncbi_rp_R_sep=" $CONF_f_runpath"
+    for x in $Z_PATH/lib${bit64_sfx}; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+       x=`echo $x | sed -e "$ncbi_rpath_sed"`
+       ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
+       ncbi_rp_R_sep=:
+    done
+    Z_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+ fi
+       elif test -d "$Z_PATH/lib"; then
+          ncbi_rp_L_flags=
+ ncbi_rp_L_sep=$CONF_f_libpath
+ if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
+    for x in $Z_PATH/lib; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+    done
+    Z_LIBPATH="${ncbi_rp_L_flags}"
+ else
+    ncbi_rp_R_flags=
+    ncbi_rp_R_sep=" $CONF_f_runpath"
+    for x in $Z_PATH/lib; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+       x=`echo $x | sed -e "$ncbi_rpath_sed"`
+       ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
+       ncbi_rp_R_sep=:
+    done
+    Z_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+ fi
+       fi
+       Z_LIBS="$Z_LIBPATH -lz "
+    else
+       Z_INCLUDE=""
+       Z_LIBS="-lz "
+       in_path=
+    fi
+    { echo "$as_me:$LINENO: checking for libz$in_path" >&5
+echo $ECHO_N "checking for libz$in_path... $ECHO_C" >&6; }
+if test "${ncbi_cv_lib_z+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  ac_func_search_save_LIBS=$LIBS
-ac_cv_search_cplus_demangle=no
+  CPPFLAGS=" $Z_INCLUDE $orig_CPPFLAGS"
+       LIBS="$Z_LIBS  $orig_LIBS"
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-
-/* Override any gcc2 internal prototype to avoid an error.  */
-#ifdef __cplusplus
-extern "C"
-#endif
-/* We use char because int might match the return type of a gcc2
-   builtin and then its argument prototype would still apply.  */
-char cplus_demangle ();
+#include <zlib.h>
 int
 main ()
 {
-cplus_demangle ();
+gzFile fp; char buf[1024]; int n = gzread(fp, buf, sizeof(buf))
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ac_cv_search_cplus_demangle="none required"
+  ncbi_cv_lib_z=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
+	ncbi_cv_lib_z=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
-if test "$ac_cv_search_cplus_demangle" = no; then
-  for ac_lib in "$DEMANGLE_LIBS" demangle; do
-    LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
+fi
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_z" >&5
+echo "${ECHO_T}$ncbi_cv_lib_z" >&6; }
+    if test "$ncbi_cv_lib_z" = "no"; then
+       if test "${with_z:=no}" != no; then
+       { { echo "$as_me:$LINENO: error: --with-z explicitly specified, but no usable version found." >&5
+echo "$as_me: error: --with-z explicitly specified, but no usable version found." >&2;}
+   { (exit 1); exit 1; }; }
+    fi
+    fi
+ fi
+ if test "$with_z" = "no"; then
+    Z_PATH="No_Z"
+    Z_INCLUDE=
+    Z_LIBS=
+ else
+              WithPackages="$WithPackages${WithPackagesSep}Z"; WithPackagesSep=" "
+    Z_INCLUDE=" $Z_INCLUDE"
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_LIBZ 1
+_ACEOF
+
+ fi
+
+
+
+if test -z "$Z_LIBS"; then
+   zlocal=util/compress/zlib
+   { echo "$as_me:$LINENO: using local zlib copy in $zlocal" >&5
+echo "$as_me: using local zlib copy in $zlocal" >&6;}
+   Z_PATH="<$zlocal>"
+   Z_INCLUDE="-I\$(includedir)/$zlocal -I\$(includedir0)/$zlocal"
+   # Z_LIBS="-lz"
+   Z_LIB="z"
+   # AC_DEFINE(USE_LOCAL_ZLIB, 1, [Define to 1 if using a local copy of zlib.])
+             WithPackages="$WithPackages${WithPackagesSep}Z"; WithPackagesSep=" "
+             WithPackages="$WithPackages${WithPackagesSep}LocalZ"; WithPackagesSep=" "
+fi
+
+if test "$with_bz2" != "no"; then
+    case "$with_bz2" in
+       yes | "" ) ;;
+       *        ) BZ2_PATH=$with_bz2 ;;
+    esac
+    if test -d "$BZ2_PATH"; then
+       in_path=" in $BZ2_PATH"
+       if test -z "$BZ2_INCLUDE" -a -d "$BZ2_PATH/include"; then
+          BZ2_INCLUDE="-I$BZ2_PATH/include"
+       fi
+       if test -n "$BZ2_LIBPATH"; then
+          :
+       elif test -d "$BZ2_PATH/lib${bit64_sfx}"; then
+          ncbi_rp_L_flags=
+ ncbi_rp_L_sep=$CONF_f_libpath
+ if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
+    for x in $BZ2_PATH/lib${bit64_sfx}; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+    done
+    BZ2_LIBPATH="${ncbi_rp_L_flags}"
+ else
+    ncbi_rp_R_flags=
+    ncbi_rp_R_sep=" $CONF_f_runpath"
+    for x in $BZ2_PATH/lib${bit64_sfx}; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+       x=`echo $x | sed -e "$ncbi_rpath_sed"`
+       ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
+       ncbi_rp_R_sep=:
+    done
+    BZ2_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+ fi
+       elif test -d "$BZ2_PATH/lib"; then
+          ncbi_rp_L_flags=
+ ncbi_rp_L_sep=$CONF_f_libpath
+ if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
+    for x in $BZ2_PATH/lib; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+    done
+    BZ2_LIBPATH="${ncbi_rp_L_flags}"
+ else
+    ncbi_rp_R_flags=
+    ncbi_rp_R_sep=" $CONF_f_runpath"
+    for x in $BZ2_PATH/lib; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+       x=`echo $x | sed -e "$ncbi_rpath_sed"`
+       ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
+       ncbi_rp_R_sep=:
+    done
+    BZ2_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+ fi
+       fi
+       BZ2_LIBS="$BZ2_LIBPATH -lbz2 "
+    else
+       BZ2_INCLUDE=""
+       BZ2_LIBS="-lbz2 "
+       in_path=
+    fi
+    { echo "$as_me:$LINENO: checking for libbz2$in_path" >&5
+echo $ECHO_N "checking for libbz2$in_path... $ECHO_C" >&6; }
+if test "${ncbi_cv_lib_bz2+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  CPPFLAGS=" $BZ2_INCLUDE $orig_CPPFLAGS"
+       LIBS="$BZ2_LIBS  $orig_LIBS"
     cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-
-/* Override any gcc2 internal prototype to avoid an error.  */
-#ifdef __cplusplus
-extern "C"
-#endif
-/* We use char because int might match the return type of a gcc2
-   builtin and then its argument prototype would still apply.  */
-char cplus_demangle ();
+#include <bzlib.h>
 int
 main ()
 {
-cplus_demangle ();
+BZFILE* fp; char buf[1024]; int err;
+        int n = BZ2_bzRead(&err, fp, buf, sizeof(buf))
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ac_cv_search_cplus_demangle="-l$ac_lib"
-break
+  ncbi_cv_lib_bz2=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
+	ncbi_cv_lib_bz2=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
-  done
 fi
-LIBS=$ac_func_search_save_LIBS
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_bz2" >&5
+echo "${ECHO_T}$ncbi_cv_lib_bz2" >&6; }
+    if test "$ncbi_cv_lib_bz2" = "no"; then
+       if test "${with_bz2:=no}" != no; then
+       { { echo "$as_me:$LINENO: error: --with-bz2 explicitly specified, but no usable version found." >&5
+echo "$as_me: error: --with-bz2 explicitly specified, but no usable version found." >&2;}
+   { (exit 1); exit 1; }; }
+    fi
 fi
-echo "$as_me:$LINENO: result: $ac_cv_search_cplus_demangle" >&5
-echo "${ECHO_T}$ac_cv_search_cplus_demangle" >&6
-if test "$ac_cv_search_cplus_demangle" != no; then
-  test "$ac_cv_search_cplus_demangle" = "none required" || LIBS="$ac_cv_search_cplus_demangle $LIBS"
+ fi
+ if test "$with_bz2" = "no"; then
+    BZ2_PATH="No_BZ2"
+    BZ2_INCLUDE=
+    BZ2_LIBS=
+ else
+              WithPackages="$WithPackages${WithPackagesSep}BZ2"; WithPackagesSep=" "
+    BZ2_INCLUDE=" $BZ2_INCLUDE"
 
 cat >>confdefs.h <<\_ACEOF
-#define HAVE_LIBDEMANGLE 1
+#define HAVE_LIBBZ2 1
 _ACEOF
 
-   test "x$ac_cv_search_cplus_demangle" = "xnone required" || DEMANGLE_LIBS=$ac_cv_search_cplus_demangle
 fi
 
- LIBS=$saved_LIBS
 
-# Add to (orig_)LIBS if present for the sake of corelib and the
-# following call to AC_CHECK_FUNCS.
-if test -n "$DEMANGLE_LIBS$RT_LIBS"; then
-    LIBS="$DEMANGLE_LIBS $RT_LIBS $LIBS"
-    orig_LIBS="$DEMANGLE_LIBS $RT_LIBS $orig_LIBS"
-fi
 
+if test -z "$BZ2_LIBS"; then
+   bzlocal=util/compress/bzip2
+   { echo "$as_me:$LINENO: using local bzlib copy in $bzlocal" >&5
+echo "$as_me: using local bzlib copy in $bzlocal" >&6;}
+   BZ2_PATH="<$bzlocal>"
+   BZ2_INCLUDE="-I\$(includedir)/$bzlocal -I\$(includedir0)/$bzlocal"
+   # BZ2_LIBS="-lbz2"
+   BZ2_LIB="bz2"
 
-for ac_func in nanosleep sched_yield
-do
-as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
-echo "$as_me:$LINENO: checking for $ac_func" >&5
-echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6
-if eval "test \"\${$as_ac_var+set}\" = set"; then
+cat >>confdefs.h <<\_ACEOF
+#define USE_LOCAL_BZLIB 1
+_ACEOF
+
+             WithPackages="$WithPackages${WithPackagesSep}BZ2"; WithPackagesSep=" "
+             WithPackages="$WithPackages${WithPackagesSep}LocalBZ2"; WithPackagesSep=" "
+fi
+
+if test -d "$LZO_PATH"; then
+   ncbi_fix_dir_tmp=`if cd $LZO_PATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
+ case "$ncbi_fix_dir_tmp" in
+    /.*) ncbi_fix_dir_tmp2=`cd $LZO_PATH && $smart_pwd 2>/dev/null`
+         if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
+            LZO_PATH=$ncbi_fix_dir_tmp2
+         else
+            case "$LZO_PATH" in
+               /*) ;;
+               * ) LZO_PATH=$ncbi_fix_dir_tmp ;;
+            esac
+         fi
+         ;;
+    /*) LZO_PATH=$ncbi_fix_dir_tmp ;;
+ esac
+fi
+if test "$with_lzo" != "no"; then
+    case "$with_lzo" in
+       yes | "" ) ;;
+       *        ) LZO_PATH=$with_lzo ;;
+    esac
+    if test -d "$LZO_PATH"; then
+       in_path=" in $LZO_PATH"
+       if test -z "$LZO_INCLUDE" -a -d "$LZO_PATH/include"; then
+          LZO_INCLUDE="-I$LZO_PATH/include"
+       fi
+       if test -n "$LZO_LIBPATH"; then
+          :
+       elif test -d "$LZO_PATH/lib${bit64_sfx}"; then
+          ncbi_rp_L_flags=
+ ncbi_rp_L_sep=$CONF_f_libpath
+ if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
+    for x in $LZO_PATH/lib${bit64_sfx}; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+    done
+    LZO_LIBPATH="${ncbi_rp_L_flags}"
+ else
+    ncbi_rp_R_flags=
+    ncbi_rp_R_sep=" $CONF_f_runpath"
+    for x in $LZO_PATH/lib${bit64_sfx}; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+       x=`echo $x | sed -e "$ncbi_rpath_sed"`
+       ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
+       ncbi_rp_R_sep=:
+    done
+    LZO_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+ fi
+       elif test -d "$LZO_PATH/lib"; then
+          ncbi_rp_L_flags=
+ ncbi_rp_L_sep=$CONF_f_libpath
+ if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
+    for x in $LZO_PATH/lib; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+    done
+    LZO_LIBPATH="${ncbi_rp_L_flags}"
+ else
+    ncbi_rp_R_flags=
+    ncbi_rp_R_sep=" $CONF_f_runpath"
+    for x in $LZO_PATH/lib; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+       x=`echo $x | sed -e "$ncbi_rpath_sed"`
+       ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
+       ncbi_rp_R_sep=:
+    done
+    LZO_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+ fi
+       fi
+       LZO_LIBS="$LZO_LIBPATH -llzo2 "
+    else
+       LZO_INCLUDE=""
+       LZO_LIBS="-llzo2 "
+       in_path=
+    fi
+    { echo "$as_me:$LINENO: checking for liblzo2$in_path" >&5
+echo $ECHO_N "checking for liblzo2$in_path... $ECHO_C" >&6; }
+if test "${ncbi_cv_lib_lzo+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
+  CPPFLAGS=" $LZO_INCLUDE $orig_CPPFLAGS"
+       LIBS="$LZO_LIBS  $orig_LIBS"
   cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-/* Define $ac_func to an innocuous variant, in case <limits.h> declares $ac_func.
-   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
-#define $ac_func innocuous_$ac_func
-
-/* System header to define __stub macros and hopefully few prototypes,
-    which can conflict with char $ac_func (); below.
-    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
-    <limits.h> exists even on freestanding compilers.  */
-
-#ifdef __STDC__
-# include <limits.h>
-#else
-# include <assert.h>
-#endif
-
-#undef $ac_func
-
-/* Override any gcc2 internal prototype to avoid an error.  */
-#ifdef __cplusplus
-extern "C"
-{
-#endif
-/* We use char because int might match the return type of a gcc2
-   builtin and then its argument prototype would still apply.  */
-char $ac_func ();
-/* The GNU C library defines this for functions which it implements
-    to always fail with ENOSYS.  Some functions are actually named
-    something starting with __ and the normal name is an alias.  */
-#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
-choke me
-#else
-char (*f) () = $ac_func;
-#endif
-#ifdef __cplusplus
-}
-#endif
-
+#include <lzo/lzo1x.h>
 int
 main ()
 {
-return f != $ac_func;
+lzo_uint32 c = lzo_crc32(0, (const unsigned char*)"foo", 3);
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  eval "$as_ac_var=yes"
+  ncbi_cv_lib_lzo=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-eval "$as_ac_var=no"
+	ncbi_cv_lib_lzo=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_var'}'`" >&5
-echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
-if test `eval echo '${'$as_ac_var'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_lzo" >&5
+echo "${ECHO_T}$ncbi_cv_lib_lzo" >&6; }
+    if test "$ncbi_cv_lib_lzo" = "no"; then
+       if test "${with_lzo:=no}" != no; then
+       { { echo "$as_me:$LINENO: error: --with-lzo explicitly specified, but no usable version found." >&5
+echo "$as_me: error: --with-lzo explicitly specified, but no usable version found." >&2;}
+   { (exit 1); exit 1; }; }
+    fi
+    fi
+ fi
+ if test "$with_lzo" = "no"; then
+    LZO_PATH="No_LZO"
+    LZO_INCLUDE=
+    LZO_LIBS=
+ else
+              WithPackages="$WithPackages${WithPackagesSep}LZO"; WithPackagesSep=" "
+    LZO_INCLUDE=" $LZO_INCLUDE"
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_LIBLZO 1
 _ACEOF
 
 fi
-done
 
 
-# We need to include <iconv.h>, since some implementations rename the symbols.
-# This logic adapted from Bruno Haible's iconv.m4.
-echo "$as_me:$LINENO: checking for library containing iconv" >&5
-echo $ECHO_N "checking for library containing iconv... $ECHO_C" >&6
-if test "${ac_cv_search_iconv+set}" = set; then
+
+
+if test -z "$PCRE_PATH"  &&  pcre-config --version >/dev/null 2>&1; then
+    p=`pcre-config --prefix`
+    test "x$p" = "x/usr"  ||  PCRE_PATH=$p
+fi
+if test "$with_pcre" != "no"; then
+    case "$with_pcre" in
+       yes | "" ) ;;
+       *        ) PCRE_PATH=$with_pcre ;;
+    esac
+    if test -d "$PCRE_PATH"; then
+       in_path=" in $PCRE_PATH"
+       if test -z "$PCRE_INCLUDE" -a -d "$PCRE_PATH/include"; then
+          PCRE_INCLUDE="-I$PCRE_PATH/include"
+       fi
+       if test -n "$PCRE_LIBPATH"; then
+          :
+       elif test -d "$PCRE_PATH/lib${bit64_sfx}"; then
+          ncbi_rp_L_flags=
+ ncbi_rp_L_sep=$CONF_f_libpath
+ if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
+    for x in $PCRE_PATH/lib${bit64_sfx}; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+    done
+    PCRE_LIBPATH="${ncbi_rp_L_flags}"
+ else
+    ncbi_rp_R_flags=
+    ncbi_rp_R_sep=" $CONF_f_runpath"
+    for x in $PCRE_PATH/lib${bit64_sfx}; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+       x=`echo $x | sed -e "$ncbi_rpath_sed"`
+       ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
+       ncbi_rp_R_sep=:
+    done
+    PCRE_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+ fi
+       elif test -d "$PCRE_PATH/lib"; then
+          ncbi_rp_L_flags=
+ ncbi_rp_L_sep=$CONF_f_libpath
+ if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
+    for x in $PCRE_PATH/lib; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+    done
+    PCRE_LIBPATH="${ncbi_rp_L_flags}"
+ else
+    ncbi_rp_R_flags=
+    ncbi_rp_R_sep=" $CONF_f_runpath"
+    for x in $PCRE_PATH/lib; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+       x=`echo $x | sed -e "$ncbi_rpath_sed"`
+       ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
+       ncbi_rp_R_sep=:
+    done
+    PCRE_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+ fi
+       fi
+       PCRE_LIBS="$PCRE_LIBPATH -lpcre "
+    else
+       PCRE_INCLUDE=""
+       PCRE_LIBS="-lpcre "
+       in_path=
+    fi
+    { echo "$as_me:$LINENO: checking for libpcre$in_path" >&5
+echo $ECHO_N "checking for libpcre$in_path... $ECHO_C" >&6; }
+if test "${ncbi_cv_lib_pcre+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-
-   ac_cv_search_iconv=no
+  CPPFLAGS=" $PCRE_INCLUDE $orig_CPPFLAGS"
+       LIBS="$PCRE_LIBS  $orig_LIBS"
    cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-#include <stdlib.h>
-           #include <iconv.h>
+#include <pcre.h>
 int
 main ()
 {
-iconv_t cd = iconv_open("","");
-           iconv(cd,NULL,NULL,NULL,NULL);
-           iconv_close(cd);
+const char*s[]={"x"}; pcre* p; pcre_extra* x = pcre_study(p, 1, s);
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ac_cv_search_iconv="none required"
+  ncbi_cv_lib_pcre=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
+	ncbi_cv_lib_pcre=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
-   if test "$ac_cv_search_iconv" != "none required"; then
-      for l in iconv; do
-         LIBS="-l$l $orig_LIBS"
-         cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <stdlib.h>
-                  #include <iconv.h>
-int
-main ()
-{
-iconv_t cd = iconv_open("","");
-                  iconv(cd,NULL,NULL,NULL,NULL);
-                  iconv_close(cd);
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
-  ac_status=$?
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); }; } &&
-	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
-  ac_status=$?
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); }; }; then
-  ac_cv_search_iconv=-l$l
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
 fi
-rm -f conftest.err conftest.$ac_objext \
-      conftest$ac_exeext conftest.$ac_ext
-         LIBS="$orig_LIBS"
-      done
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_pcre" >&5
+echo "${ECHO_T}$ncbi_cv_lib_pcre" >&6; }
+    if test "$ncbi_cv_lib_pcre" = "no"; then
+       if test "${with_pcre:=no}" != no; then
+       { { echo "$as_me:$LINENO: error: --with-pcre explicitly specified, but no usable version found." >&5
+echo "$as_me: error: --with-pcre explicitly specified, but no usable version found." >&2;}
+   { (exit 1); exit 1; }; }
    fi
 fi
-echo "$as_me:$LINENO: result: $ac_cv_search_iconv" >&5
-echo "${ECHO_T}$ac_cv_search_iconv" >&6
-if test "x$ac_cv_search_iconv" != xno; then
+ fi
+ if test "$with_pcre" = "no"; then
+    PCRE_PATH="No_PCRE"
+    PCRE_INCLUDE=
+    PCRE_LIBS=
+ else
+              WithPackages="$WithPackages${WithPackagesSep}PCRE"; WithPackagesSep=" "
+    PCRE_INCLUDE=" $PCRE_INCLUDE"
 
 cat >>confdefs.h <<\_ACEOF
-#define HAVE_LIBICONV 1
+#define HAVE_LIBPCRE 1
 _ACEOF
 
-   echo "$as_me:$LINENO: checking for iconv declaration" >&5
-echo $ECHO_N "checking for iconv declaration... $ECHO_C" >&6
-   if test "${am_cv_proto_iconv+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
+ fi
 
-      cat >conftest.$ac_ext <<_ACEOF
 
-#include <stdlib.h>
-#include <iconv.h>
-extern
-#ifdef __cplusplus
-"C"
-#endif
-#if defined(__STDC__) || defined(__cplusplus)
-size_t iconv (iconv_t cd, char * *inbuf, size_t *inbytesleft, char * *outbuf, size_t *outbytesleft);
-#else
-size_t iconv();
-#endif
 
+if test -z "$PCRE_LIBS"; then
+   pcrelocal=util/regexp
+   { echo "$as_me:$LINENO: using local PCRE copy in $pcrelocal" >&5
+echo "$as_me: using local PCRE copy in $pcrelocal" >&6;}
+   PCRE_PATH="<$pcrelocal>"
+   PCRE_INCLUDE="-I\$(includedir)/$pcrelocal -I\$(includedir0)/$pcrelocal"
+   # PCRE_LIBS="-lregexp"
+   # PCREPOSIX_LIBS="-lregexp"
+   PCRE_LIB="regexp"
+
+cat >>confdefs.h <<\_ACEOF
+#define USE_LOCAL_PCRE 1
 _ACEOF
-rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
-  ac_status=$?
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); }; } &&
-	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
-  ac_status=$?
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); }; }; then
-  am_cv_proto_iconv_arg1=""
+
+             WithPackages="$WithPackages${WithPackagesSep}PCRE"; WithPackagesSep=" "
+             WithPackages="$WithPackages${WithPackagesSep}LocalPCRE"; WithPackagesSep=" "
 else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
+   PCREPOSIX_LIBS=`echo "$PCRE_LIBS" | sed -e 's/-lpcre/-lpcreposix -lpcre/'`
+fi
 
-am_cv_proto_iconv_arg1="const"
+## SSL/TLS libraries
+case "$with_gcrypt" in
+   no )       ac_cv_path_LIBGCRYPT_CONFIG=no ;;
+   yes | '' )                                ;;
+   * )        GCRYPT_PATH=$with_gcrypt       ;;
+esac
+if test -d "$GCRYPT_PATH"; then
+   ncbi_fix_dir_tmp=`if cd $GCRYPT_PATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
+ case "$ncbi_fix_dir_tmp" in
+    /.*) ncbi_fix_dir_tmp2=`cd $GCRYPT_PATH && $smart_pwd 2>/dev/null`
+         if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
+            GCRYPT_PATH=$ncbi_fix_dir_tmp2
+         else
+            case "$GCRYPT_PATH" in
+               /*) ;;
+               * ) GCRYPT_PATH=$ncbi_fix_dir_tmp ;;
+            esac
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
-      am_cv_proto_iconv="extern size_t iconv (iconv_t cd, $am_cv_proto_iconv_arg1 char * *inbuf, size_t *inbytesleft, char * *outbuf, size_t *outbytesleft);"
+         ;;
+    /*) GCRYPT_PATH=$ncbi_fix_dir_tmp ;;
+ esac
 fi
+# Extract the first word of "libgcrypt-config", so it can be a program name with args.
+set dummy libgcrypt-config; ac_word=$2
+{ echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
+if test "${ac_cv_path_LIBGCRYPT_CONFIG+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  case $LIBGCRYPT_CONFIG in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_LIBGCRYPT_CONFIG="$LIBGCRYPT_CONFIG" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+as_dummy="${GCRYPT_BIN-$GCRYPT_PATH/${compiler_vpfx}${DEBUG_SFX}${mt_sfx}${bit64_sfx}/bin}:$GCRYPT_PATH/bin${bit64_sfx}:$GCRYPT_PATH/bin:$PATH"
+for as_dir in $as_dummy
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+  for ac_exec_ext in '' $ac_executable_extensions; do
+  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; }; then
+    ac_cv_path_LIBGCRYPT_CONFIG="$as_dir/$ac_word$ac_exec_ext"
+    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+done
+IFS=$as_save_IFS
 
-   am_cv_proto_iconv=`echo "$am_cv_proto_iconv" | tr -s ' ' | sed -e 's/( /(/'`
-   echo "$as_me:$LINENO: result: ${ac_t:-
-       }$am_cv_proto_iconv" >&5
-echo "${ECHO_T}${ac_t:-
-       }$am_cv_proto_iconv" >&6
-
-cat >>confdefs.h <<_ACEOF
-#define ICONV_CONST $am_cv_proto_iconv_arg1
-_ACEOF
-
-   if test "x$ac_cv_search_iconv" != "xnone required"; then
-      ICONV_LIBS=$ac_cv_search_iconv
+  ;;
+esac
    fi
+LIBGCRYPT_CONFIG=$ac_cv_path_LIBGCRYPT_CONFIG
+if test -n "$LIBGCRYPT_CONFIG"; then
+  { echo "$as_me:$LINENO: result: $LIBGCRYPT_CONFIG" >&5
+echo "${ECHO_T}$LIBGCRYPT_CONFIG" >&6; }
+else
+  { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
 fi
 
 
-### Third-party libraries
-
-usr_lib='[/usr]*/lib/*[amdsprcv]*[23469]*'
-no_usr_lib="s,-L$usr_lib ,,g;"
 
-if test "$with_z" != "no"; then
-    case "$with_z" in
+if test "x$with_gcrypt" != xno; then
+   if test -x "$LIBGCRYPT_CONFIG"; then
+      if test -z "$GCRYPT_PATH"; then
+         p=`libgcrypt-config --prefix`
+         test "x$p" = "x/usr"  ||  GCRYPT_PATH=$p
+      fi
+      if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
+    GCRYPT_LIBPATH=`$LIBGCRYPT_CONFIG --exec-prefix | sed -e "s,^,-L,; s,$,/lib,;"`
+ else
+    GCRYPT_LIBPATH=
+    ncbi_rp_L_sep=
+    ncbi_rp_R_flags=
+    ncbi_rp_R_sep=" $CONF_f_runpath"
+    for x in `$LIBGCRYPT_CONFIG --exec-prefix | sed -e "s,^,-L,; s,$,/lib,;"`; do
+       case "$x" in
+          -L*)
+             GCRYPT_LIBPATH="$GCRYPT_LIBPATH${ncbi_rp_L_sep}$x"
+             x=`echo $x | sed -e "s/^-L//; $ncbi_rpath_sed"`
+             ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
+             ncbi_rp_R_sep=:
+             ;;
+          *)
+             GCRYPT_LIBPATH="$GCRYPT_LIBPATH${ncbi_rp_R_flags}${ncbi_rp_L_sep}$x"
+             ncbi_rp_R_flags=
+             ncbi_rp_R_sep=" $CONF_f_runpath"
+             ;;
+       esac
+       ncbi_rp_L_sep=" "
+    done
+    GCRYPT_LIBPATH="$GCRYPT_LIBPATH${ncbi_rp_R_flags}"
+ fi
+      GCRYPT_INCLUDE=`$LIBGCRYPT_CONFIG --cflags`
+      GCRYPT_CONFIG_LIBS="`$LIBGCRYPT_CONFIG --libs` $Z_LIBS"
+   fi
+else
+   $as_unset GCRYPT_CONFIG_LIBS || test "${GCRYPT_CONFIG_LIBS+set}" != set || { GCRYPT_CONFIG_LIBS=; export GCRYPT_CONFIG_LIBS; }
+fi
+if test "$with_gcrypt" != "no"; then
+    case "$with_gcrypt" in
        yes | "" ) ;;
-       *        ) Z_PATH=$with_z ;;
+       *        ) GCRYPT_PATH=$with_gcrypt ;;
     esac
-    if test -d "$Z_PATH"; then
-       in_path=" in $Z_PATH"
-       if test -z "$Z_INCLUDE" -a -d "$Z_PATH/include"; then
-          Z_INCLUDE="-I$Z_PATH/include"
+    if test -d "$GCRYPT_PATH"; then
+       in_path=" in $GCRYPT_PATH"
+       if test -z "$GCRYPT_INCLUDE" -a -d "$GCRYPT_PATH/include"; then
+          GCRYPT_INCLUDE="-I$GCRYPT_PATH/include"
        fi
-       if test -n "$Z_LIBPATH"; then
+       if test -n "$GCRYPT_LIBPATH"; then
           :
-       elif test -d "$Z_PATH/lib${bit64_sfx}"; then
+       elif test -d "$GCRYPT_PATH/lib${bit64_sfx}"; then
           ncbi_rp_L_flags=
  ncbi_rp_L_sep=$CONF_f_libpath
  if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $Z_PATH/lib${bit64_sfx}; do
+    for x in $GCRYPT_PATH/lib${bit64_sfx}; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
     done
-    Z_LIBPATH="${ncbi_rp_L_flags}"
+    GCRYPT_LIBPATH="${ncbi_rp_L_flags}"
  else
     ncbi_rp_R_flags=
     ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $Z_PATH/lib${bit64_sfx}; do
+    for x in $GCRYPT_PATH/lib${bit64_sfx}; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
        x=`echo $x | sed -e "$ncbi_rpath_sed"`
        ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
        ncbi_rp_R_sep=:
     done
-    Z_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+    GCRYPT_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
  fi
-       elif test -d "$Z_PATH/lib"; then
+       elif test -d "$GCRYPT_PATH/lib"; then
           ncbi_rp_L_flags=
  ncbi_rp_L_sep=$CONF_f_libpath
  if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $Z_PATH/lib; do
+    for x in $GCRYPT_PATH/lib; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
     done
-    Z_LIBPATH="${ncbi_rp_L_flags}"
+    GCRYPT_LIBPATH="${ncbi_rp_L_flags}"
  else
     ncbi_rp_R_flags=
     ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $Z_PATH/lib; do
+    for x in $GCRYPT_PATH/lib; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
        x=`echo $x | sed -e "$ncbi_rpath_sed"`
        ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
        ncbi_rp_R_sep=:
     done
-    Z_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+    GCRYPT_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
  fi
        fi
-       Z_LIBS="$Z_LIBPATH -lz "
+       GCRYPT_LIBS="$GCRYPT_LIBPATH -lgcrypt $GCRYPT_CONFIG_LIBS"
     else
-       Z_INCLUDE=""
-       Z_LIBS="-lz "
+       GCRYPT_INCLUDE=""
+       GCRYPT_LIBS="-lgcrypt $GCRYPT_CONFIG_LIBS"
        in_path=
     fi
-    echo "$as_me:$LINENO: checking for libz$in_path" >&5
-echo $ECHO_N "checking for libz$in_path... $ECHO_C" >&6
-if test "${ncbi_cv_lib_z+set}" = set; then
+    { echo "$as_me:$LINENO: checking for libgcrypt$in_path" >&5
+echo $ECHO_N "checking for libgcrypt$in_path... $ECHO_C" >&6; }
+if test "${ncbi_cv_lib_gcrypt+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  CPPFLAGS=" $Z_INCLUDE $orig_CPPFLAGS"
-       LIBS="$Z_LIBS  $orig_LIBS"
+  CPPFLAGS=" $GCRYPT_INCLUDE $orig_CPPFLAGS"
+       LIBS="$GCRYPT_LIBS  $orig_LIBS"
        cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-#include <zlib.h>
+#include <gcrypt.h>
+                     #include <pthread.h>
+                     #include <errno.h>
+                     GCRY_THREAD_OPTION_PTHREAD_IMPL;
 int
 main ()
 {
-gzFile fp; char buf[1024]; int n = gzread(fp, buf, sizeof(buf))
+gcry_control(GCRYCTL_SET_THREAD_CBS, &gcry_threads_pthread);
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ncbi_cv_lib_z=yes
+  ncbi_cv_lib_gcrypt=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-ncbi_cv_lib_z=no
+	ncbi_cv_lib_gcrypt=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_z" >&5
-echo "${ECHO_T}$ncbi_cv_lib_z" >&6
-    if test "$ncbi_cv_lib_z" = "no"; then
-       if test "${with_z:=no}" != no; then
-       { { echo "$as_me:$LINENO: error: --with-z explicitly specified, but no usable version found." >&5
-echo "$as_me: error: --with-z explicitly specified, but no usable version found." >&2;}
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_gcrypt" >&5
+echo "${ECHO_T}$ncbi_cv_lib_gcrypt" >&6; }
+    if test "$ncbi_cv_lib_gcrypt" = "no"; then
+       if test "${with_gcrypt:=no}" != no; then
+       { { echo "$as_me:$LINENO: error: --with-gcrypt explicitly specified, but no usable version found." >&5
+echo "$as_me: error: --with-gcrypt explicitly specified, but no usable version found." >&2;}
    { (exit 1); exit 1; }; }
     fi
     fi
  fi
- if test "$with_z" = "no"; then
-    Z_PATH="No_Z"
-    Z_INCLUDE=
-    Z_LIBS=
+ if test "$with_gcrypt" = "no"; then
+    GCRYPT_PATH="No_GCRYPT"
+    GCRYPT_INCLUDE=
+    GCRYPT_LIBS=
  else
-              WithPackages="$WithPackages${WithPackagesSep}Z"; WithPackagesSep=" "
-    Z_INCLUDE=" $Z_INCLUDE"
+              WithPackages="$WithPackages${WithPackagesSep}GCRYPT"; WithPackagesSep=" "
+    GCRYPT_INCLUDE=" $GCRYPT_INCLUDE"
 
 cat >>confdefs.h <<\_ACEOF
-#define HAVE_LIBZ 1
+#define HAVE_LIBGCRYPT 1
 _ACEOF
 
  fi
 
 
 
-if test -z "$Z_LIBS"; then
-   zlocal=util/compress/zlib
-   { echo "$as_me:$LINENO: using local zlib copy in $zlocal" >&5
-echo "$as_me: using local zlib copy in $zlocal" >&6;}
-   Z_PATH="<$zlocal>"
-   Z_INCLUDE="-I\$(includedir)/$zlocal -I\$(includedir0)/$zlocal"
-   # Z_LIBS="-lz"
-   Z_LIB="z"
-   # AC_DEFINE(USE_LOCAL_ZLIB, 1, [Define to 1 if using a local copy of zlib.])
-             WithPackages="$WithPackages${WithPackagesSep}Z"; WithPackagesSep=" "
-             WithPackages="$WithPackages${WithPackagesSep}LocalZ"; WithPackagesSep=" "
+if test "x$with_gcrypt" != xno -a -n "$GCRYPT_CONFIG_LIBS"; then
+   if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
+    GCRYPT_LIBS=`echo $GCRYPT_CONFIG_LIBS | sed -e "$no_usr_lib"`
+ else
+    GCRYPT_LIBS=
+    ncbi_rp_L_sep=
+    ncbi_rp_R_flags=
+    ncbi_rp_R_sep=" $CONF_f_runpath"
+    for x in `echo $GCRYPT_CONFIG_LIBS | sed -e "$no_usr_lib"`; do
+       case "$x" in
+          -L*)
+             GCRYPT_LIBS="$GCRYPT_LIBS${ncbi_rp_L_sep}$x"
+             x=`echo $x | sed -e "s/^-L//; $ncbi_rpath_sed"`
+             ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
+             ncbi_rp_R_sep=:
+             ;;
+          *)
+             GCRYPT_LIBS="$GCRYPT_LIBS${ncbi_rp_R_flags}${ncbi_rp_L_sep}$x"
+             ncbi_rp_R_flags=
+             ncbi_rp_R_sep=" $CONF_f_runpath"
+             ;;
+       esac
+       ncbi_rp_L_sep=" "
+    done
+    GCRYPT_LIBS="$GCRYPT_LIBS${ncbi_rp_R_flags}"
+ fi
 fi
 
-if test "$with_bz2" != "no"; then
-    case "$with_bz2" in
+case "$with_gnutls" in
+   no )       ac_cv_path_LIBGNUTLS_CONFIG=no ;;
+   yes | '' )                                ;;
+   * )        GNUTLS_PATH=$with_gnutls       ;;
+esac
+if test -d "$GNUTLS_PATH"; then
+   ncbi_fix_dir_tmp=`if cd $GNUTLS_PATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
+ case "$ncbi_fix_dir_tmp" in
+    /.*) ncbi_fix_dir_tmp2=`cd $GNUTLS_PATH && $smart_pwd 2>/dev/null`
+         if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
+            GNUTLS_PATH=$ncbi_fix_dir_tmp2
+         else
+            case "$GNUTLS_PATH" in
+               /*) ;;
+               * ) GNUTLS_PATH=$ncbi_fix_dir_tmp ;;
+            esac
+         fi
+         ;;
+    /*) GNUTLS_PATH=$ncbi_fix_dir_tmp ;;
+ esac
+   gnutls_config_path=${GNUTLS_BIN-$GNUTLS_PATH/${compiler_vpfx}${DEBUG_SFX}${mt_sfx}${bit64_sfx}/bin}:$GNUTLS_PATH/bin${bit64_sfx}:$GNUTLS_PATH/bin
+else
+   gnutls_config_path=$PATH
+fi
+# Extract the first word of "libgnutls-config", so it can be a program name with args.
+set dummy libgnutls-config; ac_word=$2
+{ echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
+if test "${ac_cv_path_LIBGNUTLS_CONFIG+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  case $LIBGNUTLS_CONFIG in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_LIBGNUTLS_CONFIG="$LIBGNUTLS_CONFIG" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $gnutls_config_path
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+  for ac_exec_ext in '' $ac_executable_extensions; do
+  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; }; then
+    ac_cv_path_LIBGNUTLS_CONFIG="$as_dir/$ac_word$ac_exec_ext"
+    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+LIBGNUTLS_CONFIG=$ac_cv_path_LIBGNUTLS_CONFIG
+if test -n "$LIBGNUTLS_CONFIG"; then
+  { echo "$as_me:$LINENO: result: $LIBGNUTLS_CONFIG" >&5
+echo "${ECHO_T}$LIBGNUTLS_CONFIG" >&6; }
+else
+  { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
+fi
+
+
+
+if test "x$with_gnutls" != xno; then
+   if test -x "$LIBGNUTLS_CONFIG"; then
+      if test -z "$GNUTLS_PATH"; then
+         p=`libgnutls-config --prefix`
+         test "x$p" = "x/usr"  ||  GNUTLS_PATH=$p
+      fi
+   else
+      LIBGNUTLS_CONFIG="eval PKG_CONFIG_PATH=\"$GNUTLS_PATH/lib/pkgconfig\" pkg-config gnutls --static"
+      $LIBGNUTLS_CONFIG --exists >/dev/null 2>&1 ||  LIBGNUTLS_CONFIG=no
+   fi
+   case "$LIBGNUTLS_CONFIG" in
+       eval\ *)
+           if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
+    GNUTLS_LIBPATH=`$LIBGNUTLS_CONFIG --libs-only-L | sed -e ""`
+ else
+    GNUTLS_LIBPATH=
+    ncbi_rp_L_sep=
+    ncbi_rp_R_flags=
+    ncbi_rp_R_sep=" $CONF_f_runpath"
+    for x in `$LIBGNUTLS_CONFIG --libs-only-L | sed -e ""`; do
+       case "$x" in
+          -L*)
+             GNUTLS_LIBPATH="$GNUTLS_LIBPATH${ncbi_rp_L_sep}$x"
+             x=`echo $x | sed -e "s/^-L//; $ncbi_rpath_sed"`
+             ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
+             ncbi_rp_R_sep=:
+             ;;
+          *)
+             GNUTLS_LIBPATH="$GNUTLS_LIBPATH${ncbi_rp_R_flags}${ncbi_rp_L_sep}$x"
+             ncbi_rp_R_flags=
+             ncbi_rp_R_sep=" $CONF_f_runpath"
+             ;;
+       esac
+       ncbi_rp_L_sep=" "
+    done
+    GNUTLS_LIBPATH="$GNUTLS_LIBPATH${ncbi_rp_R_flags}"
+ fi
+           ;;
+       no)
+           ;;
+       *)
+           if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
+    GNUTLS_LIBPATH=`$LIBGNUTLS_CONFIG --exec-prefix | sed -e "s,^,-L,; s,$,/lib,;"`
+ else
+    GNUTLS_LIBPATH=
+    ncbi_rp_L_sep=
+    ncbi_rp_R_flags=
+    ncbi_rp_R_sep=" $CONF_f_runpath"
+    for x in `$LIBGNUTLS_CONFIG --exec-prefix | sed -e "s,^,-L,; s,$,/lib,;"`; do
+       case "$x" in
+          -L*)
+             GNUTLS_LIBPATH="$GNUTLS_LIBPATH${ncbi_rp_L_sep}$x"
+             x=`echo $x | sed -e "s/^-L//; $ncbi_rpath_sed"`
+             ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
+             ncbi_rp_R_sep=:
+             ;;
+          *)
+             GNUTLS_LIBPATH="$GNUTLS_LIBPATH${ncbi_rp_R_flags}${ncbi_rp_L_sep}$x"
+             ncbi_rp_R_flags=
+             ncbi_rp_R_sep=" $CONF_f_runpath"
+             ;;
+       esac
+       ncbi_rp_L_sep=" "
+    done
+    GNUTLS_LIBPATH="$GNUTLS_LIBPATH${ncbi_rp_R_flags}"
+ fi
+           ;;
+   esac
+
+   if test "x$LIBGNUTLS_CONFIG" != xno; then
+      GNUTLS_INCLUDE=`$LIBGNUTLS_CONFIG --cflags`
+      GNUTLS_CONFIG_LIBS="`$LIBGNUTLS_CONFIG --libs` $Z_LIBS"
+   fi
+else
+   $as_unset GNUTLS_CONFIG_LIBS || test "${GNUTLS_CONFIG_LIBS+set}" != set || { GNUTLS_CONFIG_LIBS=; export GNUTLS_CONFIG_LIBS; }
+fi
+if test "$with_gnutls" != "no"; then
+    case "$with_gnutls" in
        yes | "" ) ;;
-       *        ) BZ2_PATH=$with_bz2 ;;
+       *        ) GNUTLS_PATH=$with_gnutls ;;
     esac
-    if test -d "$BZ2_PATH"; then
-       in_path=" in $BZ2_PATH"
-       if test -z "$BZ2_INCLUDE" -a -d "$BZ2_PATH/include"; then
-          BZ2_INCLUDE="-I$BZ2_PATH/include"
+    if test -d "$GNUTLS_PATH"; then
+       in_path=" in $GNUTLS_PATH"
+       if test -z "$GNUTLS_INCLUDE" -a -d "$GNUTLS_PATH/include"; then
+          GNUTLS_INCLUDE="-I$GNUTLS_PATH/include"
        fi
-       if test -n "$BZ2_LIBPATH"; then
+       if test -n "$GNUTLS_LIBPATH"; then
           :
-       elif test -d "$BZ2_PATH/lib${bit64_sfx}"; then
+       elif test -d "$GNUTLS_PATH/lib${bit64_sfx}"; then
           ncbi_rp_L_flags=
  ncbi_rp_L_sep=$CONF_f_libpath
  if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $BZ2_PATH/lib${bit64_sfx}; do
+    for x in $GNUTLS_PATH/lib${bit64_sfx}; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
     done
-    BZ2_LIBPATH="${ncbi_rp_L_flags}"
+    GNUTLS_LIBPATH="${ncbi_rp_L_flags}"
  else
     ncbi_rp_R_flags=
     ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $BZ2_PATH/lib${bit64_sfx}; do
+    for x in $GNUTLS_PATH/lib${bit64_sfx}; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
        x=`echo $x | sed -e "$ncbi_rpath_sed"`
        ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
        ncbi_rp_R_sep=:
     done
-    BZ2_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+    GNUTLS_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
  fi
-       elif test -d "$BZ2_PATH/lib"; then
+       elif test -d "$GNUTLS_PATH/lib"; then
           ncbi_rp_L_flags=
  ncbi_rp_L_sep=$CONF_f_libpath
  if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $BZ2_PATH/lib; do
+    for x in $GNUTLS_PATH/lib; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
     done
-    BZ2_LIBPATH="${ncbi_rp_L_flags}"
+    GNUTLS_LIBPATH="${ncbi_rp_L_flags}"
  else
     ncbi_rp_R_flags=
     ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $BZ2_PATH/lib; do
+    for x in $GNUTLS_PATH/lib; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
        x=`echo $x | sed -e "$ncbi_rpath_sed"`
        ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
        ncbi_rp_R_sep=:
     done
-    BZ2_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+    GNUTLS_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
  fi
        fi
-       BZ2_LIBS="$BZ2_LIBPATH -lbz2 "
+       GNUTLS_LIBS="$GNUTLS_LIBPATH -lgnutls $GNUTLS_CONFIG_LIBS $GCRYPT_LIBS"
     else
-       BZ2_INCLUDE=""
-       BZ2_LIBS="-lbz2 "
+       GNUTLS_INCLUDE=""
+       GNUTLS_LIBS="-lgnutls $GNUTLS_CONFIG_LIBS $GCRYPT_LIBS"
        in_path=
     fi
-    echo "$as_me:$LINENO: checking for libbz2$in_path" >&5
-echo $ECHO_N "checking for libbz2$in_path... $ECHO_C" >&6
-if test "${ncbi_cv_lib_bz2+set}" = set; then
+    { echo "$as_me:$LINENO: checking for libgnutls$in_path" >&5
+echo $ECHO_N "checking for libgnutls$in_path... $ECHO_C" >&6; }
+if test "${ncbi_cv_lib_gnutls+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  CPPFLAGS=" $BZ2_INCLUDE $orig_CPPFLAGS"
-       LIBS="$BZ2_LIBS  $orig_LIBS"
+  CPPFLAGS=" $GNUTLS_INCLUDE $orig_CPPFLAGS"
+       LIBS="$GNUTLS_LIBS  $orig_LIBS"
        cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-#include <bzlib.h>
+#include <gnutls/gnutls.h>
 int
 main ()
 {
-BZFILE* fp; char buf[1024]; int err;
-        int n = BZ2_bzRead(&err, fp, buf, sizeof(buf))
+gnutls_session_t s; gnutls_init(&s, GNUTLS_CLIENT);
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ncbi_cv_lib_bz2=yes
+  ncbi_cv_lib_gnutls=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-ncbi_cv_lib_bz2=no
+	ncbi_cv_lib_gnutls=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_bz2" >&5
-echo "${ECHO_T}$ncbi_cv_lib_bz2" >&6
-    if test "$ncbi_cv_lib_bz2" = "no"; then
-       if test "${with_bz2:=no}" != no; then
-       { { echo "$as_me:$LINENO: error: --with-bz2 explicitly specified, but no usable version found." >&5
-echo "$as_me: error: --with-bz2 explicitly specified, but no usable version found." >&2;}
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_gnutls" >&5
+echo "${ECHO_T}$ncbi_cv_lib_gnutls" >&6; }
+    if test "$ncbi_cv_lib_gnutls" = "no"; then
+       if test "${with_gnutls:=no}" != no; then
+       { { echo "$as_me:$LINENO: error: --with-gnutls explicitly specified, but no usable version found." >&5
+echo "$as_me: error: --with-gnutls explicitly specified, but no usable version found." >&2;}
    { (exit 1); exit 1; }; }
     fi
     fi
  fi
- if test "$with_bz2" = "no"; then
-    BZ2_PATH="No_BZ2"
-    BZ2_INCLUDE=
-    BZ2_LIBS=
+ if test "$with_gnutls" = "no"; then
+    GNUTLS_PATH="No_GNUTLS"
+    GNUTLS_INCLUDE=
+    GNUTLS_LIBS=
  else
-              WithPackages="$WithPackages${WithPackagesSep}BZ2"; WithPackagesSep=" "
-    BZ2_INCLUDE=" $BZ2_INCLUDE"
+              WithPackages="$WithPackages${WithPackagesSep}GNUTLS"; WithPackagesSep=" "
+    GNUTLS_INCLUDE=" $GNUTLS_INCLUDE"
 
 cat >>confdefs.h <<\_ACEOF
-#define HAVE_LIBBZ2 1
+#define HAVE_LIBGNUTLS 1
 _ACEOF
 
  fi
 
 
 
-if test -z "$BZ2_LIBS"; then
-   bzlocal=util/compress/bzip2
-   { echo "$as_me:$LINENO: using local bzlib copy in $bzlocal" >&5
-echo "$as_me: using local bzlib copy in $bzlocal" >&6;}
-   BZ2_PATH="<$bzlocal>"
-   BZ2_INCLUDE="-I\$(includedir)/$bzlocal -I\$(includedir0)/$bzlocal"
-   # BZ2_LIBS="-lbz2"
-   BZ2_LIB="bz2"
-
-cat >>confdefs.h <<\_ACEOF
-#define USE_LOCAL_BZLIB 1
-_ACEOF
-
-             WithPackages="$WithPackages${WithPackagesSep}BZ2"; WithPackagesSep=" "
-             WithPackages="$WithPackages${WithPackagesSep}LocalBZ2"; WithPackagesSep=" "
-fi
-
-: ${LZO_PATH=$NCBI/lzo2}
-if test -d "$LZO_PATH"; then
-   ncbi_fix_dir_tmp=`if cd $LZO_PATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
- case "$ncbi_fix_dir_tmp" in
-    /.*) ncbi_fix_dir_tmp2=`cd $LZO_PATH && $smart_pwd 2>/dev/null`
-         if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
-            LZO_PATH=$ncbi_fix_dir_tmp2
+if test "x$with_gnutls" != xno -a -n "$GNUTLS_CONFIG_LIBS"; then
+   if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
+    GNUTLS_LIBS=`echo $GNUTLS_CONFIG_LIBS | sed -e "$no_usr_lib"`
          else
-            case "$LZO_PATH" in
-               /*) ;;
-               * ) LZO_PATH=$ncbi_fix_dir_tmp ;;
+    GNUTLS_LIBS=
+    ncbi_rp_L_sep=
+    ncbi_rp_R_flags=
+    ncbi_rp_R_sep=" $CONF_f_runpath"
+    for x in `echo $GNUTLS_CONFIG_LIBS | sed -e "$no_usr_lib"`; do
+       case "$x" in
+          -L*)
+             GNUTLS_LIBS="$GNUTLS_LIBS${ncbi_rp_L_sep}$x"
+             x=`echo $x | sed -e "s/^-L//; $ncbi_rpath_sed"`
+             ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
+             ncbi_rp_R_sep=:
+             ;;
+          *)
+             GNUTLS_LIBS="$GNUTLS_LIBS${ncbi_rp_R_flags}${ncbi_rp_L_sep}$x"
+             ncbi_rp_R_flags=
+             ncbi_rp_R_sep=" $CONF_f_runpath"
+             ;;
             esac
+       ncbi_rp_L_sep=" "
+    done
+    GNUTLS_LIBS="$GNUTLS_LIBS${ncbi_rp_R_flags}"
          fi
-         ;;
-    /*) LZO_PATH=$ncbi_fix_dir_tmp ;;
+   # Conservatively build against gcrypt if available even when gnutls
+   # uses nettle instead, because gcrypt needs explicit initialization
+   # to be thread-safe, but gnutls's headers don't indicate which
+   # underlying crypto library it's actually using.
+   case "$GNUTLS_INCLUDE" in
+       *$GCRYPT_INCLUDE* ) ;;
+       *                 ) GNUTLS_INCLUDE="$GNUTLS_INCLUDE $GCRYPT_INCLUDE" ;;
+   esac
+   case "$GNUTLS_LIBS" in
+       *\ -lgcrypt* ) ;;
+       *            ) GNUTLS_LIBS="$GNUTLS_LIBS $GCRYPT_LIBS" ;;
  esac
 fi
-if test "$with_lzo" != "no"; then
-    case "$with_lzo" in
+
+if test "$with_openssl" != "no"; then
+    case "$with_openssl" in
        yes | "" ) ;;
-       *        ) LZO_PATH=$with_lzo ;;
+       *        ) OPENSSL_PATH=$with_openssl ;;
     esac
-    if test -d "$LZO_PATH"; then
-       in_path=" in $LZO_PATH"
-       if test -z "$LZO_INCLUDE" -a -d "$LZO_PATH/include"; then
-          LZO_INCLUDE="-I$LZO_PATH/include"
+    if test -d "$OPENSSL_PATH"; then
+       in_path=" in $OPENSSL_PATH"
+       if test -z "$OPENSSL_INCLUDE" -a -d "$OPENSSL_PATH/include"; then
+          OPENSSL_INCLUDE="-I$OPENSSL_PATH/include"
        fi
-       if test -n "$LZO_LIBPATH"; then
+       if test -n "$OPENSSL_LIBPATH"; then
           :
-       elif test -d "$LZO_PATH/lib${bit64_sfx}"; then
+       elif test -d "$OPENSSL_PATH/lib${bit64_sfx}"; then
           ncbi_rp_L_flags=
  ncbi_rp_L_sep=$CONF_f_libpath
  if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $LZO_PATH/lib${bit64_sfx}; do
+    for x in $OPENSSL_PATH/lib${bit64_sfx}; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
     done
-    LZO_LIBPATH="${ncbi_rp_L_flags}"
+    OPENSSL_LIBPATH="${ncbi_rp_L_flags}"
  else
     ncbi_rp_R_flags=
     ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $LZO_PATH/lib${bit64_sfx}; do
+    for x in $OPENSSL_PATH/lib${bit64_sfx}; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
        x=`echo $x | sed -e "$ncbi_rpath_sed"`
        ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
        ncbi_rp_R_sep=:
     done
-    LZO_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+    OPENSSL_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
  fi
-       elif test -d "$LZO_PATH/lib"; then
+       elif test -d "$OPENSSL_PATH/lib"; then
           ncbi_rp_L_flags=
  ncbi_rp_L_sep=$CONF_f_libpath
  if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $LZO_PATH/lib; do
+    for x in $OPENSSL_PATH/lib; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
     done
-    LZO_LIBPATH="${ncbi_rp_L_flags}"
+    OPENSSL_LIBPATH="${ncbi_rp_L_flags}"
  else
     ncbi_rp_R_flags=
     ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $LZO_PATH/lib; do
+    for x in $OPENSSL_PATH/lib; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
        x=`echo $x | sed -e "$ncbi_rpath_sed"`
        ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
        ncbi_rp_R_sep=:
     done
-    LZO_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+    OPENSSL_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
  fi
        fi
-       LZO_LIBS="$LZO_LIBPATH -llzo2 "
+       OPENSSL_LIBS="$OPENSSL_LIBPATH -lssl -lcrypto"
     else
-       LZO_INCLUDE=""
-       LZO_LIBS="-llzo2 "
+       OPENSSL_INCLUDE=""
+       OPENSSL_LIBS="-lssl -lcrypto"
        in_path=
     fi
-    echo "$as_me:$LINENO: checking for liblzo2$in_path" >&5
-echo $ECHO_N "checking for liblzo2$in_path... $ECHO_C" >&6
-if test "${ncbi_cv_lib_lzo+set}" = set; then
+    { echo "$as_me:$LINENO: checking for libssl$in_path" >&5
+echo $ECHO_N "checking for libssl$in_path... $ECHO_C" >&6; }
+if test "${ncbi_cv_lib_openssl+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  CPPFLAGS=" $LZO_INCLUDE $orig_CPPFLAGS"
-       LIBS="$LZO_LIBS  $orig_LIBS"
+  CPPFLAGS=" $OPENSSL_INCLUDE $orig_CPPFLAGS"
+       LIBS="$OPENSSL_LIBS  $orig_LIBS"
        cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-#include <lzo/lzo1x.h>
+#include <openssl/ssl.h>
 int
 main ()
 {
-lzo_uint32 c = lzo_crc32(0, (const unsigned char*)"foo", 3);
+SSL_library_init();
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ncbi_cv_lib_lzo=yes
+  ncbi_cv_lib_openssl=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-ncbi_cv_lib_lzo=no
+	ncbi_cv_lib_openssl=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_lzo" >&5
-echo "${ECHO_T}$ncbi_cv_lib_lzo" >&6
-    if test "$ncbi_cv_lib_lzo" = "no"; then
-       if test "${with_lzo:=no}" != no; then
-       { { echo "$as_me:$LINENO: error: --with-lzo explicitly specified, but no usable version found." >&5
-echo "$as_me: error: --with-lzo explicitly specified, but no usable version found." >&2;}
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_openssl" >&5
+echo "${ECHO_T}$ncbi_cv_lib_openssl" >&6; }
+    if test "$ncbi_cv_lib_openssl" = "no"; then
+       if test "${with_openssl:=no}" != no; then
+       { { echo "$as_me:$LINENO: error: --with-openssl explicitly specified, but no usable version found." >&5
+echo "$as_me: error: --with-openssl explicitly specified, but no usable version found." >&2;}
    { (exit 1); exit 1; }; }
     fi
     fi
  fi
- if test "$with_lzo" = "no"; then
-    LZO_PATH="No_LZO"
-    LZO_INCLUDE=
-    LZO_LIBS=
+ if test "$with_openssl" = "no"; then
+    OPENSSL_PATH="No_OPENSSL"
+    OPENSSL_INCLUDE=
+    OPENSSL_LIBS=
  else
-              WithPackages="$WithPackages${WithPackagesSep}LZO"; WithPackagesSep=" "
-    LZO_INCLUDE=" $LZO_INCLUDE"
+              WithPackages="$WithPackages${WithPackagesSep}OPENSSL"; WithPackagesSep=" "
+    OPENSSL_INCLUDE=" $OPENSSL_INCLUDE"
 
 cat >>confdefs.h <<\_ACEOF
-#define HAVE_LIBLZO 1
+#define HAVE_LIBOPENSSL 1
 _ACEOF
 
  fi
@@ -21639,1287 +26023,420 @@
 
 
 
-if test -z "$PCRE_PATH"  &&  pcre-config --version >/dev/null 2>&1; then
-    p=`pcre-config --prefix`
-    test "x$p" = "x/usr"  ||  PCRE_PATH=$p
+OPENSSL_STATIC_LIBS=$OPENSSL_LIBS
+for d in `echo " $OPENSSL_LIBS" | fmt -w 1 | sed -ne 's/^ *-L//p'` \
+   /usr/local/lib${bit64_sfx} /usr/local/lib /usr/lib${bit64_sfx} /usr/lib; do
+   if test -f $d/libssl.a -a -f $d/libcrypto.a; then
+      OPENSSL_STATIC_LIBS="$d/libssl.a $d/libcrypto.a"
+      break
+   elif test -f $d/libssl.so -o -f $d/libssl.dylib; then
+      break
 fi
-if test "$with_pcre" != "no"; then
-    case "$with_pcre" in
+done
+
+if test -n "$GNUTLS_LIBS"; then
+   TLS_INCLUDE=$GNUTLS_INCLUDE
+   TLS_LIBS=$GNUTLS_LIBS
+else
+   TLS_INCLUDE=$OPENSSL_INCLUDE
+   TLS_LIBS=$OPENSSL_LIBS
+fi
+
+
+case "$with_krb5" in
+   no )       ac_cv_path_KRB5_CONFIG=no    ;;
+   yes | '' ) : ${KRB5_PATH=/usr/kerberos} ;;
+   * )        KRB5_PATH=$with_krb5         ;;
+esac
+# Extract the first word of "krb5-config", so it can be a program name with args.
+set dummy krb5-config; ac_word=$2
+{ echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
+if test "${ac_cv_path_KRB5_CONFIG+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  case $KRB5_CONFIG in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_KRB5_CONFIG="$KRB5_CONFIG" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+as_dummy="${KRB5_BIN-$KRB5_PATH/bin}:$PATH"
+for as_dir in $as_dummy
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+  for ac_exec_ext in '' $ac_executable_extensions; do
+  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; }; then
+    ac_cv_path_KRB5_CONFIG="$as_dir/$ac_word$ac_exec_ext"
+    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+KRB5_CONFIG=$ac_cv_path_KRB5_CONFIG
+if test -n "$KRB5_CONFIG"; then
+  { echo "$as_me:$LINENO: result: $KRB5_CONFIG" >&5
+echo "${ECHO_T}$KRB5_CONFIG" >&6; }
+else
+  { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
+fi
+
+
+
+if test "x$with_krb5" != xno; then
+   if test -x "$KRB5_CONFIG"; then
+      KRB5_PATH=`$KRB5_CONFIG --prefix`
+      KRB5_INCLUDE=`$KRB5_CONFIG --cflags | \
+         sed -e 's/$/ /; s,-I/usr/include ,,'`
+      KRB5_CONFIG_LIBS=`$KRB5_CONFIG --libs gssapi | \
+         sed -e 's/^/ /; s/ -[^Ll][^ ]*//g'`
+   fi
+else
+      KRB5_CONFIG_LIBS=$KRB5_LIBS
+fi
+if test "$with_krb5" != "no"; then
+    case "$with_krb5" in
        yes | "" ) ;;
-       *        ) PCRE_PATH=$with_pcre ;;
+       *        ) KRB5_PATH=$with_krb5 ;;
     esac
-    if test -d "$PCRE_PATH"; then
-       in_path=" in $PCRE_PATH"
-       if test -z "$PCRE_INCLUDE" -a -d "$PCRE_PATH/include"; then
-          PCRE_INCLUDE="-I$PCRE_PATH/include"
+    if test -d "$KRB5_PATH"; then
+       in_path=" in $KRB5_PATH"
+       if test -z "$KRB5_INCLUDE" -a -d "$KRB5_PATH/include"; then
+          KRB5_INCLUDE="-I$KRB5_PATH/include"
        fi
-       if test -n "$PCRE_LIBPATH"; then
+       if test -n "$KRB5_LIBPATH"; then
           :
-       elif test -d "$PCRE_PATH/lib${bit64_sfx}"; then
+       elif test -d "$KRB5_PATH/lib${bit64_sfx}"; then
           ncbi_rp_L_flags=
  ncbi_rp_L_sep=$CONF_f_libpath
  if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $PCRE_PATH/lib${bit64_sfx}; do
+    for x in $KRB5_PATH/lib${bit64_sfx}; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
     done
-    PCRE_LIBPATH="${ncbi_rp_L_flags}"
+    KRB5_LIBPATH="${ncbi_rp_L_flags}"
  else
     ncbi_rp_R_flags=
     ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $PCRE_PATH/lib${bit64_sfx}; do
+    for x in $KRB5_PATH/lib${bit64_sfx}; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
        x=`echo $x | sed -e "$ncbi_rpath_sed"`
        ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
        ncbi_rp_R_sep=:
     done
-    PCRE_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+    KRB5_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
  fi
-       elif test -d "$PCRE_PATH/lib"; then
+       elif test -d "$KRB5_PATH/lib"; then
           ncbi_rp_L_flags=
  ncbi_rp_L_sep=$CONF_f_libpath
  if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $PCRE_PATH/lib; do
+    for x in $KRB5_PATH/lib; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
     done
-    PCRE_LIBPATH="${ncbi_rp_L_flags}"
+    KRB5_LIBPATH="${ncbi_rp_L_flags}"
  else
     ncbi_rp_R_flags=
     ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $PCRE_PATH/lib; do
+    for x in $KRB5_PATH/lib; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
        x=`echo $x | sed -e "$ncbi_rpath_sed"`
        ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
        ncbi_rp_R_sep=:
     done
-    PCRE_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+    KRB5_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
  fi
        fi
-       PCRE_LIBS="$PCRE_LIBPATH -lpcre "
+       KRB5_LIBS="$KRB5_LIBPATH -lgssapi_krb5 $KRB5_CONFIG_LIBS"
     else
-       PCRE_INCLUDE=""
-       PCRE_LIBS="-lpcre "
+       KRB5_INCLUDE=""
+       KRB5_LIBS="-lgssapi_krb5 $KRB5_CONFIG_LIBS"
        in_path=
     fi
-    echo "$as_me:$LINENO: checking for libpcre$in_path" >&5
-echo $ECHO_N "checking for libpcre$in_path... $ECHO_C" >&6
-if test "${ncbi_cv_lib_pcre+set}" = set; then
+    { echo "$as_me:$LINENO: checking for libgssapi_krb5$in_path" >&5
+echo $ECHO_N "checking for libgssapi_krb5$in_path... $ECHO_C" >&6; }
+if test "${ncbi_cv_lib_krb5+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  CPPFLAGS=" $PCRE_INCLUDE $orig_CPPFLAGS"
-       LIBS="$PCRE_LIBS  $orig_LIBS"
+  CPPFLAGS=" $KRB5_INCLUDE $orig_CPPFLAGS"
+       LIBS="$KRB5_LIBS  $orig_LIBS"
        cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-#include <pcre.h>
+#include <time.h>
+extern "C" {
+#include <gssapi/gssapi_krb5.h>
+}
 int
 main ()
 {
-const char*s[]={"x"}; pcre* p; pcre_extra* x = pcre_study(p, 1, s);
+OM_uint32 min_stat;
+     gss_buffer_desc buf;
+     gss_release_buffer(&min_stat, &buf);
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ncbi_cv_lib_pcre=yes
+  ncbi_cv_lib_krb5=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-ncbi_cv_lib_pcre=no
+	ncbi_cv_lib_krb5=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_pcre" >&5
-echo "${ECHO_T}$ncbi_cv_lib_pcre" >&6
-    if test "$ncbi_cv_lib_pcre" = "no"; then
-       if test "${with_pcre:=no}" != no; then
-       { { echo "$as_me:$LINENO: error: --with-pcre explicitly specified, but no usable version found." >&5
-echo "$as_me: error: --with-pcre explicitly specified, but no usable version found." >&2;}
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_krb5" >&5
+echo "${ECHO_T}$ncbi_cv_lib_krb5" >&6; }
+    if test "$ncbi_cv_lib_krb5" = "no"; then
+       if test "${with_krb5:=no}" != no; then
+       { { echo "$as_me:$LINENO: error: --with-krb5 explicitly specified, but no usable version found." >&5
+echo "$as_me: error: --with-krb5 explicitly specified, but no usable version found." >&2;}
    { (exit 1); exit 1; }; }
     fi
     fi
  fi
- if test "$with_pcre" = "no"; then
-    PCRE_PATH="No_PCRE"
-    PCRE_INCLUDE=
-    PCRE_LIBS=
+ if test "$with_krb5" = "no"; then
+    KRB5_PATH="No_KRB5"
+    KRB5_INCLUDE=
+    KRB5_LIBS=
  else
-              WithPackages="$WithPackages${WithPackagesSep}PCRE"; WithPackagesSep=" "
-    PCRE_INCLUDE=" $PCRE_INCLUDE"
-
-cat >>confdefs.h <<\_ACEOF
-#define HAVE_LIBPCRE 1
-_ACEOF
-
- fi
-
-
-
-if test -z "$PCRE_LIBS"; then
-   pcrelocal=util/regexp
-   { echo "$as_me:$LINENO: using local PCRE copy in $pcrelocal" >&5
-echo "$as_me: using local PCRE copy in $pcrelocal" >&6;}
-   PCRE_PATH="<$pcrelocal>"
-   PCRE_INCLUDE="-I\$(includedir)/$pcrelocal -I\$(includedir0)/$pcrelocal"
-   # PCRE_LIBS="-lregexp"
-   # PCREPOSIX_LIBS="-lregexp"
-   PCRE_LIB="regexp"
+              WithPackages="$WithPackages${WithPackagesSep}KRB5"; WithPackagesSep=" "
+    KRB5_INCLUDE=" $KRB5_INCLUDE"
 
 cat >>confdefs.h <<\_ACEOF
-#define USE_LOCAL_PCRE 1
+#define HAVE_LIBKRB5 1
 _ACEOF
 
-             WithPackages="$WithPackages${WithPackagesSep}PCRE"; WithPackagesSep=" "
-             WithPackages="$WithPackages${WithPackagesSep}LocalPCRE"; WithPackagesSep=" "
-else
-   PCREPOSIX_LIBS=`echo "$PCRE_LIBS" | sed -e 's/-lpcre/-lpcreposix -lpcre/'`
-fi
-
-## SSL/TLS libraries
-case "$with_gcrypt" in
-   no )       ac_cv_path_LIBGCRYPT_CONFIG=no ;;
-   yes | '' ) : ${GCRYPT_PATH=$NCBI/gcrypt}  ;;
-   * )        GCRYPT_PATH=$with_gcrypt       ;;
-esac
-if test -d "$GCRYPT_PATH"; then
-   ncbi_fix_dir_tmp=`if cd $GCRYPT_PATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
- case "$ncbi_fix_dir_tmp" in
-    /.*) ncbi_fix_dir_tmp2=`cd $GCRYPT_PATH && $smart_pwd 2>/dev/null`
-         if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
-            GCRYPT_PATH=$ncbi_fix_dir_tmp2
-         else
-            case "$GCRYPT_PATH" in
-               /*) ;;
-               * ) GCRYPT_PATH=$ncbi_fix_dir_tmp ;;
-            esac
-         fi
-         ;;
-    /*) GCRYPT_PATH=$ncbi_fix_dir_tmp ;;
- esac
-fi
-# Extract the first word of "libgcrypt-config", so it can be a program name with args.
-set dummy libgcrypt-config; ac_word=$2
-echo "$as_me:$LINENO: checking for $ac_word" >&5
-echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
-if test "${ac_cv_path_LIBGCRYPT_CONFIG+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  case $LIBGCRYPT_CONFIG in
-  [\\/]* | ?:[\\/]*)
-  ac_cv_path_LIBGCRYPT_CONFIG="$LIBGCRYPT_CONFIG" # Let the user override the test with a path.
-  ;;
-  *)
-  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
-as_dummy="${GCRYPT_BIN-$GCRYPT_PATH/${compiler_vpfx}${DEBUG_SFX}${mt_sfx}${bit64_sfx}/bin}:$GCRYPT_PATH/bin${bit64_sfx}:$GCRYPT_PATH/bin:$PATH"
-for as_dir in $as_dummy
-do
-  IFS=$as_save_IFS
-  test -z "$as_dir" && as_dir=.
-  for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
-    ac_cv_path_LIBGCRYPT_CONFIG="$as_dir/$ac_word$ac_exec_ext"
-    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
-    break 2
-  fi
-done
-done
-
-  ;;
-esac
 fi
-LIBGCRYPT_CONFIG=$ac_cv_path_LIBGCRYPT_CONFIG
 
-if test -n "$LIBGCRYPT_CONFIG"; then
-  echo "$as_me:$LINENO: result: $LIBGCRYPT_CONFIG" >&5
-echo "${ECHO_T}$LIBGCRYPT_CONFIG" >&6
-else
-  echo "$as_me:$LINENO: result: no" >&5
-echo "${ECHO_T}no" >&6
-fi
 
 
-if test "x$with_gcrypt" != xno; then
-   if test -x "$LIBGCRYPT_CONFIG"; then
-      if test -z "$GCRYPT_PATH"; then
-         p=`libgcrypt-config --prefix`
-         test "x$p" = "x/usr"  ||  GCRYPT_PATH=$p
-      fi
+if test "x$with_krb5" != xno; then
       if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    GCRYPT_LIBPATH=`$LIBGCRYPT_CONFIG --exec-prefix | sed -e "s,^,-L,; s,$,/lib,;"`
+    KRB5_LIBS=`echo $KRB5_CONFIG_LIBS | sed -e "$no_usr_lib"`
  else
-    GCRYPT_LIBPATH=
+    KRB5_LIBS=
     ncbi_rp_L_sep=
     ncbi_rp_R_flags=
     ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in `$LIBGCRYPT_CONFIG --exec-prefix | sed -e "s,^,-L,; s,$,/lib,;"`; do
+    for x in `echo $KRB5_CONFIG_LIBS | sed -e "$no_usr_lib"`; do
        case "$x" in
           -L*)
-             GCRYPT_LIBPATH="$GCRYPT_LIBPATH${ncbi_rp_L_sep}$x"
+             KRB5_LIBS="$KRB5_LIBS${ncbi_rp_L_sep}$x"
              x=`echo $x | sed -e "s/^-L//; $ncbi_rpath_sed"`
              ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
              ncbi_rp_R_sep=:
              ;;
           *)
-             GCRYPT_LIBPATH="$GCRYPT_LIBPATH${ncbi_rp_R_flags}${ncbi_rp_L_sep}$x"
+             KRB5_LIBS="$KRB5_LIBS${ncbi_rp_R_flags}${ncbi_rp_L_sep}$x"
              ncbi_rp_R_flags=
              ncbi_rp_R_sep=" $CONF_f_runpath"
              ;;
        esac
        ncbi_rp_L_sep=" "
     done
-    GCRYPT_LIBPATH="$GCRYPT_LIBPATH${ncbi_rp_R_flags}"
- fi
-      GCRYPT_INCLUDE=`$LIBGCRYPT_CONFIG --cflags`
-      GCRYPT_CONFIG_LIBS="`$LIBGCRYPT_CONFIG --libs` $Z_LIBS"
+    KRB5_LIBS="$KRB5_LIBS${ncbi_rp_R_flags}"
    fi
-else
-   $as_unset GCRYPT_CONFIG_LIBS || test "${GCRYPT_CONFIG_LIBS+set}" != set || { GCRYPT_CONFIG_LIBS=; export GCRYPT_CONFIG_LIBS; }
 fi
-if test "$with_gcrypt" != "no"; then
-    case "$with_gcrypt" in
+
+
+if test "$with_curl" != "no"; then
+    case "$with_curl" in
        yes | "" ) ;;
-       *        ) GCRYPT_PATH=$with_gcrypt ;;
+       *        ) CURL_PATH=$with_curl ;;
     esac
-    if test -d "$GCRYPT_PATH"; then
-       in_path=" in $GCRYPT_PATH"
-       if test -z "$GCRYPT_INCLUDE" -a -d "$GCRYPT_PATH/include"; then
-          GCRYPT_INCLUDE="-I$GCRYPT_PATH/include"
+    if test -d "$CURL_PATH"; then
+       in_path=" in $CURL_PATH"
+       if test -z "$CURL_INCLUDE" -a -d "$CURL_PATH/include"; then
+          CURL_INCLUDE="-I$CURL_PATH/include"
        fi
-       if test -n "$GCRYPT_LIBPATH"; then
+       if test -n "$CURL_LIBPATH"; then
           :
-       elif test -d "$GCRYPT_PATH/lib${bit64_sfx}"; then
+       elif test -d "$CURL_PATH/lib${bit64_sfx}"; then
           ncbi_rp_L_flags=
  ncbi_rp_L_sep=$CONF_f_libpath
  if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $GCRYPT_PATH/lib${bit64_sfx}; do
+    for x in $CURL_PATH/lib${bit64_sfx}; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
     done
-    GCRYPT_LIBPATH="${ncbi_rp_L_flags}"
+    CURL_LIBPATH="${ncbi_rp_L_flags}"
  else
     ncbi_rp_R_flags=
     ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $GCRYPT_PATH/lib${bit64_sfx}; do
+    for x in $CURL_PATH/lib${bit64_sfx}; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
        x=`echo $x | sed -e "$ncbi_rpath_sed"`
        ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
        ncbi_rp_R_sep=:
     done
-    GCRYPT_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+    CURL_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
  fi
-       elif test -d "$GCRYPT_PATH/lib"; then
+       elif test -d "$CURL_PATH/lib"; then
           ncbi_rp_L_flags=
  ncbi_rp_L_sep=$CONF_f_libpath
  if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $GCRYPT_PATH/lib; do
+    for x in $CURL_PATH/lib; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
     done
-    GCRYPT_LIBPATH="${ncbi_rp_L_flags}"
+    CURL_LIBPATH="${ncbi_rp_L_flags}"
  else
     ncbi_rp_R_flags=
     ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $GCRYPT_PATH/lib; do
+    for x in $CURL_PATH/lib; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
        x=`echo $x | sed -e "$ncbi_rpath_sed"`
        ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
        ncbi_rp_R_sep=:
     done
-    GCRYPT_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+    CURL_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
  fi
        fi
-       GCRYPT_LIBS="$GCRYPT_LIBPATH -lgcrypt $GCRYPT_CONFIG_LIBS"
+       CURL_LIBS="$CURL_LIBPATH -lcurl "
     else
-       GCRYPT_INCLUDE=""
-       GCRYPT_LIBS="-lgcrypt $GCRYPT_CONFIG_LIBS"
+       CURL_INCLUDE=""
+       CURL_LIBS="-lcurl "
        in_path=
     fi
-    echo "$as_me:$LINENO: checking for libgcrypt$in_path" >&5
-echo $ECHO_N "checking for libgcrypt$in_path... $ECHO_C" >&6
-if test "${ncbi_cv_lib_gcrypt+set}" = set; then
+    { echo "$as_me:$LINENO: checking for libcurl$in_path" >&5
+echo $ECHO_N "checking for libcurl$in_path... $ECHO_C" >&6; }
+if test "${ncbi_cv_lib_curl+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  CPPFLAGS=" $GCRYPT_INCLUDE $orig_CPPFLAGS"
-       LIBS="$GCRYPT_LIBS  $orig_LIBS"
+  CPPFLAGS=" $CURL_INCLUDE $orig_CPPFLAGS"
+       LIBS="$CURL_LIBS  $orig_LIBS"
        cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-#include <gcrypt.h>
-                     #include <pthread.h>
-                     #include <errno.h>
-                     GCRY_THREAD_OPTION_PTHREAD_IMPL;
+#include <curl/curl.h>
 int
 main ()
 {
-gcry_control(GCRYCTL_SET_THREAD_CBS, &gcry_threads_pthread);
+char* v = curl_version();
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ncbi_cv_lib_gcrypt=yes
+  ncbi_cv_lib_curl=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-ncbi_cv_lib_gcrypt=no
+	ncbi_cv_lib_curl=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_gcrypt" >&5
-echo "${ECHO_T}$ncbi_cv_lib_gcrypt" >&6
-    if test "$ncbi_cv_lib_gcrypt" = "no"; then
-       if test "${with_gcrypt:=no}" != no; then
-       { { echo "$as_me:$LINENO: error: --with-gcrypt explicitly specified, but no usable version found." >&5
-echo "$as_me: error: --with-gcrypt explicitly specified, but no usable version found." >&2;}
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_curl" >&5
+echo "${ECHO_T}$ncbi_cv_lib_curl" >&6; }
+    if test "$ncbi_cv_lib_curl" = "no"; then
+       if test "${with_curl:=no}" != no; then
+       { { echo "$as_me:$LINENO: error: --with-curl explicitly specified, but no usable version found." >&5
+echo "$as_me: error: --with-curl explicitly specified, but no usable version found." >&2;}
    { (exit 1); exit 1; }; }
     fi
     fi
  fi
- if test "$with_gcrypt" = "no"; then
-    GCRYPT_PATH="No_GCRYPT"
-    GCRYPT_INCLUDE=
-    GCRYPT_LIBS=
+ if test "$with_curl" = "no"; then
+    CURL_PATH="No_CURL"
+    CURL_INCLUDE=
+    CURL_LIBS=
  else
-              WithPackages="$WithPackages${WithPackagesSep}GCRYPT"; WithPackagesSep=" "
-    GCRYPT_INCLUDE=" $GCRYPT_INCLUDE"
+              WithPackages="$WithPackages${WithPackagesSep}CURL"; WithPackagesSep=" "
+    CURL_INCLUDE=" $CURL_INCLUDE"
 
 cat >>confdefs.h <<\_ACEOF
-#define HAVE_LIBGCRYPT 1
-_ACEOF
-
- fi
-
-
-
-if test "x$with_gcrypt" != xno -a -n "$GCRYPT_CONFIG_LIBS"; then
-   if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    GCRYPT_LIBS=`echo $GCRYPT_CONFIG_LIBS | sed -e "$no_usr_lib"`
- else
-    GCRYPT_LIBS=
-    ncbi_rp_L_sep=
-    ncbi_rp_R_flags=
-    ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in `echo $GCRYPT_CONFIG_LIBS | sed -e "$no_usr_lib"`; do
-       case "$x" in
-          -L*)
-             GCRYPT_LIBS="$GCRYPT_LIBS${ncbi_rp_L_sep}$x"
-             x=`echo $x | sed -e "s/^-L//; $ncbi_rpath_sed"`
-             ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
-             ncbi_rp_R_sep=:
-             ;;
-          *)
-             GCRYPT_LIBS="$GCRYPT_LIBS${ncbi_rp_R_flags}${ncbi_rp_L_sep}$x"
-             ncbi_rp_R_flags=
-             ncbi_rp_R_sep=" $CONF_f_runpath"
-             ;;
-       esac
-       ncbi_rp_L_sep=" "
-    done
-    GCRYPT_LIBS="$GCRYPT_LIBS${ncbi_rp_R_flags}"
- fi
-fi
-
-case "$with_gnutls" in
-   no )       ac_cv_path_LIBGNUTLS_CONFIG=no ;;
-   yes | '' ) : ${GNUTLS_PATH=$NCBI/gnutls}  ;;
-   * )        GNUTLS_PATH=$with_gnutls       ;;
-esac
-if test -d "$GNUTLS_PATH"; then
-   ncbi_fix_dir_tmp=`if cd $GNUTLS_PATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
- case "$ncbi_fix_dir_tmp" in
-    /.*) ncbi_fix_dir_tmp2=`cd $GNUTLS_PATH && $smart_pwd 2>/dev/null`
-         if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
-            GNUTLS_PATH=$ncbi_fix_dir_tmp2
-         else
-            case "$GNUTLS_PATH" in
-               /*) ;;
-               * ) GNUTLS_PATH=$ncbi_fix_dir_tmp ;;
-            esac
-         fi
-         ;;
-    /*) GNUTLS_PATH=$ncbi_fix_dir_tmp ;;
- esac
-fi
-# Extract the first word of "libgnutls-config", so it can be a program name with args.
-set dummy libgnutls-config; ac_word=$2
-echo "$as_me:$LINENO: checking for $ac_word" >&5
-echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
-if test "${ac_cv_path_LIBGNUTLS_CONFIG+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  case $LIBGNUTLS_CONFIG in
-  [\\/]* | ?:[\\/]*)
-  ac_cv_path_LIBGNUTLS_CONFIG="$LIBGNUTLS_CONFIG" # Let the user override the test with a path.
-  ;;
-  *)
-  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
-as_dummy="${GNUTLS_BIN-$GNUTLS_PATH/${compiler_vpfx}${DEBUG_SFX}${mt_sfx}${bit64_sfx}/bin}:$GNUTLS_PATH/bin${bit64_sfx}:$GNUTLS_PATH/bin:$PATH"
-for as_dir in $as_dummy
-do
-  IFS=$as_save_IFS
-  test -z "$as_dir" && as_dir=.
-  for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
-    ac_cv_path_LIBGNUTLS_CONFIG="$as_dir/$ac_word$ac_exec_ext"
-    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
-    break 2
-  fi
-done
-done
-
-  ;;
-esac
-fi
-LIBGNUTLS_CONFIG=$ac_cv_path_LIBGNUTLS_CONFIG
-
-if test -n "$LIBGNUTLS_CONFIG"; then
-  echo "$as_me:$LINENO: result: $LIBGNUTLS_CONFIG" >&5
-echo "${ECHO_T}$LIBGNUTLS_CONFIG" >&6
-else
-  echo "$as_me:$LINENO: result: no" >&5
-echo "${ECHO_T}no" >&6
-fi
-
-
-if test "x$with_gnutls" != xno; then
-   if test -x "$LIBGNUTLS_CONFIG"; then
-      if test -z "$GNUTLS_PATH"; then
-         p=`libgnutls-config --prefix`
-         test "x$p" = "x/usr"  ||  GNUTLS_PATH=$p
-      fi
-   else
-      LIBGNUTLS_CONFIG="eval PKG_CONFIG_PATH=\"$GNUTLS_PATH/lib/pkgconfig\" pkg-config gnutls"
-      $LIBGNUTLS_CONFIG --exists >/dev/null 2>&1 ||  LIBGNUTLS_CONFIG=no
-   fi
-   case "$LIBGNUTLS_CONFIG" in
-       eval\ *)
-           if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    GNUTLS_LIBPATH=`$LIBGNUTLS_CONFIG --libs-only-L | sed -e ""`
- else
-    GNUTLS_LIBPATH=
-    ncbi_rp_L_sep=
-    ncbi_rp_R_flags=
-    ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in `$LIBGNUTLS_CONFIG --libs-only-L | sed -e ""`; do
-       case "$x" in
-          -L*)
-             GNUTLS_LIBPATH="$GNUTLS_LIBPATH${ncbi_rp_L_sep}$x"
-             x=`echo $x | sed -e "s/^-L//; $ncbi_rpath_sed"`
-             ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
-             ncbi_rp_R_sep=:
-             ;;
-          *)
-             GNUTLS_LIBPATH="$GNUTLS_LIBPATH${ncbi_rp_R_flags}${ncbi_rp_L_sep}$x"
-             ncbi_rp_R_flags=
-             ncbi_rp_R_sep=" $CONF_f_runpath"
-             ;;
-       esac
-       ncbi_rp_L_sep=" "
-    done
-    GNUTLS_LIBPATH="$GNUTLS_LIBPATH${ncbi_rp_R_flags}"
- fi
-           ;;
-       no)
-           ;;
-       *)
-           if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    GNUTLS_LIBPATH=`$LIBGNUTLS_CONFIG --exec-prefix | sed -e "s,^,-L,; s,$,/lib,;"`
- else
-    GNUTLS_LIBPATH=
-    ncbi_rp_L_sep=
-    ncbi_rp_R_flags=
-    ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in `$LIBGNUTLS_CONFIG --exec-prefix | sed -e "s,^,-L,; s,$,/lib,;"`; do
-       case "$x" in
-          -L*)
-             GNUTLS_LIBPATH="$GNUTLS_LIBPATH${ncbi_rp_L_sep}$x"
-             x=`echo $x | sed -e "s/^-L//; $ncbi_rpath_sed"`
-             ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
-             ncbi_rp_R_sep=:
-             ;;
-          *)
-             GNUTLS_LIBPATH="$GNUTLS_LIBPATH${ncbi_rp_R_flags}${ncbi_rp_L_sep}$x"
-             ncbi_rp_R_flags=
-             ncbi_rp_R_sep=" $CONF_f_runpath"
-             ;;
-       esac
-       ncbi_rp_L_sep=" "
-    done
-    GNUTLS_LIBPATH="$GNUTLS_LIBPATH${ncbi_rp_R_flags}"
- fi
-           ;;
-   esac
-
-   if test "x$LIBGNUTLS_CONFIG" != xno; then
-      GNUTLS_INCLUDE=`$LIBGNUTLS_CONFIG --cflags`
-      GNUTLS_CONFIG_LIBS="`$LIBGNUTLS_CONFIG --libs` $Z_LIBS"
-   fi
-else
-   $as_unset GNUTLS_CONFIG_LIBS || test "${GNUTLS_CONFIG_LIBS+set}" != set || { GNUTLS_CONFIG_LIBS=; export GNUTLS_CONFIG_LIBS; }
-fi
-if test "$with_gnutls" != "no"; then
-    case "$with_gnutls" in
-       yes | "" ) ;;
-       *        ) GNUTLS_PATH=$with_gnutls ;;
-    esac
-    if test -d "$GNUTLS_PATH"; then
-       in_path=" in $GNUTLS_PATH"
-       if test -z "$GNUTLS_INCLUDE" -a -d "$GNUTLS_PATH/include"; then
-          GNUTLS_INCLUDE="-I$GNUTLS_PATH/include"
-       fi
-       if test -n "$GNUTLS_LIBPATH"; then
-          :
-       elif test -d "$GNUTLS_PATH/lib${bit64_sfx}"; then
-          ncbi_rp_L_flags=
- ncbi_rp_L_sep=$CONF_f_libpath
- if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $GNUTLS_PATH/lib${bit64_sfx}; do
-       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
-       ncbi_rp_L_sep=" $CONF_f_libpath"
-    done
-    GNUTLS_LIBPATH="${ncbi_rp_L_flags}"
- else
-    ncbi_rp_R_flags=
-    ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $GNUTLS_PATH/lib${bit64_sfx}; do
-       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
-       ncbi_rp_L_sep=" $CONF_f_libpath"
-       x=`echo $x | sed -e "$ncbi_rpath_sed"`
-       ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
-       ncbi_rp_R_sep=:
-    done
-    GNUTLS_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
- fi
-       elif test -d "$GNUTLS_PATH/lib"; then
-          ncbi_rp_L_flags=
- ncbi_rp_L_sep=$CONF_f_libpath
- if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $GNUTLS_PATH/lib; do
-       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
-       ncbi_rp_L_sep=" $CONF_f_libpath"
-    done
-    GNUTLS_LIBPATH="${ncbi_rp_L_flags}"
- else
-    ncbi_rp_R_flags=
-    ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $GNUTLS_PATH/lib; do
-       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
-       ncbi_rp_L_sep=" $CONF_f_libpath"
-       x=`echo $x | sed -e "$ncbi_rpath_sed"`
-       ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
-       ncbi_rp_R_sep=:
-    done
-    GNUTLS_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
- fi
-       fi
-       GNUTLS_LIBS="$GNUTLS_LIBPATH -lgnutls $GNUTLS_CONFIG_LIBS $GCRYPT_LIBS"
-    else
-       GNUTLS_INCLUDE=""
-       GNUTLS_LIBS="-lgnutls $GNUTLS_CONFIG_LIBS $GCRYPT_LIBS"
-       in_path=
-    fi
-    echo "$as_me:$LINENO: checking for libgnutls$in_path" >&5
-echo $ECHO_N "checking for libgnutls$in_path... $ECHO_C" >&6
-if test "${ncbi_cv_lib_gnutls+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  CPPFLAGS=" $GNUTLS_INCLUDE $orig_CPPFLAGS"
-       LIBS="$GNUTLS_LIBS  $orig_LIBS"
-       cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <gnutls/gnutls.h>
-int
-main ()
-{
-gnutls_session_t s; gnutls_init(&s, GNUTLS_CLIENT);
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
-  ac_status=$?
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); }; } &&
-	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
-  ac_status=$?
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); }; }; then
-  ncbi_cv_lib_gnutls=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-ncbi_cv_lib_gnutls=no
-fi
-rm -f conftest.err conftest.$ac_objext \
-      conftest$ac_exeext conftest.$ac_ext
-fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_gnutls" >&5
-echo "${ECHO_T}$ncbi_cv_lib_gnutls" >&6
-    if test "$ncbi_cv_lib_gnutls" = "no"; then
-       if test "${with_gnutls:=no}" != no; then
-       { { echo "$as_me:$LINENO: error: --with-gnutls explicitly specified, but no usable version found." >&5
-echo "$as_me: error: --with-gnutls explicitly specified, but no usable version found." >&2;}
-   { (exit 1); exit 1; }; }
-    fi
-    fi
- fi
- if test "$with_gnutls" = "no"; then
-    GNUTLS_PATH="No_GNUTLS"
-    GNUTLS_INCLUDE=
-    GNUTLS_LIBS=
- else
-              WithPackages="$WithPackages${WithPackagesSep}GNUTLS"; WithPackagesSep=" "
-    GNUTLS_INCLUDE=" $GNUTLS_INCLUDE"
-
-cat >>confdefs.h <<\_ACEOF
-#define HAVE_LIBGNUTLS 1
-_ACEOF
-
- fi
-
-
-
-if test "x$with_gnutls" != xno -a -n "$GNUTLS_CONFIG_LIBS"; then
-   if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    GNUTLS_LIBS=`echo $GNUTLS_CONFIG_LIBS | sed -e "$no_usr_lib"`
- else
-    GNUTLS_LIBS=
-    ncbi_rp_L_sep=
-    ncbi_rp_R_flags=
-    ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in `echo $GNUTLS_CONFIG_LIBS | sed -e "$no_usr_lib"`; do
-       case "$x" in
-          -L*)
-             GNUTLS_LIBS="$GNUTLS_LIBS${ncbi_rp_L_sep}$x"
-             x=`echo $x | sed -e "s/^-L//; $ncbi_rpath_sed"`
-             ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
-             ncbi_rp_R_sep=:
-             ;;
-          *)
-             GNUTLS_LIBS="$GNUTLS_LIBS${ncbi_rp_R_flags}${ncbi_rp_L_sep}$x"
-             ncbi_rp_R_flags=
-             ncbi_rp_R_sep=" $CONF_f_runpath"
-             ;;
-       esac
-       ncbi_rp_L_sep=" "
-    done
-    GNUTLS_LIBS="$GNUTLS_LIBS${ncbi_rp_R_flags}"
- fi
-   case "$GNUTLS_INCLUDE" in
-       *$GCRYPT_INCLUDE* ) ;;
-       *                 ) GNUTLS_INCLUDE="$GNUTLS_INCLUDE $GCRYPT_INCLUDE" ;;
-   esac
-   case "$GNUTLS_LIBS" in
-       *\ -lgcrypt* ) ;;
-       *            ) GNUTLS_LIBS="$GNUTLS_LIBS $GCRYPT_LIBS" ;;
-   esac
-fi
-
-if test "$with_openssl" != "no"; then
-    case "$with_openssl" in
-       yes | "" ) ;;
-       *        ) OPENSSL_PATH=$with_openssl ;;
-    esac
-    if test -d "$OPENSSL_PATH"; then
-       in_path=" in $OPENSSL_PATH"
-       if test -z "$OPENSSL_INCLUDE" -a -d "$OPENSSL_PATH/include"; then
-          OPENSSL_INCLUDE="-I$OPENSSL_PATH/include"
-       fi
-       if test -n "$OPENSSL_LIBPATH"; then
-          :
-       elif test -d "$OPENSSL_PATH/lib${bit64_sfx}"; then
-          ncbi_rp_L_flags=
- ncbi_rp_L_sep=$CONF_f_libpath
- if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $OPENSSL_PATH/lib${bit64_sfx}; do
-       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
-       ncbi_rp_L_sep=" $CONF_f_libpath"
-    done
-    OPENSSL_LIBPATH="${ncbi_rp_L_flags}"
- else
-    ncbi_rp_R_flags=
-    ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $OPENSSL_PATH/lib${bit64_sfx}; do
-       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
-       ncbi_rp_L_sep=" $CONF_f_libpath"
-       x=`echo $x | sed -e "$ncbi_rpath_sed"`
-       ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
-       ncbi_rp_R_sep=:
-    done
-    OPENSSL_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
- fi
-       elif test -d "$OPENSSL_PATH/lib"; then
-          ncbi_rp_L_flags=
- ncbi_rp_L_sep=$CONF_f_libpath
- if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $OPENSSL_PATH/lib; do
-       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
-       ncbi_rp_L_sep=" $CONF_f_libpath"
-    done
-    OPENSSL_LIBPATH="${ncbi_rp_L_flags}"
- else
-    ncbi_rp_R_flags=
-    ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $OPENSSL_PATH/lib; do
-       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
-       ncbi_rp_L_sep=" $CONF_f_libpath"
-       x=`echo $x | sed -e "$ncbi_rpath_sed"`
-       ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
-       ncbi_rp_R_sep=:
-    done
-    OPENSSL_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
- fi
-       fi
-       OPENSSL_LIBS="$OPENSSL_LIBPATH -lssl -lcrypto"
-    else
-       OPENSSL_INCLUDE=""
-       OPENSSL_LIBS="-lssl -lcrypto"
-       in_path=
-    fi
-    echo "$as_me:$LINENO: checking for libssl$in_path" >&5
-echo $ECHO_N "checking for libssl$in_path... $ECHO_C" >&6
-if test "${ncbi_cv_lib_openssl+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  CPPFLAGS=" $OPENSSL_INCLUDE $orig_CPPFLAGS"
-       LIBS="$OPENSSL_LIBS  $orig_LIBS"
-       cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <openssl/ssl.h>
-int
-main ()
-{
-SSL_library_init();
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
-  ac_status=$?
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); }; } &&
-	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
-  ac_status=$?
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); }; }; then
-  ncbi_cv_lib_openssl=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-ncbi_cv_lib_openssl=no
-fi
-rm -f conftest.err conftest.$ac_objext \
-      conftest$ac_exeext conftest.$ac_ext
-fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_openssl" >&5
-echo "${ECHO_T}$ncbi_cv_lib_openssl" >&6
-    if test "$ncbi_cv_lib_openssl" = "no"; then
-       if test "${with_openssl:=no}" != no; then
-       { { echo "$as_me:$LINENO: error: --with-openssl explicitly specified, but no usable version found." >&5
-echo "$as_me: error: --with-openssl explicitly specified, but no usable version found." >&2;}
-   { (exit 1); exit 1; }; }
-    fi
-    fi
- fi
- if test "$with_openssl" = "no"; then
-    OPENSSL_PATH="No_OPENSSL"
-    OPENSSL_INCLUDE=
-    OPENSSL_LIBS=
- else
-              WithPackages="$WithPackages${WithPackagesSep}OPENSSL"; WithPackagesSep=" "
-    OPENSSL_INCLUDE=" $OPENSSL_INCLUDE"
-
-cat >>confdefs.h <<\_ACEOF
-#define HAVE_LIBOPENSSL 1
-_ACEOF
-
- fi
-
-
-
-
-OPENSSL_STATIC_LIBS=$OPENSSL_LIBS
-for d in `echo " $OPENSSL_LIBS" | fmt -w 1 | sed -ne 's/^ *-L//p'` \
-   /usr/local/lib${bit64_sfx} /usr/local/lib /usr/lib${bit64_sfx} /usr/lib; do
-   if test -f $d/libssl.a -a -f $d/libcrypto.a; then
-      OPENSSL_STATIC_LIBS="$d/libssl.a $d/libcrypto.a"
-      break
-   elif test -f $d/libssl.so -o -f $d/libssl.dylib; then
-      break
-   fi
-done
-
-if test -n "$GNUTLS_LIBS"; then
-   TLS_INCLUDE=$GNUTLS_INCLUDE
-   TLS_LIBS=$GNUTLS_LIBS
-else
-   TLS_INCLUDE=$OPENSSL_INCLUDE
-   TLS_LIBS=$OPENSSL_LIBS
-fi
-
-
-case "$with_krb5" in
-   no )       ac_cv_path_KRB5_CONFIG=no    ;;
-   yes | '' ) : ${KRB5_PATH=/usr/kerberos} ;;
-   * )        KRB5_PATH=$with_krb5         ;;
-esac
-# Extract the first word of "krb5-config", so it can be a program name with args.
-set dummy krb5-config; ac_word=$2
-echo "$as_me:$LINENO: checking for $ac_word" >&5
-echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
-if test "${ac_cv_path_KRB5_CONFIG+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  case $KRB5_CONFIG in
-  [\\/]* | ?:[\\/]*)
-  ac_cv_path_KRB5_CONFIG="$KRB5_CONFIG" # Let the user override the test with a path.
-  ;;
-  *)
-  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
-as_dummy="${KRB5_BIN-$KRB5_PATH/bin}:$PATH"
-for as_dir in $as_dummy
-do
-  IFS=$as_save_IFS
-  test -z "$as_dir" && as_dir=.
-  for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
-    ac_cv_path_KRB5_CONFIG="$as_dir/$ac_word$ac_exec_ext"
-    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
-    break 2
-  fi
-done
-done
-
-  ;;
-esac
-fi
-KRB5_CONFIG=$ac_cv_path_KRB5_CONFIG
-
-if test -n "$KRB5_CONFIG"; then
-  echo "$as_me:$LINENO: result: $KRB5_CONFIG" >&5
-echo "${ECHO_T}$KRB5_CONFIG" >&6
-else
-  echo "$as_me:$LINENO: result: no" >&5
-echo "${ECHO_T}no" >&6
-fi
-
-
-if test "x$with_krb5" != xno; then
-   if test -x "$KRB5_CONFIG"; then
-      KRB5_PATH=`$KRB5_CONFIG --prefix`
-      KRB5_INCLUDE=`$KRB5_CONFIG --cflags | \
-         sed -e 's/$/ /; s,-I/usr/include ,,'`
-      KRB5_CONFIG_LIBS=`$KRB5_CONFIG --libs gssapi | \
-         sed -e 's/^/ /; s/ -[^Ll][^ ]*//g'`
-   fi
-else
-      KRB5_CONFIG_LIBS=$KRB5_LIBS
-fi
-if test "$with_krb5" != "no"; then
-    case "$with_krb5" in
-       yes | "" ) ;;
-       *        ) KRB5_PATH=$with_krb5 ;;
-    esac
-    if test -d "$KRB5_PATH"; then
-       in_path=" in $KRB5_PATH"
-       if test -z "$KRB5_INCLUDE" -a -d "$KRB5_PATH/include"; then
-          KRB5_INCLUDE="-I$KRB5_PATH/include"
-       fi
-       if test -n "$KRB5_LIBPATH"; then
-          :
-       elif test -d "$KRB5_PATH/lib${bit64_sfx}"; then
-          ncbi_rp_L_flags=
- ncbi_rp_L_sep=$CONF_f_libpath
- if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $KRB5_PATH/lib${bit64_sfx}; do
-       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
-       ncbi_rp_L_sep=" $CONF_f_libpath"
-    done
-    KRB5_LIBPATH="${ncbi_rp_L_flags}"
- else
-    ncbi_rp_R_flags=
-    ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $KRB5_PATH/lib${bit64_sfx}; do
-       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
-       ncbi_rp_L_sep=" $CONF_f_libpath"
-       x=`echo $x | sed -e "$ncbi_rpath_sed"`
-       ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
-       ncbi_rp_R_sep=:
-    done
-    KRB5_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
- fi
-       elif test -d "$KRB5_PATH/lib"; then
-          ncbi_rp_L_flags=
- ncbi_rp_L_sep=$CONF_f_libpath
- if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $KRB5_PATH/lib; do
-       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
-       ncbi_rp_L_sep=" $CONF_f_libpath"
-    done
-    KRB5_LIBPATH="${ncbi_rp_L_flags}"
- else
-    ncbi_rp_R_flags=
-    ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $KRB5_PATH/lib; do
-       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
-       ncbi_rp_L_sep=" $CONF_f_libpath"
-       x=`echo $x | sed -e "$ncbi_rpath_sed"`
-       ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
-       ncbi_rp_R_sep=:
-    done
-    KRB5_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
- fi
-       fi
-       KRB5_LIBS="$KRB5_LIBPATH -lgssapi_krb5 $KRB5_CONFIG_LIBS"
-    else
-       KRB5_INCLUDE=""
-       KRB5_LIBS="-lgssapi_krb5 $KRB5_CONFIG_LIBS"
-       in_path=
-    fi
-    echo "$as_me:$LINENO: checking for libgssapi_krb5$in_path" >&5
-echo $ECHO_N "checking for libgssapi_krb5$in_path... $ECHO_C" >&6
-if test "${ncbi_cv_lib_krb5+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  CPPFLAGS=" $KRB5_INCLUDE $orig_CPPFLAGS"
-       LIBS="$KRB5_LIBS  $orig_LIBS"
-       cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <time.h>
-extern "C" {
-#include <gssapi/gssapi_krb5.h>
-}
-int
-main ()
-{
-OM_uint32 min_stat;
-     gss_buffer_desc buf;
-     gss_release_buffer(&min_stat, &buf);
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
-  ac_status=$?
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); }; } &&
-	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
-  ac_status=$?
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); }; }; then
-  ncbi_cv_lib_krb5=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-ncbi_cv_lib_krb5=no
-fi
-rm -f conftest.err conftest.$ac_objext \
-      conftest$ac_exeext conftest.$ac_ext
-fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_krb5" >&5
-echo "${ECHO_T}$ncbi_cv_lib_krb5" >&6
-    if test "$ncbi_cv_lib_krb5" = "no"; then
-       if test "${with_krb5:=no}" != no; then
-       { { echo "$as_me:$LINENO: error: --with-krb5 explicitly specified, but no usable version found." >&5
-echo "$as_me: error: --with-krb5 explicitly specified, but no usable version found." >&2;}
-   { (exit 1); exit 1; }; }
-    fi
-    fi
- fi
- if test "$with_krb5" = "no"; then
-    KRB5_PATH="No_KRB5"
-    KRB5_INCLUDE=
-    KRB5_LIBS=
- else
-              WithPackages="$WithPackages${WithPackagesSep}KRB5"; WithPackagesSep=" "
-    KRB5_INCLUDE=" $KRB5_INCLUDE"
-
-cat >>confdefs.h <<\_ACEOF
-#define HAVE_LIBKRB5 1
-_ACEOF
-
- fi
-
-
-
-if test "x$with_krb5" != xno; then
-   if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    KRB5_LIBS=`echo $KRB5_CONFIG_LIBS | sed -e "$no_usr_lib"`
- else
-    KRB5_LIBS=
-    ncbi_rp_L_sep=
-    ncbi_rp_R_flags=
-    ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in `echo $KRB5_CONFIG_LIBS | sed -e "$no_usr_lib"`; do
-       case "$x" in
-          -L*)
-             KRB5_LIBS="$KRB5_LIBS${ncbi_rp_L_sep}$x"
-             x=`echo $x | sed -e "s/^-L//; $ncbi_rpath_sed"`
-             ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
-             ncbi_rp_R_sep=:
-             ;;
-          *)
-             KRB5_LIBS="$KRB5_LIBS${ncbi_rp_R_flags}${ncbi_rp_L_sep}$x"
-             ncbi_rp_R_flags=
-             ncbi_rp_R_sep=" $CONF_f_runpath"
-             ;;
-       esac
-       ncbi_rp_L_sep=" "
-    done
-    KRB5_LIBS="$KRB5_LIBS${ncbi_rp_R_flags}"
- fi
-fi
-
-
-if test "$with_curl" != "no"; then
-    case "$with_curl" in
-       yes | "" ) ;;
-       *        ) CURL_PATH=$with_curl ;;
-    esac
-    if test -d "$CURL_PATH"; then
-       in_path=" in $CURL_PATH"
-       if test -z "$CURL_INCLUDE" -a -d "$CURL_PATH/include"; then
-          CURL_INCLUDE="-I$CURL_PATH/include"
-       fi
-       if test -n "$CURL_LIBPATH"; then
-          :
-       elif test -d "$CURL_PATH/lib${bit64_sfx}"; then
-          ncbi_rp_L_flags=
- ncbi_rp_L_sep=$CONF_f_libpath
- if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $CURL_PATH/lib${bit64_sfx}; do
-       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
-       ncbi_rp_L_sep=" $CONF_f_libpath"
-    done
-    CURL_LIBPATH="${ncbi_rp_L_flags}"
- else
-    ncbi_rp_R_flags=
-    ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $CURL_PATH/lib${bit64_sfx}; do
-       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
-       ncbi_rp_L_sep=" $CONF_f_libpath"
-       x=`echo $x | sed -e "$ncbi_rpath_sed"`
-       ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
-       ncbi_rp_R_sep=:
-    done
-    CURL_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
- fi
-       elif test -d "$CURL_PATH/lib"; then
-          ncbi_rp_L_flags=
- ncbi_rp_L_sep=$CONF_f_libpath
- if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $CURL_PATH/lib; do
-       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
-       ncbi_rp_L_sep=" $CONF_f_libpath"
-    done
-    CURL_LIBPATH="${ncbi_rp_L_flags}"
- else
-    ncbi_rp_R_flags=
-    ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $CURL_PATH/lib; do
-       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
-       ncbi_rp_L_sep=" $CONF_f_libpath"
-       x=`echo $x | sed -e "$ncbi_rpath_sed"`
-       ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
-       ncbi_rp_R_sep=:
-    done
-    CURL_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
- fi
-       fi
-       CURL_LIBS="$CURL_LIBPATH -lcurl "
-    else
-       CURL_INCLUDE=""
-       CURL_LIBS="-lcurl "
-       in_path=
-    fi
-    echo "$as_me:$LINENO: checking for libcurl$in_path" >&5
-echo $ECHO_N "checking for libcurl$in_path... $ECHO_C" >&6
-if test "${ncbi_cv_lib_curl+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  CPPFLAGS=" $CURL_INCLUDE $orig_CPPFLAGS"
-       LIBS="$CURL_LIBS  $orig_LIBS"
-       cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <curl/curl.h>
-int
-main ()
-{
-char* v = curl_version();
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
-  ac_status=$?
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); }; } &&
-	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
-  ac_status=$?
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); }; }; then
-  ncbi_cv_lib_curl=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-ncbi_cv_lib_curl=no
-fi
-rm -f conftest.err conftest.$ac_objext \
-      conftest$ac_exeext conftest.$ac_ext
-fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_curl" >&5
-echo "${ECHO_T}$ncbi_cv_lib_curl" >&6
-    if test "$ncbi_cv_lib_curl" = "no"; then
-       if test "${with_curl:=no}" != no; then
-       { { echo "$as_me:$LINENO: error: --with-curl explicitly specified, but no usable version found." >&5
-echo "$as_me: error: --with-curl explicitly specified, but no usable version found." >&2;}
-   { (exit 1); exit 1; }; }
-    fi
-    fi
- fi
- if test "$with_curl" = "no"; then
-    CURL_PATH="No_CURL"
-    CURL_INCLUDE=
-    CURL_LIBS=
- else
-              WithPackages="$WithPackages${WithPackagesSep}CURL"; WithPackagesSep=" "
-    CURL_INCLUDE=" $CURL_INCLUDE"
-
-cat >>confdefs.h <<\_ACEOF
-#define HAVE_LIBCURL 1
+#define HAVE_LIBCURL 1
 _ACEOF
 
  fi
@@ -23074,8 +26591,8 @@
    SYBASE_LIBPATH="$SYBASE_PATH/${sybase_lib}"
    syb_sfx=$bit64_sfx
    if test "$with_mt" = "yes" ; then
-      echo "$as_me:$LINENO: checking for reentrant Sybase libraries" >&5
-echo $ECHO_N "checking for reentrant Sybase libraries... $ECHO_C" >&6
+      { echo "$as_me:$LINENO: checking for reentrant Sybase libraries" >&5
+echo $ECHO_N "checking for reentrant Sybase libraries... $ECHO_C" >&6; }
 if test "${ncbi_cv_lib_sybase_r+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -23085,8 +26602,8 @@
              ncbi_cv_lib_sybase_r=no
           fi
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_sybase_r" >&5
-echo "${ECHO_T}$ncbi_cv_lib_sybase_r" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_sybase_r" >&5
+echo "${ECHO_T}$ncbi_cv_lib_sybase_r" >&6; }
       if test $ncbi_cv_lib_sybase_r = yes; then
          syb_sfx=_r$bit64_sfx
       fi
@@ -23164,8 +26681,8 @@
    SYBASE_DBLIBS="$SYBASE_LPATH $SYBASE_DBLIBS"
    SYBASE_DLLS="$SYBASE_DLLLIST"
 
-   echo "$as_me:$LINENO: checking for Sybase in $SYBASE_PATH" >&5
-echo $ECHO_N "checking for Sybase in $SYBASE_PATH... $ECHO_C" >&6
+   { echo "$as_me:$LINENO: checking for Sybase${SYBASE_PATH:+ in $SYBASE_PATH}" >&5
+echo $ECHO_N "checking for Sybase${SYBASE_PATH:+ in $SYBASE_PATH}... $ECHO_C" >&6; }
 if test "${ncbi_cv_lib_sybase+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -23187,24 +26704,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -23215,11 +26744,12 @@
 
 ncbi_cv_lib_sybase=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_sybase" >&5
-echo "${ECHO_T}$ncbi_cv_lib_sybase" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_sybase" >&5
+echo "${ECHO_T}$ncbi_cv_lib_sybase" >&6; }
 
    if test "$ncbi_cv_lib_sybase" = yes; then
                 WithPackages="$WithPackages${WithPackagesSep}Sybase"; WithPackagesSep=" "
@@ -23236,8 +26766,8 @@
 
       fi
       if test "$with_dbapi" != no -a -f ${real_srcdir}/src/objtools/data_loaders/genbank/pubseq/Makefile.ncbi_xreader_pubseqos.lib ; then
-         echo "$as_me:$LINENO: checking for PubSeq service availability" >&5
-echo $ECHO_N "checking for PubSeq service availability... $ECHO_C" >&6
+         { echo "$as_me:$LINENO: checking for PubSeq service availability" >&5
+echo $ECHO_N "checking for PubSeq service availability... $ECHO_C" >&6; }
 if test "${ncbi_cv_db_pubseq+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -23247,8 +26777,8 @@
                 ncbi_cv_db_pubseq=no
              fi
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_db_pubseq" >&5
-echo "${ECHO_T}$ncbi_cv_db_pubseq" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_db_pubseq" >&5
+echo "${ECHO_T}$ncbi_cv_db_pubseq" >&6; }
          if test "$ncbi_cv_db_pubseq" = yes; then
 
 cat >>confdefs.h <<\_ACEOF
@@ -23263,8 +26793,8 @@
       fi
 
       SYBASE_DBLIBS="$SYBASE_LPATH -lsybdb${bit64_sfx}"
-      echo "$as_me:$LINENO: checking for Sybase DBLib" >&5
-echo $ECHO_N "checking for Sybase DBLib... $ECHO_C" >&6
+      { echo "$as_me:$LINENO: checking for Sybase DBLib" >&5
+echo $ECHO_N "checking for Sybase DBLib... $ECHO_C" >&6; }
 if test "${ncbi_cv_lib_sybdb+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -23292,24 +26822,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -23320,11 +26862,12 @@
 
 ncbi_cv_lib_sybdb=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_sybdb" >&5
-echo "${ECHO_T}$ncbi_cv_lib_sybdb" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_sybdb" >&5
+echo "${ECHO_T}$ncbi_cv_lib_sybdb" >&6; }
       if test "$ncbi_cv_lib_sybdb" = yes; then
                    WithPackages="$WithPackages${WithPackagesSep}DBLib"; WithPackagesSep=" "
 
@@ -23431,8 +26974,8 @@
 echo "$as_me: Using bundled FreeTDS (version $ftds_ver) from $FTDS_PATH" >&6;}
    else
       FTDS_LIBS="$FTDS_CTLIBS"
-      echo "$as_me:$LINENO: checking for FreeTDS in $FTDS_PATH" >&5
-echo $ECHO_N "checking for FreeTDS in $FTDS_PATH... $ECHO_C" >&6
+      { echo "$as_me:$LINENO: checking for FreeTDS${FTDS_PATH:+ in $FTDS_PATH}" >&5
+echo $ECHO_N "checking for FreeTDS${FTDS_PATH:+ in $FTDS_PATH}... $ECHO_C" >&6; }
 if test "${ncbi_cv_lib_freetds+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -23463,24 +27006,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -23491,11 +27046,12 @@
 
 ncbi_cv_lib_freetds=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_freetds" >&5
-echo "${ECHO_T}$ncbi_cv_lib_freetds" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_freetds" >&5
+echo "${ECHO_T}$ncbi_cv_lib_freetds" >&6; }
       if test "$ncbi_cv_lib_freetds" = "no"; then
          # Don't panic when using partial trees lacking dbapi/driver/ftdsN.
          if test "${with_ftds:=no}" != no; then
@@ -23548,8 +27104,8 @@
    : ${MYSQL_BINPATH=$MYSQL_PATH/bin}
    # Extract the first word of "mysql_config", so it can be a program name with args.
 set dummy mysql_config; ac_word=$2
-echo "$as_me:$LINENO: checking for $ac_word" >&5
-echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
 if test "${ac_cv_path_mysql_config+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -23565,40 +27121,41 @@
   IFS=$as_save_IFS
   test -z "$as_dir" && as_dir=.
   for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
+  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; }; then
     ac_cv_path_mysql_config="$as_dir/$ac_word$ac_exec_ext"
     echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
     break 2
   fi
 done
 done
+IFS=$as_save_IFS
 
   ;;
 esac
 fi
 mysql_config=$ac_cv_path_mysql_config
-
 if test -n "$mysql_config"; then
-  echo "$as_me:$LINENO: result: $mysql_config" >&5
-echo "${ECHO_T}$mysql_config" >&6
+  { echo "$as_me:$LINENO: result: $mysql_config" >&5
+echo "${ECHO_T}$mysql_config" >&6; }
 else
-  echo "$as_me:$LINENO: result: no" >&5
-echo "${ECHO_T}no" >&6
+  { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
 fi
 
+
    if test -n "$mysql_config" ; then
       : ${MYSQL_BINPATH=`dirname $mysql_config`}
       # Kill off single quotes, due to later requoting
       : ${MYSQL_INCLUDE=`$mysql_config --include | tr -d \'`}
       if test -z "${MYSQL_LIBS+set}"; then
     if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    MYSQL_LIBS=`$mysql_config --libs${mt_sfx:+_r} | sed -e "s/'//g; "`
+    MYSQL_LIBS=`$mysql_config --libs${mt_sfx:+_r} | sed -e "s/'//g; $no_usr_lib"`
  else
     MYSQL_LIBS=
     ncbi_rp_L_sep=
     ncbi_rp_R_flags=
     ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in `$mysql_config --libs${mt_sfx:+_r} | sed -e "s/'//g; "`; do
+    for x in `$mysql_config --libs${mt_sfx:+_r} | sed -e "s/'//g; $no_usr_lib"`; do
        case "$x" in
           -L*)
              MYSQL_LIBS="$MYSQL_LIBS${ncbi_rp_L_sep}$x"
@@ -23617,8 +27174,8 @@
     MYSQL_LIBS="$MYSQL_LIBS${ncbi_rp_R_flags}"
  fi
  fi
-      echo "$as_me:$LINENO: checking whether MySQL works" >&5
-echo $ECHO_N "checking whether MySQL works... $ECHO_C" >&6
+      { echo "$as_me:$LINENO: checking whether MySQL works" >&5
+echo $ECHO_N "checking whether MySQL works... $ECHO_C" >&6; }
 if test "${ncbi_cv_lib_mysql+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -23640,24 +27197,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -23668,11 +27237,12 @@
 
 ncbi_cv_lib_mysql=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_mysql" >&5
-echo "${ECHO_T}$ncbi_cv_lib_mysql" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_mysql" >&5
+echo "${ECHO_T}$ncbi_cv_lib_mysql" >&6; }
       if test "$ncbi_cv_lib_mysql" = no; then
          if test "${with_mysql:=no}" != no; then
        { { echo "$as_me:$LINENO: error: --with-mysql explicitly specified, but no usable version found." >&5
@@ -23706,7 +27276,6 @@
 if test "$with_bdb" != "no" ; then
    case "$with_bdb" in
       yes | "" )
-         : ${BERKELEYDB_PATH:="$NCBI/BerkeleyDB"}
          ;;
       */*)
           BERKELEYDB_PATH=$with_bdb
@@ -23794,8 +27363,8 @@
    else
       BERKELEYDB_STATIC_LIBS=${BERKELEYDB_LIBS}
    fi
-   echo "$as_me:$LINENO: checking for Berkeley DB libraries in $BERKELEYDB_PATH" >&5
-echo $ECHO_N "checking for Berkeley DB libraries in $BERKELEYDB_PATH... $ECHO_C" >&6
+   { echo "$as_me:$LINENO: checking for Berkeley DB libraries${BERKELEYDB_PATH:+ in $BERKELEYDB_PATH}" >&5
+echo $ECHO_N "checking for Berkeley DB libraries${BERKELEYDB_PATH:+ in $BERKELEYDB_PATH}... $ECHO_C" >&6; }
 if test "${ncbi_cv_lib_berkeley_db+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -23817,24 +27386,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -23845,11 +27426,12 @@
 
 ncbi_cv_lib_berkeley_db=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_berkeley_db" >&5
-echo "${ECHO_T}$ncbi_cv_lib_berkeley_db" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_berkeley_db" >&5
+echo "${ECHO_T}$ncbi_cv_lib_berkeley_db" >&6; }
    if test "$ncbi_cv_lib_berkeley_db" = "no"; then
       if test "${with_bdb:=no}" != no; then
        { { echo "$as_me:$LINENO: error: --with-bdb explicitly specified, but no usable version found." >&5
@@ -23857,8 +27439,8 @@
    { (exit 1); exit 1; }; }
     fi
    else
-      echo "$as_me:$LINENO: checking Berkeley DB version (4.3 or newer required)" >&5
-echo $ECHO_N "checking Berkeley DB version (4.3 or newer required)... $ECHO_C" >&6
+      { echo "$as_me:$LINENO: checking Berkeley DB version (4.3 or newer required)" >&5
+echo $ECHO_N "checking Berkeley DB version (4.3 or newer required)... $ECHO_C" >&6; }
 if test "${ncbi_cv_lib_berkeley_db_version+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -23880,8 +27462,8 @@
           rm -f contest*
 
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_berkeley_db_version" >&5
-echo "${ECHO_T}$ncbi_cv_lib_berkeley_db_version" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_berkeley_db_version" >&5
+echo "${ECHO_T}$ncbi_cv_lib_berkeley_db_version" >&6; }
       case "$ncbi_cv_lib_berkeley_db_version" in
          1.* | 2.* | 3.* | 4.[0-2].* )
             { echo "$as_me:$LINENO: WARNING: Your Berkeley DB version is too old to use.  (Needed >= 4.3.)" >&5
@@ -23948,8 +27530,8 @@
    else
       BERKELEYDB_CXX_STATIC_LIBS=${BERKELEYDB_CXX_LIBS}
    fi
-   echo "$as_me:$LINENO: checking for native Berkeley DB C++ wrappers (optional)" >&5
-echo $ECHO_N "checking for native Berkeley DB C++ wrappers (optional)... $ECHO_C" >&6
+   { echo "$as_me:$LINENO: checking for native Berkeley DB C++ wrappers (optional)" >&5
+echo $ECHO_N "checking for native Berkeley DB C++ wrappers (optional)... $ECHO_C" >&6; }
 if test "${ncbi_cv_lib_berkeley_db_cxx+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -23971,24 +27553,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -23999,11 +27593,12 @@
 
 ncbi_cv_lib_berkeley_db_cxx=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_berkeley_db_cxx" >&5
-echo "${ECHO_T}$ncbi_cv_lib_berkeley_db_cxx" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_berkeley_db_cxx" >&5
+echo "${ECHO_T}$ncbi_cv_lib_berkeley_db_cxx" >&6; }
    if test "$ncbi_cv_lib_berkeley_db_cxx" = "yes"; then
                 WithPackages="$WithPackages${WithPackagesSep}BerkeleyDB++"; WithPackagesSep=" "
 
@@ -24052,8 +27647,8 @@
  fi
    CPPFLAGS="$ODBC_INCLUDE $orig_CPPFLAGS"
    LIBS="$ODBC_LIBS $orig_LIBS"
-   echo "$as_me:$LINENO: checking for ODBC libraries in $ODBC_PATH" >&5
-echo $ECHO_N "checking for ODBC libraries in $ODBC_PATH... $ECHO_C" >&6
+   { echo "$as_me:$LINENO: checking for ODBC libraries${ODBC_PATH:+ in $ODBC_PATH}" >&5
+echo $ECHO_N "checking for ODBC libraries${ODBC_PATH:+ in $ODBC_PATH}... $ECHO_C" >&6; }
 if test "${ncbi_cv_lib_odbc+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -24074,24 +27669,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -24102,11 +27709,12 @@
 
 ncbi_cv_lib_odbc=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_odbc" >&5
-echo "${ECHO_T}$ncbi_cv_lib_odbc" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_odbc" >&5
+echo "${ECHO_T}$ncbi_cv_lib_odbc" >&6; }
    if test "$ncbi_cv_lib_odbc" = "no"; then
                   if test "${with_odbc:=no}" != no; then
        { { echo "$as_me:$LINENO: error: --with-odbc explicitly specified, but no usable version found." >&5
@@ -24119,9 +27727,9 @@
 for ac_header in odbcss.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
-echo "$as_me:$LINENO: checking for $ac_header" >&5
-echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
-if eval "test \"\${$as_ac_Header+set}\" = set"; then
+{ echo "$as_me:$LINENO: checking for $ac_header" >&5
+echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6; }
+if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   cat >conftest.$ac_ext <<_ACEOF
@@ -24135,24 +27743,36 @@
 #include <$ac_header>
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -24163,10 +27783,12 @@
 
 eval "$as_ac_Header=no"
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`" >&5
-echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
+ac_res=`eval echo '${'$as_ac_Header'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
 if test `eval echo '${'$as_ac_Header'}'` = yes; then
   cat >>confdefs.h <<_ACEOF
 #define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
@@ -24181,9 +27803,9 @@
 for ac_func in SQLGetPrivateProfileString
 do
 as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
-echo "$as_me:$LINENO: checking for $ac_func" >&5
-echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6
-if eval "test \"\${$as_ac_var+set}\" = set"; then
+{ echo "$as_me:$LINENO: checking for $ac_func" >&5
+echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6; }
+if { as_var=$as_ac_var; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   cat >conftest.$ac_ext <<_ACEOF
@@ -24209,53 +27831,59 @@
 
 #undef $ac_func
 
-/* Override any gcc2 internal prototype to avoid an error.  */
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
 #ifdef __cplusplus
 extern "C"
-{
 #endif
-/* We use char because int might match the return type of a gcc2
-   builtin and then its argument prototype would still apply.  */
 char $ac_func ();
 /* The GNU C library defines this for functions which it implements
     to always fail with ENOSYS.  Some functions are actually named
     something starting with __ and the normal name is an alias.  */
-#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
+#if defined __stub_$ac_func || defined __stub___$ac_func
 choke me
-#else
-char (*f) () = $ac_func;
-#endif
-#ifdef __cplusplus
-}
 #endif
 
 int
 main ()
 {
-return f != $ac_func;
+return $ac_func ();
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -24266,11 +27894,13 @@
 
 eval "$as_ac_var=no"
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_var'}'`" >&5
-echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
+ac_res=`eval echo '${'$as_ac_var'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
 if test `eval echo '${'$as_ac_var'}'` = yes; then
   cat >>confdefs.h <<_ACEOF
 #define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
@@ -24279,8 +27909,8 @@
 fi
 done
 
-      echo "$as_me:$LINENO: checking for SQLLEN" >&5
-echo $ECHO_N "checking for SQLLEN... $ECHO_C" >&6
+      { echo "$as_me:$LINENO: checking for SQLLEN" >&5
+echo $ECHO_N "checking for SQLLEN... $ECHO_C" >&6; }
 if test "${ac_cv_type_SQLLEN+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -24292,36 +27922,49 @@
 /* end confdefs.h.  */
 #include <sqltypes.h>
 
+typedef SQLLEN ac__type_new_;
 int
 main ()
 {
-if ((SQLLEN *) 0)
+if ((ac__type_new_ *) 0)
   return 0;
-if (sizeof (SQLLEN))
+if (sizeof (ac__type_new_))
   return 0;
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -24332,10 +27975,11 @@
 
 ac_cv_type_SQLLEN=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ac_cv_type_SQLLEN" >&5
-echo "${ECHO_T}$ac_cv_type_SQLLEN" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_type_SQLLEN" >&5
+echo "${ECHO_T}$ac_cv_type_SQLLEN" >&6; }
 if test $ac_cv_type_SQLLEN = yes; then
 
 cat >>confdefs.h <<_ACEOF
@@ -24346,8 +27990,8 @@
 fi
 
 
-      echo "$as_me:$LINENO: checking whether SQLColAttribute's last argument is an SQLLEN *" >&5
-echo $ECHO_N "checking whether SQLColAttribute's last argument is an SQLLEN *... $ECHO_C" >&6
+      { echo "$as_me:$LINENO: checking whether SQLColAttribute's last argument is an SQLLEN *" >&5
+echo $ECHO_N "checking whether SQLColAttribute's last argument is an SQLLEN *... $ECHO_C" >&6; }
 if test "${ncbi_cv_func_sqlcolattribute_sqllen+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -24370,24 +28014,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -24398,10 +28054,11 @@
 
 ncbi_cv_func_sqlcolattribute_sqllen=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_func_sqlcolattribute_sqllen" >&5
-echo "${ECHO_T}$ncbi_cv_func_sqlcolattribute_sqllen" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_func_sqlcolattribute_sqllen" >&5
+echo "${ECHO_T}$ncbi_cv_func_sqlcolattribute_sqllen" >&6; }
       if test $ncbi_cv_func_sqlcolattribute_sqllen = yes; then
 
 cat >>confdefs.h <<\_ACEOF
@@ -24442,8 +28099,8 @@
    esac
    # Extract the first word of "python", so it can be a program name with args.
 set dummy python; ac_word=$2
-echo "$as_me:$LINENO: checking for $ac_word" >&5
-echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
 if test "${ac_cv_path_PYTHON+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -24459,27 +28116,28 @@
   IFS=$as_save_IFS
   test -z "$as_dir" && as_dir=.
   for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
+  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; }; then
     ac_cv_path_PYTHON="$as_dir/$ac_word$ac_exec_ext"
     echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
     break 2
   fi
 done
 done
+IFS=$as_save_IFS
 
   ;;
 esac
 fi
 PYTHON=$ac_cv_path_PYTHON
-
 if test -n "$PYTHON"; then
-  echo "$as_me:$LINENO: result: $PYTHON" >&5
-echo "${ECHO_T}$PYTHON" >&6
+  { echo "$as_me:$LINENO: result: $PYTHON" >&5
+echo "${ECHO_T}$PYTHON" >&6; }
 else
-  echo "$as_me:$LINENO: result: no" >&5
-echo "${ECHO_T}no" >&6
+  { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
 fi
 
+
  if test -x "$PYTHON"; then
     PYTHON_VERSION=`$PYTHON -c 'from distutils import sysconfig; print sysconfig.get_config_var("VERSION")' 2>/dev/null`
  else
@@ -24512,8 +28170,8 @@
  fi
     CPPFLAGS="$PYTHON_INCLUDE $orig_CPPFLAGS"
     LIBS="$PYTHON_LIBS $orig_LIBS"
-    echo "$as_me:$LINENO: checking for usable Python $PYTHON_VERSION libraries" >&5
-echo $ECHO_N "checking for usable Python $PYTHON_VERSION libraries... $ECHO_C" >&6
+    { echo "$as_me:$LINENO: checking for usable Python $PYTHON_VERSION libraries" >&5
+echo $ECHO_N "checking for usable Python $PYTHON_VERSION libraries... $ECHO_C" >&6; }
 if test "${ncbi_cv_lib_python+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -24540,24 +28198,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -24568,11 +28238,12 @@
 
 ncbi_cv_lib_python=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_python" >&5
-echo "${ECHO_T}$ncbi_cv_lib_python" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_python" >&5
+echo "${ECHO_T}$ncbi_cv_lib_python" >&6; }
  else
     ncbi_cv_lib_python=no
  fi
@@ -24592,8 +28263,8 @@
 
    # Extract the first word of "python2.3", so it can be a program name with args.
 set dummy python2.3; ac_word=$2
-echo "$as_me:$LINENO: checking for $ac_word" >&5
-echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
 if test "${ac_cv_path_PYTHON23+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -24609,27 +28280,28 @@
   IFS=$as_save_IFS
   test -z "$as_dir" && as_dir=.
   for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
+  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; }; then
     ac_cv_path_PYTHON23="$as_dir/$ac_word$ac_exec_ext"
     echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
     break 2
   fi
 done
 done
+IFS=$as_save_IFS
 
   ;;
 esac
 fi
 PYTHON23=$ac_cv_path_PYTHON23
-
 if test -n "$PYTHON23"; then
-  echo "$as_me:$LINENO: result: $PYTHON23" >&5
-echo "${ECHO_T}$PYTHON23" >&6
+  { echo "$as_me:$LINENO: result: $PYTHON23" >&5
+echo "${ECHO_T}$PYTHON23" >&6; }
 else
-  echo "$as_me:$LINENO: result: no" >&5
-echo "${ECHO_T}no" >&6
+  { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
 fi
 
+
  if test -x "$PYTHON23"; then
     PYTHON23_VERSION=`$PYTHON23 -c 'from distutils import sysconfig; print sysconfig.get_config_var("VERSION")' 2>/dev/null`
  else
@@ -24662,8 +28334,8 @@
  fi
     CPPFLAGS="$PYTHON23_INCLUDE $orig_CPPFLAGS"
     LIBS="$PYTHON23_LIBS $orig_LIBS"
-    echo "$as_me:$LINENO: checking for usable Python $PYTHON23_VERSION libraries" >&5
-echo $ECHO_N "checking for usable Python $PYTHON23_VERSION libraries... $ECHO_C" >&6
+    { echo "$as_me:$LINENO: checking for usable Python $PYTHON23_VERSION libraries" >&5
+echo $ECHO_N "checking for usable Python $PYTHON23_VERSION libraries... $ECHO_C" >&6; }
 if test "${ncbi_cv_lib_python23+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -24690,24 +28362,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -24718,11 +28402,12 @@
 
 ncbi_cv_lib_python23=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_python23" >&5
-echo "${ECHO_T}$ncbi_cv_lib_python23" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_python23" >&5
+echo "${ECHO_T}$ncbi_cv_lib_python23" >&6; }
  else
     ncbi_cv_lib_python23=no
  fi
@@ -24743,8 +28428,8 @@
    : ${PYTHON_PATH:="/usr/local/python-2.4.4"}
    # Extract the first word of "python2.4", so it can be a program name with args.
 set dummy python2.4; ac_word=$2
-echo "$as_me:$LINENO: checking for $ac_word" >&5
-echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
 if test "${ac_cv_path_PYTHON24+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -24760,27 +28445,28 @@
   IFS=$as_save_IFS
   test -z "$as_dir" && as_dir=.
   for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
+  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; }; then
     ac_cv_path_PYTHON24="$as_dir/$ac_word$ac_exec_ext"
     echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
     break 2
   fi
 done
 done
+IFS=$as_save_IFS
 
   ;;
 esac
 fi
 PYTHON24=$ac_cv_path_PYTHON24
-
 if test -n "$PYTHON24"; then
-  echo "$as_me:$LINENO: result: $PYTHON24" >&5
-echo "${ECHO_T}$PYTHON24" >&6
+  { echo "$as_me:$LINENO: result: $PYTHON24" >&5
+echo "${ECHO_T}$PYTHON24" >&6; }
 else
-  echo "$as_me:$LINENO: result: no" >&5
-echo "${ECHO_T}no" >&6
+  { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
 fi
 
+
  if test -x "$PYTHON24"; then
     PYTHON24_VERSION=`$PYTHON24 -c 'from distutils import sysconfig; print sysconfig.get_config_var("VERSION")' 2>/dev/null`
  else
@@ -24813,8 +28499,8 @@
  fi
     CPPFLAGS="$PYTHON24_INCLUDE $orig_CPPFLAGS"
     LIBS="$PYTHON24_LIBS $orig_LIBS"
-    echo "$as_me:$LINENO: checking for usable Python $PYTHON24_VERSION libraries" >&5
-echo $ECHO_N "checking for usable Python $PYTHON24_VERSION libraries... $ECHO_C" >&6
+    { echo "$as_me:$LINENO: checking for usable Python $PYTHON24_VERSION libraries" >&5
+echo $ECHO_N "checking for usable Python $PYTHON24_VERSION libraries... $ECHO_C" >&6; }
 if test "${ncbi_cv_lib_python24+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -24841,24 +28527,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -24869,11 +28567,12 @@
 
 ncbi_cv_lib_python24=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_python24" >&5
-echo "${ECHO_T}$ncbi_cv_lib_python24" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_python24" >&5
+echo "${ECHO_T}$ncbi_cv_lib_python24" >&6; }
  else
     ncbi_cv_lib_python24=no
  fi
@@ -24893,8 +28592,8 @@
 
    # Extract the first word of "python2.5", so it can be a program name with args.
 set dummy python2.5; ac_word=$2
-echo "$as_me:$LINENO: checking for $ac_word" >&5
-echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
 if test "${ac_cv_path_PYTHON25+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -24910,27 +28609,28 @@
   IFS=$as_save_IFS
   test -z "$as_dir" && as_dir=.
   for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
+  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; }; then
     ac_cv_path_PYTHON25="$as_dir/$ac_word$ac_exec_ext"
     echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
     break 2
   fi
 done
 done
+IFS=$as_save_IFS
 
   ;;
 esac
 fi
 PYTHON25=$ac_cv_path_PYTHON25
-
 if test -n "$PYTHON25"; then
-  echo "$as_me:$LINENO: result: $PYTHON25" >&5
-echo "${ECHO_T}$PYTHON25" >&6
+  { echo "$as_me:$LINENO: result: $PYTHON25" >&5
+echo "${ECHO_T}$PYTHON25" >&6; }
 else
-  echo "$as_me:$LINENO: result: no" >&5
-echo "${ECHO_T}no" >&6
+  { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
 fi
 
+
  if test -x "$PYTHON25"; then
     PYTHON25_VERSION=`$PYTHON25 -c 'from distutils import sysconfig; print sysconfig.get_config_var("VERSION")' 2>/dev/null`
  else
@@ -24963,8 +28663,8 @@
  fi
     CPPFLAGS="$PYTHON25_INCLUDE $orig_CPPFLAGS"
     LIBS="$PYTHON25_LIBS $orig_LIBS"
-    echo "$as_me:$LINENO: checking for usable Python $PYTHON25_VERSION libraries" >&5
-echo $ECHO_N "checking for usable Python $PYTHON25_VERSION libraries... $ECHO_C" >&6
+    { echo "$as_me:$LINENO: checking for usable Python $PYTHON25_VERSION libraries" >&5
+echo $ECHO_N "checking for usable Python $PYTHON25_VERSION libraries... $ECHO_C" >&6; }
 if test "${ncbi_cv_lib_python25+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -24991,24 +28691,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -25019,11 +28731,12 @@
 
 ncbi_cv_lib_python25=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_python25" >&5
-echo "${ECHO_T}$ncbi_cv_lib_python25" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_python25" >&5
+echo "${ECHO_T}$ncbi_cv_lib_python25" >&6; }
  else
     ncbi_cv_lib_python25=no
  fi
@@ -25078,8 +28791,8 @@
    esac
    # Extract the first word of "perl", so it can be a program name with args.
 set dummy perl; ac_word=$2
-echo "$as_me:$LINENO: checking for $ac_word" >&5
-echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
 if test "${ac_cv_path_PERL+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -25095,30 +28808,31 @@
   IFS=$as_save_IFS
   test -z "$as_dir" && as_dir=.
   for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
+  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; }; then
     ac_cv_path_PERL="$as_dir/$ac_word$ac_exec_ext"
     echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
     break 2
   fi
 done
 done
+IFS=$as_save_IFS
 
   ;;
 esac
 fi
 PERL=$ac_cv_path_PERL
-
 if test -n "$PERL"; then
-  echo "$as_me:$LINENO: result: $PERL" >&5
-echo "${ECHO_T}$PERL" >&6
+  { echo "$as_me:$LINENO: result: $PERL" >&5
+echo "${ECHO_T}$PERL" >&6; }
 else
-  echo "$as_me:$LINENO: result: no" >&5
-echo "${ECHO_T}no" >&6
+  { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
 fi
 
+
    if test -x "$PERL"; then
       PERL_ARCHLIB=`$PERL -MConfig -e 'print \$Config{archlibexp};'`
-      PERL_FLAGS=`$PERL -MConfig -e 'print \$Config{cppflags};'`
+      PERL_FLAGS=`$PERL -MConfig -e 'print join " ", grep /^-[DI]/, split /\\s+/, \$Config{cppflags};'`
       PERL_INCLUDE="-I$PERL_ARCHLIB/CORE $PERL_FLAGS"
       PERL_DEPS=`$PERL -MConfig -e 'print \$Config{libs};'`
       ncbi_rp_L_flags=
@@ -25143,8 +28857,8 @@
  fi
       CPPFLAGS="$PERL_INCLUDE $orig_CPPFLAGS"
       LIBS="$PERL_LIBS $orig_LIBS"
-      echo "$as_me:$LINENO: checking for usable Perl libraries" >&5
-echo $ECHO_N "checking for usable Perl libraries... $ECHO_C" >&6
+      { echo "$as_me:$LINENO: checking for usable Perl libraries" >&5
+echo $ECHO_N "checking for usable Perl libraries... $ECHO_C" >&6; }
 if test "${ncbi_cv_lib_perl+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -25166,24 +28880,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -25194,11 +28920,12 @@
 
 ncbi_cv_lib_perl=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_perl" >&5
-echo "${ECHO_T}$ncbi_cv_lib_perl" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_perl" >&5
+echo "${ECHO_T}$ncbi_cv_lib_perl" >&6; }
    fi
    if test "$ncbi_cv_lib_perl" = yes; then
                 WithPackages="$WithPackages${WithPackagesSep}PERL"; WithPackagesSep=" "
@@ -25236,8 +28963,8 @@
    { (exit 1); exit 1; }; }
 # Extract the first word of "$JAVAC", so it can be a program name with args.
 set dummy $JAVAC; ac_word=$2
-echo "$as_me:$LINENO: checking for $ac_word" >&5
-echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
 if test "${ac_cv_path__ACJNI_JAVAC+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -25252,28 +28979,29 @@
   IFS=$as_save_IFS
   test -z "$as_dir" && as_dir=.
   for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
+  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; }; then
     ac_cv_path__ACJNI_JAVAC="$as_dir/$ac_word$ac_exec_ext"
     echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
     break 2
   fi
 done
 done
+IFS=$as_save_IFS
 
   test -z "$ac_cv_path__ACJNI_JAVAC" && ac_cv_path__ACJNI_JAVAC="no"
   ;;
 esac
 fi
 _ACJNI_JAVAC=$ac_cv_path__ACJNI_JAVAC
-
 if test -n "$_ACJNI_JAVAC"; then
-  echo "$as_me:$LINENO: result: $_ACJNI_JAVAC" >&5
-echo "${ECHO_T}$_ACJNI_JAVAC" >&6
+  { echo "$as_me:$LINENO: result: $_ACJNI_JAVAC" >&5
+echo "${ECHO_T}$_ACJNI_JAVAC" >&6; }
 else
-  echo "$as_me:$LINENO: result: no" >&5
-echo "${ECHO_T}no" >&6
+  { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
 fi
 
+
 test "x$_ACJNI_JAVAC" = xno && { { echo "$as_me:$LINENO: error: $JAVAC could not be found in path" >&5
 echo "$as_me: error: $JAVAC could not be found in path" >&2;}
    { (exit 1); exit 1; }; }
@@ -25282,16 +29010,16 @@
 # find the include directory relative to the javac executable
 _cur=""$_ACJNI_JAVAC""
 while ls -ld "$_cur" 2>/dev/null | grep " -> " >/dev/null; do
-        echo "$as_me:$LINENO: checking symlink for $_cur" >&5
-echo $ECHO_N "checking symlink for $_cur... $ECHO_C" >&6
+        { echo "$as_me:$LINENO: checking symlink for $_cur" >&5
+echo $ECHO_N "checking symlink for $_cur... $ECHO_C" >&6; }
         _slink=`ls -ld "$_cur" | sed 's/.* -> //'`
         case "$_slink" in
         /*) _cur="$_slink";;
         # 'X' avoids triggering unwanted echo options.
         *) _cur=`echo "X$_cur" | sed -e 's/^X//' -e 's:[^/]*$::'`"$_slink";;
         esac
-        echo "$as_me:$LINENO: result: $_cur" >&5
-echo "${ECHO_T}$_cur" >&6
+        { echo "$as_me:$LINENO: result: $_cur" >&5
+echo "${ECHO_T}$_cur" >&6; }
 done
 _ACJNI_FOLLOWED="$_cur"
 
@@ -25343,17 +29071,17 @@
 echo "$as_me: setting JDK_INCLUDE = $JDK_INCLUDE" >&6;}
    CPPFLAGS="$JDK_INCLUDE $orig_CPPFLAGS"
    if test "${ac_cv_header_jni_h+set}" = set; then
-  echo "$as_me:$LINENO: checking for jni.h" >&5
-echo $ECHO_N "checking for jni.h... $ECHO_C" >&6
+  { echo "$as_me:$LINENO: checking for jni.h" >&5
+echo $ECHO_N "checking for jni.h... $ECHO_C" >&6; }
 if test "${ac_cv_header_jni_h+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 fi
-echo "$as_me:$LINENO: result: $ac_cv_header_jni_h" >&5
-echo "${ECHO_T}$ac_cv_header_jni_h" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_header_jni_h" >&5
+echo "${ECHO_T}$ac_cv_header_jni_h" >&6; }
 else
   # Is the header compilable?
-echo "$as_me:$LINENO: checking jni.h usability" >&5
-echo $ECHO_N "checking jni.h usability... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking jni.h usability" >&5
+echo $ECHO_N "checking jni.h usability... $ECHO_C" >&6; }
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -25364,24 +29092,36 @@
 #include <jni.h>
 _ACEOF
 rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -25392,13 +29132,14 @@
 
 ac_header_compiler=no
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
-echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
+echo "${ECHO_T}$ac_header_compiler" >&6; }
 
 # Is the header present?
-echo "$as_me:$LINENO: checking jni.h presence" >&5
-echo $ECHO_N "checking jni.h presence... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking jni.h presence" >&5
+echo $ECHO_N "checking jni.h presence... $ECHO_C" >&6; }
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -25407,8 +29148,13 @@
 /* end confdefs.h.  */
 #include <jni.h>
 _ACEOF
-if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
-  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
+if { (ac_try="$ac_cpp conftest.$ac_ext"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
@@ -25432,9 +29178,10 @@
 
   ac_header_preproc=no
 fi
+
 rm -f conftest.err conftest.$ac_ext
-echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6
+{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
+echo "${ECHO_T}$ac_header_preproc" >&6; }
 
 # So?  What about this header?
 case $ac_header_compiler:$ac_header_preproc:$ac_cxx_preproc_warn_flag in
@@ -25458,25 +29205,23 @@
 echo "$as_me: WARNING: jni.h: proceeding with the preprocessor's result" >&2;}
     { echo "$as_me:$LINENO: WARNING: jni.h: in the future, the compiler will take precedence" >&5
 echo "$as_me: WARNING: jni.h: in the future, the compiler will take precedence" >&2;}
-    (
-      cat <<\_ASBOX
+    ( cat <<\_ASBOX
 ## ---------------------------------------- ##
 ## Report this to cpp-core@ncbi.nlm.nih.gov ##
 ## ---------------------------------------- ##
 _ASBOX
-    ) |
-      sed "s/^/$as_me: WARNING:     /" >&2
+     ) | sed "s/^/$as_me: WARNING:     /" >&2
     ;;
 esac
-echo "$as_me:$LINENO: checking for jni.h" >&5
-echo $ECHO_N "checking for jni.h... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking for jni.h" >&5
+echo $ECHO_N "checking for jni.h... $ECHO_C" >&6; }
 if test "${ac_cv_header_jni_h+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   ac_cv_header_jni_h=$ac_header_preproc
 fi
-echo "$as_me:$LINENO: result: $ac_cv_header_jni_h" >&5
-echo "${ECHO_T}$ac_cv_header_jni_h" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_header_jni_h" >&5
+echo "${ECHO_T}$ac_cv_header_jni_h" >&6; }
 
 fi
 if test $ac_cv_header_jni_h = yes; then
@@ -25500,9 +29245,7 @@
 
 ## Boost
 if test "$with_boost" != "no"; then
-   if test "${with_boost-yes}" = yes; then
-      : ${BOOST_PATH=$NCBI/boost}
-   else
+   if test "${with_boost-yes}" != yes; then
       BOOST_PATH=$with_boost
    fi
    if test -d "$BOOST_PATH"; then
@@ -25560,8 +29303,8 @@
          $as_unset ncbi_cv_lib_boost_thread || test "${ncbi_cv_lib_boost_thread+set}" != set || { ncbi_cv_lib_boost_thread=; export ncbi_cv_lib_boost_thread; }
       fi
    fi
-      echo "$as_me:$LINENO: checking Boost version" >&5
-echo $ECHO_N "checking Boost version... $ECHO_C" >&6
+      { echo "$as_me:$LINENO: checking Boost version" >&5
+echo $ECHO_N "checking Boost version... $ECHO_C" >&6; }
 if test "${ncbi_cv_lib_boost_version+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -25583,22 +29326,27 @@
           rm -f contest*
 
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_boost_version" >&5
-echo "${ECHO_T}$ncbi_cv_lib_boost_version" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_boost_version" >&5
+echo "${ECHO_T}$ncbi_cv_lib_boost_version" >&6; }
    if test -d `echo $BOOST_INCLUDE | sed -e 's/^-I//'`/boost-${ncbi_cv_lib_boost_version}/boost; then
       BOOST_INCLUDE=$BOOST_INCLUDE/boost-${ncbi_cv_lib_boost_version}
    fi
-   case "$ncbi_compiler" in
-      MIPSPRO)
+   case "$compiler:$ncbi_compiler_ver" in
+      MIPSpro*)
          BOOST_INCLUDE="$BOOST_INCLUDE $BOOST_INCLUDE/boost/compatibility/cpp_c_headers"
          ;;
-      WORKSHOP)
+      WorkShop*)
          # Boost.Test's macros yield a *lot* of spurious "should not initialize
          # a non-const reference with a temporary" warnings, to the point of
          # overwhelming the compiler in some cases; turn them off altogether
          # when using Boost at all.
          BOOST_INCLUDE="$BOOST_INCLUDE -erroff=reftotemp"
          ;;
+      GCC*:4[7-9]* | GCC*:5*)
+         # Some portions of Boost also have a lot of "unused" typedefs
+         # from concept checking.
+         BOOST_INCLUDE="$BOOST_INCLUDE -Wno-unused-local-typedefs"
+         ;;
    esac
    case "$ncbi_cv_lib_boost_version" in
       0_* | 1_[0-9] | 1_[0-9]_* | 1_[0-2][0-9] | 1_[0-2][0-9]_* ) ;;
@@ -25612,7 +29360,7 @@
          fi
          with_boost=no
          ;;
-      1_3[5-9] | 1_3[5-9]_* | 1_4* | 1_5[0-2] | 1_5[0-2]_* ) ;;
+      1_3[5-9] | 1_3[5-9]_* | 1_4* | 1_5[0-3] | 1_5[0-3]_* ) ;;
       '' ) with_boost=no ;;
       * )
          { echo "$as_me:$LINENO: WARNING: Untested Boost version; may prove incompatible." >&5
@@ -25621,8 +29369,8 @@
 echo "$as_me: WARNING: If so, please re-run this script with the flag --without-boost." >&2;}
          ;;
    esac
-   echo "$as_me:$LINENO: checking for Boost library name tag" >&5
-echo $ECHO_N "checking for Boost library name tag... $ECHO_C" >&6
+   { echo "$as_me:$LINENO: checking for Boost library name tag" >&5
+echo $ECHO_N "checking for Boost library name tag... $ECHO_C" >&6; }
    case "$with_boost_tag" in
       yes | "" )
          case "$host_os:$ncbi_compiler" in
@@ -25676,18 +29424,18 @@
          fi
 
          BOOST_TAG=$base$bsfx
-         echo "$as_me:$LINENO: result: $BOOST_TAG (autodetected)" >&5
-echo "${ECHO_T}$BOOST_TAG (autodetected)" >&6
+         { echo "$as_me:$LINENO: result: $BOOST_TAG (autodetected)" >&5
+echo "${ECHO_T}$BOOST_TAG (autodetected)" >&6; }
          ;;
       no )
          BOOST_TAG=""
-         echo "$as_me:$LINENO: result: none (by explicit request)" >&5
-echo "${ECHO_T}none (by explicit request)" >&6
+         { echo "$as_me:$LINENO: result: none (by explicit request)" >&5
+echo "${ECHO_T}none (by explicit request)" >&6; }
          ;;
       *)
          BOOST_TAG=$with_boost_tag
-         echo "$as_me:$LINENO: result: $BOOST_TAG (by explicit request)" >&5
-echo "${ECHO_T}$BOOST_TAG (by explicit request)" >&6
+         { echo "$as_me:$LINENO: result: $BOOST_TAG (by explicit request)" >&5
+echo "${ECHO_T}$BOOST_TAG (by explicit request)" >&6; }
          ;;
    esac
 
@@ -25701,8 +29449,10 @@
        BOOST_REGEX_STATIC_LIBS=$BOOST_REGEX_LIBS
    fi
 
-   echo "$as_me:$LINENO: checking for Boost.Regex in $BOOST_PATH" >&5
-echo $ECHO_N "checking for Boost.Regex in $BOOST_PATH... $ECHO_C" >&6
+   in_path=${BOOST_PATH:+ in $BOOST_PATH}
+
+   { echo "$as_me:$LINENO: checking for Boost.Regex$in_path" >&5
+echo $ECHO_N "checking for Boost.Regex$in_path... $ECHO_C" >&6; }
 if test "${ncbi_cv_lib_boost_regex+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -25724,24 +29474,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -25752,14 +29514,15 @@
 
 ncbi_cv_lib_boost_regex=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_boost_regex" >&5
-echo "${ECHO_T}$ncbi_cv_lib_boost_regex" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_boost_regex" >&5
+echo "${ECHO_T}$ncbi_cv_lib_boost_regex" >&6; }
 
-   echo "$as_me:$LINENO: checking for Boost.Spirit in $BOOST_PATH" >&5
-echo $ECHO_N "checking for Boost.Spirit in $BOOST_PATH... $ECHO_C" >&6
+   { echo "$as_me:$LINENO: checking for Boost.Spirit$in_path" >&5
+echo $ECHO_N "checking for Boost.Spirit$in_path... $ECHO_C" >&6; }
 if test "${ncbi_cv_lib_boost_spirit+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -25781,24 +29544,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -25809,11 +29584,12 @@
 
 ncbi_cv_lib_boost_spirit=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_boost_spirit" >&5
-echo "${ECHO_T}$ncbi_cv_lib_boost_spirit" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_boost_spirit" >&5
+echo "${ECHO_T}$ncbi_cv_lib_boost_spirit" >&6; }
 
    BOOST_SYSTEM_LIBS=-lboost_system${BOOST_TAG}
    if test -f "$BOOST_LIBPATH_/libboost_system${BOOST_TAG}-static.a"; then
@@ -25822,8 +29598,8 @@
        BOOST_SYSTEM_STATIC_LIBS=$BOOST_SYSTEM_LIBS
    fi
 
-   echo "$as_me:$LINENO: checking for Boost.System in $BOOST_PATH" >&5
-echo $ECHO_N "checking for Boost.System in $BOOST_PATH... $ECHO_C" >&6
+   { echo "$as_me:$LINENO: checking for Boost.System$in_path" >&5
+echo $ECHO_N "checking for Boost.System$in_path... $ECHO_C" >&6; }
 if test "${ncbi_cv_lib_boost_system+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -25845,24 +29621,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -25875,11 +29663,91 @@
            BOOST_SYSTEM_LIBS=
            BOOST_SYSTEM_STATIC_LIBS=
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
+fi
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_boost_system" >&5
+echo "${ECHO_T}$ncbi_cv_lib_boost_system" >&6; }
+
+   boost_fs_lib=-lboost_filesystem${BOOST_TAG}
+   if test -f "$BOOST_LIBPATH_/libboost_filesystem${BOOST_TAG}-static.a"; then
+       boost_fs_static_lib=-lboost_filesystem${BOOST_TAG}-static
+   else
+       boost_fs_static_lib=$boost_fs_lib
+   fi
+   BOOST_FILESYSTEM_LIBS="$boost_fs_lib $BOOST_SYSTEM_LIBS"
+   BOOST_FILESYSTEM_STATIC_LIBS="$boost_fs_static_lib $BOOST_SYSTEM_STATIC_LIBS"
+
+   { echo "$as_me:$LINENO: checking for Boost.Filesystem$in_path" >&5
+echo $ECHO_N "checking for Boost.Filesystem$in_path... $ECHO_C" >&6; }
+if test "${ncbi_cv_lib_boost_filesystem+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  CPPFLAGS="$BOOST_INCLUDE $orig_CPPFLAGS"
+      LIBS="$BOOST_LIBPATH $BOOST_FILESYSTEM_LIBS $RT_LIBS $orig_LIBS"
+      cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+#include <boost/filesystem.hpp>
+int
+main ()
+{
+return boost::filesystem::portable_name("foo");
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext conftest$ac_exeext
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } &&
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; }; then
+  ncbi_cv_lib_boost_filesystem=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+	ncbi_cv_lib_boost_filesystem=no
+fi
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_boost_system" >&5
-echo "${ECHO_T}$ncbi_cv_lib_boost_system" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_boost_filesystem" >&5
+echo "${ECHO_T}$ncbi_cv_lib_boost_filesystem" >&6; }
 
    BOOST_TEST_PEM_LIBS=-lboost_prg_exec_monitor${BOOST_TAG}
    if test -f "$BOOST_LIBPATH_/libboost_prg_exec_monitor${BOOST_TAG}-static.a"; then
@@ -25906,8 +29774,8 @@
    BOOST_TEST_TEM_LIBS=$BOOST_TEST_TEM_STATIC_LIBS
    BOOST_TEST_UTF_LIBS=$BOOST_TEST_UTF_STATIC_LIBS
 
-   echo "$as_me:$LINENO: checking for Boost.Test in $BOOST_PATH" >&5
-echo $ECHO_N "checking for Boost.Test in $BOOST_PATH... $ECHO_C" >&6
+   { echo "$as_me:$LINENO: checking for Boost.Test$in_path" >&5
+echo $ECHO_N "checking for Boost.Test$in_path... $ECHO_C" >&6; }
 if test "${ncbi_cv_lib_boost_test+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -25940,24 +29808,36 @@
                 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -25966,8 +29846,10 @@
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
+
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
       done
       case "$found" in
@@ -25977,8 +29859,8 @@
         ''                 ) ncbi_cv_lib_boost_test=no            ;;
       esac
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_boost_test" >&5
-echo "${ECHO_T}$ncbi_cv_lib_boost_test" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_boost_test" >&5
+echo "${ECHO_T}$ncbi_cv_lib_boost_test" >&6; }
 
    BOOST_THREAD_LIBS="-lboost_thread${BOOST_TAG} $BOOST_SYSTEM_LIBS"
    if test -f "$BOOST_LIBPATH_/libboost_thread${BOOST_TAG}-static.a"; then
@@ -25987,8 +29869,8 @@
        BOOST_THREAD_STATIC_LIBS=$BOOST_THREAD_LIBS
    fi
 
-   echo "$as_me:$LINENO: checking for Boost.Threads in $BOOST_PATH" >&5
-echo $ECHO_N "checking for Boost.Threads in $BOOST_PATH... $ECHO_C" >&6
+   { echo "$as_me:$LINENO: checking for Boost.Threads$in_path" >&5
+echo $ECHO_N "checking for Boost.Threads$in_path... $ECHO_C" >&6; }
 if test "${ncbi_cv_lib_boost_thread+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -26010,24 +29892,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -26038,21 +29932,33 @@
 
 ncbi_cv_lib_boost_thread=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_boost_thread" >&5
-echo "${ECHO_T}$ncbi_cv_lib_boost_thread" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_boost_thread" >&5
+echo "${ECHO_T}$ncbi_cv_lib_boost_thread" >&6; }
 else
    BOOST_INCLUDE=
    BOOST_LIBPATH=
    BOOST_TAG=
+   ncbi_cv_lib_boost_filesystem=no
    ncbi_cv_lib_boost_regex=no
    ncbi_cv_lib_boost_spirit=no
+   ncbi_cv_lib_boost_system=no
    ncbi_cv_lib_boost_test=no
    ncbi_cv_lib_boost_thread=no
 fi
 
+if test "$ncbi_cv_lib_boost_filesystem" != "no"; then
+                   WithPackages="$WithPackages${WithPackagesSep}Boost.Filesystem"; WithPackagesSep=" "
+else
+   boost_fs_lib=
+   boost_fs_static_lib=
+   BOOST_FILESYSTEM_LIBS=
+   BOOST_FILESYSTEM_STATIC_LIBS=
+fi
+
 if test "$ncbi_cv_lib_boost_regex" != "no"; then
 
 cat >>confdefs.h <<\_ACEOF
@@ -26122,7 +30028,10 @@
 
 ## NCBI C Toolkit
 if test "$with_ncbi_c" != "no" ; then
-   NCBI_C_PATH=${NCBI_C_PATH:="$NCBI"}
+   if test "${with_ncbi_c-yes}" != yes; then
+      NCBI_C_PATH=$with_ncbi_c
+   fi
+   : ${NCBI_C_PATH="$NCBI"}
    if test "$ncbi_compiler" = ICC -a -d "$NCBI_C_PATH/ncbi_icc"; then
       NCBI_C_PATH=$NCBI_C_PATH/ncbi_icc
    fi
@@ -26144,8 +30053,8 @@
      NCBI_C_ncbi="-lncbi"
    fi
    NCBI_C_LIBPATH="-L$NCBI_C_LIBPATH"
-   echo "$as_me:$LINENO: checking for the NCBI C toolkit in $NCBI_C_PATH" >&5
-echo $ECHO_N "checking for the NCBI C toolkit in $NCBI_C_PATH... $ECHO_C" >&6
+   { echo "$as_me:$LINENO: checking for the NCBI C toolkit${NCBI_C_PATH:+ in $NCBI_C_PATH}" >&5
+echo $ECHO_N "checking for the NCBI C toolkit${NCBI_C_PATH:+ in $NCBI_C_PATH}... $ECHO_C" >&6; }
 if test "${ncbi_cv_lib_ctools+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -26167,24 +30076,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -26195,11 +30116,12 @@
 
 ncbi_cv_lib_ctools=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_ctools" >&5
-echo "${ECHO_T}$ncbi_cv_lib_ctools" >&6
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_ctools" >&5
+echo "${ECHO_T}$ncbi_cv_lib_ctools" >&6; }
    if test "$ncbi_cv_lib_ctools" = no; then
       if test "${with_ncbi_c:=no}" != no; then
        { { echo "$as_me:$LINENO: error: --with-ncbi-c explicitly specified, but no usable version found." >&5
@@ -26240,44 +30162,49 @@
       cmp -s /usr/lib$bit64_sfx/$base $xlib  || \
       x_libraries=/usr/X11R6/lib$bit64_sfx x_includes=/usr/X11R6/include
 fi
-echo "$as_me:$LINENO: checking for X" >&5
-echo $ECHO_N "checking for X... $ECHO_C" >&6
+{ echo "$as_me:$LINENO: checking for X" >&5
+echo $ECHO_N "checking for X... $ECHO_C" >&6; }
 
 
-# Check whether --with-x or --without-x was given.
+# Check whether --with-x was given.
 if test "${with_x+set}" = set; then
-  withval="$with_x"
+  withval=$with_x;
+fi
 
-fi;
 # $have_x is `yes', `no', `disabled', or empty when we do not yet know.
 if test "x$with_x" = xno; then
   # The user explicitly disabled X.
   have_x=disabled
 else
-  if test "x$x_includes" != xNONE && test "x$x_libraries" != xNONE; then
-    # Both variables are already set.
-    have_x=yes
-  else
-    if test "${ac_cv_have_x+set}" = set; then
+  case $x_includes,$x_libraries in #(
+    *\'*) { { echo "$as_me:$LINENO: error: Cannot use X directory names containing '" >&5
+echo "$as_me: error: Cannot use X directory names containing '" >&2;}
+   { (exit 1); exit 1; }; };; #(
+    *,NONE | NONE,*) if test "${ac_cv_have_x+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   # One or both of the vars are not set, and there is no cached value.
 ac_x_includes=no ac_x_libraries=no
-rm -fr conftest.dir
+rm -f -r conftest.dir
 if mkdir conftest.dir; then
   cd conftest.dir
-  # Make sure to not put "make" in the Imakefile rules, since we grep it out.
   cat >Imakefile <<'_ACEOF'
-acfindx:
-	@echo 'ac_im_incroot="${INCROOT}"; ac_im_usrlibdir="${USRLIBDIR}"; ac_im_libdir="${LIBDIR}"'
+incroot:
+	@echo incroot='${INCROOT}'
+usrlibdir:
+	@echo usrlibdir='${USRLIBDIR}'
+libdir:
+	@echo libdir='${LIBDIR}'
 _ACEOF
-  if (xmkmf) >/dev/null 2>/dev/null && test -f Makefile; then
+  if (export CC; ${XMKMF-xmkmf}) >/dev/null 2>/dev/null && test -f Makefile; then
     # GNU make sometimes prints "make[1]: Entering...", which would confuse us.
-    eval `${MAKE-make} acfindx 2>/dev/null | grep -v make`
+    for ac_var in incroot usrlibdir libdir; do
+      eval "ac_im_$ac_var=\`\${MAKE-make} $ac_var 2>/dev/null | sed -n 's/^$ac_var=//p'\`"
+    done
     # Open Windows xmkmf reportedly sets LIBDIR instead of USRLIBDIR.
     for ac_extension in a so sl; do
-      if test ! -f $ac_im_usrlibdir/libX11.$ac_extension &&
-	 test -f $ac_im_libdir/libX11.$ac_extension; then
+      if test ! -f "$ac_im_usrlibdir/libX11.$ac_extension" &&
+	 test -f "$ac_im_libdir/libX11.$ac_extension"; then
 	ac_im_usrlibdir=$ac_im_libdir; break
       fi
     done
@@ -26285,7 +30212,7 @@
     # bogus both because they are the default anyway, and because
     # using them would break gcc on systems where it needs fixed includes.
     case $ac_im_incroot in
-	/usr/include) ;;
+	/usr/include) ac_x_includes= ;;
 	*) test -f "$ac_im_incroot/X11/Xos.h" && ac_x_includes=$ac_im_incroot;;
     esac
     case $ac_im_usrlibdir in
@@ -26294,7 +30221,7 @@
     esac
   fi
   cd ..
-  rm -fr conftest.dir
+  rm -f -r conftest.dir
 fi
 
 # Standard set of common directories for X headers.
@@ -26335,7 +30262,7 @@
 /usr/openwin/share/include'
 
 if test "$ac_x_includes" = no; then
-  # Guess where to find include files, by looking for Intrinsic.h.
+  # Guess where to find include files, by looking for Xlib.h.
   # First, try using that file with no special directory specified.
   cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
@@ -26343,10 +30270,15 @@
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-#include <X11/Intrinsic.h>
+#include <X11/Xlib.h>
 _ACEOF
-if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
-  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
+if { (ac_try="$ac_cpp conftest.$ac_ext"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
@@ -26370,12 +30302,13 @@
 sed 's/^/| /' conftest.$ac_ext >&5
 
   for ac_dir in $ac_x_header_dirs; do
-  if test -r "$ac_dir/X11/Intrinsic.h"; then
+  if test -r "$ac_dir/X11/Xlib.h"; then
     ac_x_includes=$ac_dir
     break
   fi
 done
 fi
+
 rm -f conftest.err conftest.$ac_ext
 fi # $ac_x_includes = no
 
@@ -26391,34 +30324,46 @@
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-#include <X11/Intrinsic.h>
+#include <X11/Xlib.h>
 int
 main ()
 {
-XtMalloc (0)
+XrmInitialize ()
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -26434,34 +30379,38 @@
 do
   # Don't even attempt the hair of trying to link an X program!
   for ac_extension in a so sl; do
-    if test -r $ac_dir/libXt.$ac_extension; then
+    if test -r "$ac_dir/libXt.$ac_extension"; then
       ac_x_libraries=$ac_dir
       break 2
     fi
   done
 done
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi # $ac_x_libraries = no
 
-if test "$ac_x_includes" = no || test "$ac_x_libraries" = no; then
-  # Didn't find X anywhere.  Cache the known absence of X.
-  ac_cv_have_x="have_x=no"
-else
+case $ac_x_includes,$ac_x_libraries in #(
+  no,* | *,no | *\'*)
+    # Didn't find X, or a directory has "'" in its name.
+    ac_cv_have_x="have_x=no";; #(
+  *)
   # Record where we found X for the cache.
   ac_cv_have_x="have_x=yes \
-		ac_x_includes=$ac_x_includes ac_x_libraries=$ac_x_libraries"
-fi
-fi
-
+	ac_x_includes='$ac_x_includes'\
+	ac_x_libraries='$ac_x_libraries'"
+esac
   fi
+;; #(
+    *) have_x=yes;;
+  esac
   eval "$ac_cv_have_x"
 fi # $with_x != no
 
 if test "$have_x" != yes; then
-  echo "$as_me:$LINENO: result: $have_x" >&5
-echo "${ECHO_T}$have_x" >&6
+  { echo "$as_me:$LINENO: result: $have_x" >&5
+echo "${ECHO_T}$have_x" >&6; }
   no_x=yes
 else
   # If each of the values was on the command line, it overrides each guess.
@@ -26469,9 +30418,10 @@
   test "x$x_libraries" = xNONE && x_libraries=$ac_x_libraries
   # Update the cache value to reflect the command line values.
   ac_cv_have_x="have_x=yes \
-		ac_x_includes=$x_includes ac_x_libraries=$x_libraries"
-  echo "$as_me:$LINENO: result: libraries $x_libraries, headers $x_includes" >&5
-echo "${ECHO_T}libraries $x_libraries, headers $x_includes" >&6
+	ac_x_includes='$x_includes'\
+	ac_x_libraries='$x_libraries'"
+  { echo "$as_me:$LINENO: result: libraries $x_libraries, headers $x_includes" >&5
+echo "${ECHO_T}libraries $x_libraries, headers $x_includes" >&6; }
 fi
 
 if test "$no_x" = yes; then
@@ -26494,8 +30444,8 @@
     # others require no space.  Words are not sufficient . . . .
     case `(uname -sr) 2>/dev/null` in
     "SunOS 5"*)
-      echo "$as_me:$LINENO: checking whether -R must be followed by a space" >&5
-echo $ECHO_N "checking whether -R must be followed by a space... $ECHO_C" >&6
+      { echo "$as_me:$LINENO: checking whether -R must be followed by a space" >&5
+echo $ECHO_N "checking whether -R must be followed by a space... $ECHO_C" >&6; }
       ac_xsave_LIBS=$LIBS; LIBS="$LIBS -R$x_libraries"
       cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
@@ -26513,24 +30463,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -26541,11 +30503,12 @@
 
 ac_R_nospace=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
       if test $ac_R_nospace = yes; then
-	echo "$as_me:$LINENO: result: no" >&5
-echo "${ECHO_T}no" >&6
+	{ echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
 	X_LIBS="$X_LIBS -R$x_libraries"
       else
 	LIBS="$ac_xsave_LIBS -R $x_libraries"
@@ -26565,24 +30528,36 @@
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -26593,15 +30568,16 @@
 
 ac_R_space=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 	if test $ac_R_space = yes; then
-	  echo "$as_me:$LINENO: result: yes" >&5
-echo "${ECHO_T}yes" >&6
+	  { echo "$as_me:$LINENO: result: yes" >&5
+echo "${ECHO_T}yes" >&6; }
 	  X_LIBS="$X_LIBS -R $x_libraries"
 	else
-	  echo "$as_me:$LINENO: result: neither works" >&5
-echo "${ECHO_T}neither works" >&6
+	  { echo "$as_me:$LINENO: result: neither works" >&5
+echo "${ECHO_T}neither works" >&6; }
 	fi
       fi
       LIBS=$ac_xsave_LIBS
@@ -26626,40 +30602,52 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 
-/* Override any gcc2 internal prototype to avoid an error.  */
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
 #ifdef __cplusplus
 extern "C"
 #endif
-/* We use char because int might match the return type of a gcc2
-   builtin and then its argument prototype would still apply.  */
 char XOpenDisplay ();
 int
 main ()
 {
-XOpenDisplay ();
+return XOpenDisplay ();
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -26668,8 +30656,8 @@
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-echo "$as_me:$LINENO: checking for dnet_ntoa in -ldnet" >&5
-echo $ECHO_N "checking for dnet_ntoa in -ldnet... $ECHO_C" >&6
+	{ echo "$as_me:$LINENO: checking for dnet_ntoa in -ldnet" >&5
+echo $ECHO_N "checking for dnet_ntoa in -ldnet... $ECHO_C" >&6; }
 if test "${ac_cv_lib_dnet_dnet_ntoa+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -26682,40 +30670,52 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 
-/* Override any gcc2 internal prototype to avoid an error.  */
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
 #ifdef __cplusplus
 extern "C"
 #endif
-/* We use char because int might match the return type of a gcc2
-   builtin and then its argument prototype would still apply.  */
 char dnet_ntoa ();
 int
 main ()
 {
-dnet_ntoa ();
+return dnet_ntoa ();
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -26726,19 +30726,20 @@
 
 ac_cv_lib_dnet_dnet_ntoa=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 LIBS=$ac_check_lib_save_LIBS
 fi
-echo "$as_me:$LINENO: result: $ac_cv_lib_dnet_dnet_ntoa" >&5
-echo "${ECHO_T}$ac_cv_lib_dnet_dnet_ntoa" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_lib_dnet_dnet_ntoa" >&5
+echo "${ECHO_T}$ac_cv_lib_dnet_dnet_ntoa" >&6; }
 if test $ac_cv_lib_dnet_dnet_ntoa = yes; then
   X_EXTRA_LIBS="$X_EXTRA_LIBS -ldnet"
 fi
 
     if test $ac_cv_lib_dnet_dnet_ntoa = no; then
-      echo "$as_me:$LINENO: checking for dnet_ntoa in -ldnet_stub" >&5
-echo $ECHO_N "checking for dnet_ntoa in -ldnet_stub... $ECHO_C" >&6
+      { echo "$as_me:$LINENO: checking for dnet_ntoa in -ldnet_stub" >&5
+echo $ECHO_N "checking for dnet_ntoa in -ldnet_stub... $ECHO_C" >&6; }
 if test "${ac_cv_lib_dnet_stub_dnet_ntoa+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -26751,40 +30752,52 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 
-/* Override any gcc2 internal prototype to avoid an error.  */
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
 #ifdef __cplusplus
 extern "C"
 #endif
-/* We use char because int might match the return type of a gcc2
-   builtin and then its argument prototype would still apply.  */
 char dnet_ntoa ();
 int
 main ()
 {
-dnet_ntoa ();
+return dnet_ntoa ();
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -26795,19 +30808,21 @@
 
 ac_cv_lib_dnet_stub_dnet_ntoa=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 LIBS=$ac_check_lib_save_LIBS
 fi
-echo "$as_me:$LINENO: result: $ac_cv_lib_dnet_stub_dnet_ntoa" >&5
-echo "${ECHO_T}$ac_cv_lib_dnet_stub_dnet_ntoa" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_lib_dnet_stub_dnet_ntoa" >&5
+echo "${ECHO_T}$ac_cv_lib_dnet_stub_dnet_ntoa" >&6; }
 if test $ac_cv_lib_dnet_stub_dnet_ntoa = yes; then
   X_EXTRA_LIBS="$X_EXTRA_LIBS -ldnet_stub"
 fi
 
     fi
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
     LIBS="$ac_xsave_LIBS"
 
@@ -26819,8 +30834,8 @@
     # on Irix 5.2, according to T.E. Dickey.
     # The functions gethostbyname, getservbyname, and inet_addr are
     # in -lbsd on LynxOS 3.0.1/i386, according to Lars Hecking.
-    echo "$as_me:$LINENO: checking for gethostbyname" >&5
-echo $ECHO_N "checking for gethostbyname... $ECHO_C" >&6
+    { echo "$as_me:$LINENO: checking for gethostbyname" >&5
+echo $ECHO_N "checking for gethostbyname... $ECHO_C" >&6; }
 if test "${ac_cv_func_gethostbyname+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -26847,53 +30862,59 @@
 
 #undef gethostbyname
 
-/* Override any gcc2 internal prototype to avoid an error.  */
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
 #ifdef __cplusplus
 extern "C"
-{
 #endif
-/* We use char because int might match the return type of a gcc2
-   builtin and then its argument prototype would still apply.  */
 char gethostbyname ();
 /* The GNU C library defines this for functions which it implements
     to always fail with ENOSYS.  Some functions are actually named
     something starting with __ and the normal name is an alias.  */
-#if defined (__stub_gethostbyname) || defined (__stub___gethostbyname)
+#if defined __stub_gethostbyname || defined __stub___gethostbyname
 choke me
-#else
-char (*f) () = gethostbyname;
-#endif
-#ifdef __cplusplus
-}
 #endif
 
 int
 main ()
 {
-return f != gethostbyname;
+return gethostbyname ();
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -26904,15 +30925,16 @@
 
 ac_cv_func_gethostbyname=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ac_cv_func_gethostbyname" >&5
-echo "${ECHO_T}$ac_cv_func_gethostbyname" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_func_gethostbyname" >&5
+echo "${ECHO_T}$ac_cv_func_gethostbyname" >&6; }
 
     if test $ac_cv_func_gethostbyname = no; then
-      echo "$as_me:$LINENO: checking for gethostbyname in -lnsl" >&5
-echo $ECHO_N "checking for gethostbyname in -lnsl... $ECHO_C" >&6
+      { echo "$as_me:$LINENO: checking for gethostbyname in -lnsl" >&5
+echo $ECHO_N "checking for gethostbyname in -lnsl... $ECHO_C" >&6; }
 if test "${ac_cv_lib_nsl_gethostbyname+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -26925,40 +30947,52 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 
-/* Override any gcc2 internal prototype to avoid an error.  */
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
 #ifdef __cplusplus
 extern "C"
 #endif
-/* We use char because int might match the return type of a gcc2
-   builtin and then its argument prototype would still apply.  */
 char gethostbyname ();
 int
 main ()
 {
-gethostbyname ();
+return gethostbyname ();
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -26969,19 +31003,20 @@
 
 ac_cv_lib_nsl_gethostbyname=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 LIBS=$ac_check_lib_save_LIBS
 fi
-echo "$as_me:$LINENO: result: $ac_cv_lib_nsl_gethostbyname" >&5
-echo "${ECHO_T}$ac_cv_lib_nsl_gethostbyname" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_lib_nsl_gethostbyname" >&5
+echo "${ECHO_T}$ac_cv_lib_nsl_gethostbyname" >&6; }
 if test $ac_cv_lib_nsl_gethostbyname = yes; then
   X_EXTRA_LIBS="$X_EXTRA_LIBS -lnsl"
 fi
 
       if test $ac_cv_lib_nsl_gethostbyname = no; then
-	echo "$as_me:$LINENO: checking for gethostbyname in -lbsd" >&5
-echo $ECHO_N "checking for gethostbyname in -lbsd... $ECHO_C" >&6
+	{ echo "$as_me:$LINENO: checking for gethostbyname in -lbsd" >&5
+echo $ECHO_N "checking for gethostbyname in -lbsd... $ECHO_C" >&6; }
 if test "${ac_cv_lib_bsd_gethostbyname+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -26994,40 +31029,52 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 
-/* Override any gcc2 internal prototype to avoid an error.  */
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
 #ifdef __cplusplus
 extern "C"
 #endif
-/* We use char because int might match the return type of a gcc2
-   builtin and then its argument prototype would still apply.  */
 char gethostbyname ();
 int
 main ()
 {
-gethostbyname ();
+return gethostbyname ();
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -27038,12 +31085,13 @@
 
 ac_cv_lib_bsd_gethostbyname=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 LIBS=$ac_check_lib_save_LIBS
 fi
-echo "$as_me:$LINENO: result: $ac_cv_lib_bsd_gethostbyname" >&5
-echo "${ECHO_T}$ac_cv_lib_bsd_gethostbyname" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_lib_bsd_gethostbyname" >&5
+echo "${ECHO_T}$ac_cv_lib_bsd_gethostbyname" >&6; }
 if test $ac_cv_lib_bsd_gethostbyname = yes; then
   X_EXTRA_LIBS="$X_EXTRA_LIBS -lbsd"
 fi
@@ -27058,8 +31106,8 @@
     # variants that don't use the name server (or something).  -lsocket
     # must be given before -lnsl if both are needed.  We assume that
     # if connect needs -lnsl, so does gethostbyname.
-    echo "$as_me:$LINENO: checking for connect" >&5
-echo $ECHO_N "checking for connect... $ECHO_C" >&6
+    { echo "$as_me:$LINENO: checking for connect" >&5
+echo $ECHO_N "checking for connect... $ECHO_C" >&6; }
 if test "${ac_cv_func_connect+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -27086,53 +31134,59 @@
 
 #undef connect
 
-/* Override any gcc2 internal prototype to avoid an error.  */
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
 #ifdef __cplusplus
 extern "C"
-{
 #endif
-/* We use char because int might match the return type of a gcc2
-   builtin and then its argument prototype would still apply.  */
 char connect ();
 /* The GNU C library defines this for functions which it implements
     to always fail with ENOSYS.  Some functions are actually named
     something starting with __ and the normal name is an alias.  */
-#if defined (__stub_connect) || defined (__stub___connect)
+#if defined __stub_connect || defined __stub___connect
 choke me
-#else
-char (*f) () = connect;
-#endif
-#ifdef __cplusplus
-}
 #endif
 
 int
 main ()
 {
-return f != connect;
+return connect ();
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -27143,15 +31197,16 @@
 
 ac_cv_func_connect=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ac_cv_func_connect" >&5
-echo "${ECHO_T}$ac_cv_func_connect" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_func_connect" >&5
+echo "${ECHO_T}$ac_cv_func_connect" >&6; }
 
     if test $ac_cv_func_connect = no; then
-      echo "$as_me:$LINENO: checking for connect in -lsocket" >&5
-echo $ECHO_N "checking for connect in -lsocket... $ECHO_C" >&6
+      { echo "$as_me:$LINENO: checking for connect in -lsocket" >&5
+echo $ECHO_N "checking for connect in -lsocket... $ECHO_C" >&6; }
 if test "${ac_cv_lib_socket_connect+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -27164,40 +31219,52 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 
-/* Override any gcc2 internal prototype to avoid an error.  */
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
 #ifdef __cplusplus
 extern "C"
 #endif
-/* We use char because int might match the return type of a gcc2
-   builtin and then its argument prototype would still apply.  */
 char connect ();
 int
 main ()
 {
-connect ();
+return connect ();
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -27208,12 +31275,13 @@
 
 ac_cv_lib_socket_connect=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 LIBS=$ac_check_lib_save_LIBS
 fi
-echo "$as_me:$LINENO: result: $ac_cv_lib_socket_connect" >&5
-echo "${ECHO_T}$ac_cv_lib_socket_connect" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_lib_socket_connect" >&5
+echo "${ECHO_T}$ac_cv_lib_socket_connect" >&6; }
 if test $ac_cv_lib_socket_connect = yes; then
   X_EXTRA_LIBS="-lsocket $X_EXTRA_LIBS"
 fi
@@ -27221,8 +31289,8 @@
     fi
 
     # Guillermo Gomez says -lposix is necessary on A/UX.
-    echo "$as_me:$LINENO: checking for remove" >&5
-echo $ECHO_N "checking for remove... $ECHO_C" >&6
+    { echo "$as_me:$LINENO: checking for remove" >&5
+echo $ECHO_N "checking for remove... $ECHO_C" >&6; }
 if test "${ac_cv_func_remove+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -27249,53 +31317,59 @@
 
 #undef remove
 
-/* Override any gcc2 internal prototype to avoid an error.  */
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
 #ifdef __cplusplus
 extern "C"
-{
 #endif
-/* We use char because int might match the return type of a gcc2
-   builtin and then its argument prototype would still apply.  */
 char remove ();
 /* The GNU C library defines this for functions which it implements
     to always fail with ENOSYS.  Some functions are actually named
     something starting with __ and the normal name is an alias.  */
-#if defined (__stub_remove) || defined (__stub___remove)
+#if defined __stub_remove || defined __stub___remove
 choke me
-#else
-char (*f) () = remove;
-#endif
-#ifdef __cplusplus
-}
 #endif
 
 int
 main ()
 {
-return f != remove;
+return remove ();
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -27306,15 +31380,16 @@
 
 ac_cv_func_remove=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ac_cv_func_remove" >&5
-echo "${ECHO_T}$ac_cv_func_remove" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_func_remove" >&5
+echo "${ECHO_T}$ac_cv_func_remove" >&6; }
 
     if test $ac_cv_func_remove = no; then
-      echo "$as_me:$LINENO: checking for remove in -lposix" >&5
-echo $ECHO_N "checking for remove in -lposix... $ECHO_C" >&6
+      { echo "$as_me:$LINENO: checking for remove in -lposix" >&5
+echo $ECHO_N "checking for remove in -lposix... $ECHO_C" >&6; }
 if test "${ac_cv_lib_posix_remove+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -27327,40 +31402,52 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 
-/* Override any gcc2 internal prototype to avoid an error.  */
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
 #ifdef __cplusplus
 extern "C"
 #endif
-/* We use char because int might match the return type of a gcc2
-   builtin and then its argument prototype would still apply.  */
 char remove ();
 int
 main ()
 {
-remove ();
+return remove ();
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@@ -27371,12 +31458,13 @@
 
 ac_cv_lib_posix_remove=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 LIBS=$ac_check_lib_save_LIBS
 fi
-echo "$as_me:$LINENO: result: $ac_cv_lib_posix_remove" >&5
-echo "${ECHO_T}$ac_cv_lib_posix_remove" >&6
+{ echo "$as_me:$LINENO: result: $ac_cv_lib_posix_remove" >&5
+echo "${ECHO_T}$ac_cv_lib_posix_remove" >&6; }
 if test $ac_cv_lib_posix_remove = yes; then
   X_EXTRA_LIBS="$X_EXTRA_LIBS -lposix"
 fi
@@ -27384,8 +31472,8 @@
     fi
 
     # BSDI BSD/OS 2.1 needs -lipc for XOpenDisplay.
-    echo "$as_me:$LINENO: checking for shmat" >&5
-echo $ECHO_N "checking for shmat... $ECHO_C" >&6
+    { echo "$as_me:$LINENO: checking for shmat" >&5
+echo $ECHO_N "checking for shmat... $ECHO_C" >&6; }
 if test "${ac_cv_func_shmat+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -27412,77 +31500,347 @@
 
 #undef shmat
 
-/* Override any gcc2 internal prototype to avoid an error.  */
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
 #ifdef __cplusplus
 extern "C"
-{
 #endif
-/* We use char because int might match the return type of a gcc2
-   builtin and then its argument prototype would still apply.  */
 char shmat ();
 /* The GNU C library defines this for functions which it implements
     to always fail with ENOSYS.  Some functions are actually named
     something starting with __ and the normal name is an alias.  */
-#if defined (__stub_shmat) || defined (__stub___shmat)
+#if defined __stub_shmat || defined __stub___shmat
 choke me
-#else
-char (*f) () = shmat;
 #endif
+
+int
+main ()
+{
+return shmat ();
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext conftest$ac_exeext
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } &&
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; }; then
+  ac_cv_func_shmat=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+	ac_cv_func_shmat=no
+fi
+
+rm -f core conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
+fi
+{ echo "$as_me:$LINENO: result: $ac_cv_func_shmat" >&5
+echo "${ECHO_T}$ac_cv_func_shmat" >&6; }
+
+    if test $ac_cv_func_shmat = no; then
+      { echo "$as_me:$LINENO: checking for shmat in -lipc" >&5
+echo $ECHO_N "checking for shmat in -lipc... $ECHO_C" >&6; }
+if test "${ac_cv_lib_ipc_shmat+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lipc  $LIBS"
+cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
 #ifdef __cplusplus
+extern "C"
+#endif
+char shmat ();
+int
+main ()
+{
+return shmat ();
+  ;
+  return 0;
 }
+_ACEOF
+rm -f conftest.$ac_objext conftest$ac_exeext
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } &&
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; }; then
+  ac_cv_lib_ipc_shmat=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+	ac_cv_lib_ipc_shmat=no
+fi
+
+rm -f core conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ echo "$as_me:$LINENO: result: $ac_cv_lib_ipc_shmat" >&5
+echo "${ECHO_T}$ac_cv_lib_ipc_shmat" >&6; }
+if test $ac_cv_lib_ipc_shmat = yes; then
+  X_EXTRA_LIBS="$X_EXTRA_LIBS -lipc"
+fi
+
+    fi
+  fi
+
+  # Check for libraries that X11R6 Xt/Xaw programs need.
+  ac_save_LDFLAGS=$LDFLAGS
+  test -n "$x_libraries" && LDFLAGS="$LDFLAGS -L$x_libraries"
+  # SM needs ICE to (dynamically) link under SunOS 4.x (so we have to
+  # check for ICE first), but we must link in the order -lSM -lICE or
+  # we get undefined symbols.  So assume we have SM if we have ICE.
+  # These have to be linked with before -lX11, unlike the other
+  # libraries we check for below, so use a different variable.
+  # John Interrante, Karl Berry
+  { echo "$as_me:$LINENO: checking for IceConnectionNumber in -lICE" >&5
+echo $ECHO_N "checking for IceConnectionNumber in -lICE... $ECHO_C" >&6; }
+if test "${ac_cv_lib_ICE_IceConnectionNumber+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lICE $X_EXTRA_LIBS $LIBS"
+cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+#ifdef __cplusplus
+extern "C"
 #endif
+char IceConnectionNumber ();
+int
+main ()
+{
+return IceConnectionNumber ();
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext conftest$ac_exeext
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } &&
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; }; then
+  ac_cv_lib_ICE_IceConnectionNumber=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+	ac_cv_lib_ICE_IceConnectionNumber=no
+fi
+
+rm -f core conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
+fi
+{ echo "$as_me:$LINENO: result: $ac_cv_lib_ICE_IceConnectionNumber" >&5
+echo "${ECHO_T}$ac_cv_lib_ICE_IceConnectionNumber" >&6; }
+if test $ac_cv_lib_ICE_IceConnectionNumber = yes; then
+  X_PRE_LIBS="$X_PRE_LIBS -lSM -lICE"
+fi
+
+  LDFLAGS=$ac_save_LDFLAGS
 
+fi
+
+x_libraries=`echo "$x_libraries" | sed -e "s,^$usr_lib\$,,"`
+X_LIBS=`echo "$X_LIBS " | sed -e "$no_usr_lib"`
+{ echo "$as_me:$LINENO: checking for XextCreateExtension in -lXext" >&5
+echo $ECHO_N "checking for XextCreateExtension in -lXext... $ECHO_C" >&6; }
+if test "${ac_cv_lib_Xext_XextCreateExtension+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  ac_check_lib_save_LIBS=$LIBS
+LIBS="-lXext $X_PRE_LIBS -lX11 $X_EXTRA_LIBS $LIBS"
+cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char XextCreateExtension ();
 int
 main ()
 {
-return f != shmat;
+return XextCreateExtension ();
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ac_cv_func_shmat=yes
+  ac_cv_lib_Xext_XextCreateExtension=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-ac_cv_func_shmat=no
+	ac_cv_lib_Xext_XextCreateExtension=no
+fi
+
+rm -f core conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
+LIBS=$ac_check_lib_save_LIBS
 fi
-rm -f conftest.err conftest.$ac_objext \
-      conftest$ac_exeext conftest.$ac_ext
+{ echo "$as_me:$LINENO: result: $ac_cv_lib_Xext_XextCreateExtension" >&5
+echo "${ECHO_T}$ac_cv_lib_Xext_XextCreateExtension" >&6; }
+if test $ac_cv_lib_Xext_XextCreateExtension = yes; then
+  Xext="-lXext"
+else
+  Xext=
 fi
-echo "$as_me:$LINENO: result: $ac_cv_func_shmat" >&5
-echo "${ECHO_T}$ac_cv_func_shmat" >&6
 
-    if test $ac_cv_func_shmat = no; then
-      echo "$as_me:$LINENO: checking for shmat in -lipc" >&5
-echo $ECHO_N "checking for shmat in -lipc... $ECHO_C" >&6
-if test "${ac_cv_lib_ipc_shmat+set}" = set; then
+{ echo "$as_me:$LINENO: checking for XtMainLoop in -lXt" >&5
+echo $ECHO_N "checking for XtMainLoop in -lXt... $ECHO_C" >&6; }
+if test "${ac_cv_lib_Xt_XtMainLoop+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   ac_check_lib_save_LIBS=$LIBS
-LIBS="-lipc  $LIBS"
+LIBS="-lXt $Xext $X_PRE_LIBS -lX11 $X_EXTRA_LIBS $LIBS"
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -27490,79 +31848,82 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 
-/* Override any gcc2 internal prototype to avoid an error.  */
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
 #ifdef __cplusplus
 extern "C"
 #endif
-/* We use char because int might match the return type of a gcc2
-   builtin and then its argument prototype would still apply.  */
-char shmat ();
+char XtMainLoop ();
 int
 main ()
 {
-shmat ();
+return XtMainLoop ();
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ac_cv_lib_ipc_shmat=yes
+  ac_cv_lib_Xt_XtMainLoop=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-ac_cv_lib_ipc_shmat=no
+	ac_cv_lib_Xt_XtMainLoop=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 LIBS=$ac_check_lib_save_LIBS
 fi
-echo "$as_me:$LINENO: result: $ac_cv_lib_ipc_shmat" >&5
-echo "${ECHO_T}$ac_cv_lib_ipc_shmat" >&6
-if test $ac_cv_lib_ipc_shmat = yes; then
-  X_EXTRA_LIBS="$X_EXTRA_LIBS -lipc"
-fi
-
-    fi
+{ echo "$as_me:$LINENO: result: $ac_cv_lib_Xt_XtMainLoop" >&5
+echo "${ECHO_T}$ac_cv_lib_Xt_XtMainLoop" >&6; }
+if test $ac_cv_lib_Xt_XtMainLoop = yes; then
+  Xt="-lXt"
+else
+  Xt=
   fi
 
-  # Check for libraries that X11R6 Xt/Xaw programs need.
-  ac_save_LDFLAGS=$LDFLAGS
-  test -n "$x_libraries" && LDFLAGS="$LDFLAGS -L$x_libraries"
-  # SM needs ICE to (dynamically) link under SunOS 4.x (so we have to
-  # check for ICE first), but we must link in the order -lSM -lICE or
-  # we get undefined symbols.  So assume we have SM if we have ICE.
-  # These have to be linked with before -lX11, unlike the other
-  # libraries we check for below, so use a different variable.
-  # John Interrante, Karl Berry
-  echo "$as_me:$LINENO: checking for IceConnectionNumber in -lICE" >&5
-echo $ECHO_N "checking for IceConnectionNumber in -lICE... $ECHO_C" >&6
-if test "${ac_cv_lib_ICE_IceConnectionNumber+set}" = set; then
+{ echo "$as_me:$LINENO: checking for XmuMakeAtom in -lXmu" >&5
+echo $ECHO_N "checking for XmuMakeAtom in -lXmu... $ECHO_C" >&6; }
+if test "${ac_cv_lib_Xmu_XmuMakeAtom+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   ac_check_lib_save_LIBS=$LIBS
-LIBS="-lICE $X_EXTRA_LIBS $LIBS"
+LIBS="-lXmu $Xt $Xext $X_PRE_LIBS -lX11 $X_EXTRA_LIBS $LIBS"
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -27570,73 +31931,172 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 
-/* Override any gcc2 internal prototype to avoid an error.  */
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
 #ifdef __cplusplus
 extern "C"
 #endif
-/* We use char because int might match the return type of a gcc2
-   builtin and then its argument prototype would still apply.  */
-char IceConnectionNumber ();
+char XmuMakeAtom ();
 int
 main ()
 {
-IceConnectionNumber ();
+return XmuMakeAtom ();
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ac_cv_lib_ICE_IceConnectionNumber=yes
+  ac_cv_lib_Xmu_XmuMakeAtom=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-ac_cv_lib_ICE_IceConnectionNumber=no
+	ac_cv_lib_Xmu_XmuMakeAtom=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 LIBS=$ac_check_lib_save_LIBS
 fi
-echo "$as_me:$LINENO: result: $ac_cv_lib_ICE_IceConnectionNumber" >&5
-echo "${ECHO_T}$ac_cv_lib_ICE_IceConnectionNumber" >&6
-if test $ac_cv_lib_ICE_IceConnectionNumber = yes; then
-  X_PRE_LIBS="$X_PRE_LIBS -lSM -lICE"
+{ echo "$as_me:$LINENO: result: $ac_cv_lib_Xmu_XmuMakeAtom" >&5
+echo "${ECHO_T}$ac_cv_lib_Xmu_XmuMakeAtom" >&6; }
+if test $ac_cv_lib_Xmu_XmuMakeAtom = yes; then
+  Xmu="-lXmu"
+else
+  Xmu=
 fi
 
-  LDFLAGS=$ac_save_LDFLAGS
+LDFLAGS=$orig_LDFLAGS
+X_ALL_LIBS="$Xmu $Xt $Xext $X_PRE_LIBS -lX11 $X_EXTRA_LIBS"
 
+## OpenGL
+if test "$with_opengl" != "no"; then
+   if test "${with_opengl-yes}" != yes; then
+      OPENGL_PATH=$with_opengl
 fi
-
-x_libraries=`echo "$x_libraries" | sed -e "s,^$usr_lib\$,,"`
-X_LIBS=`echo "$X_LIBS " | sed -e "$no_usr_lib"`
-echo "$as_me:$LINENO: checking for XextCreateExtension in -lXext" >&5
-echo $ECHO_N "checking for XextCreateExtension in -lXext... $ECHO_C" >&6
-if test "${ac_cv_lib_Xext_XextCreateExtension+set}" = set; then
+   if test -d "$OPENGL_PATH"; then
+      ncbi_fix_dir_tmp=`if cd $OPENGL_PATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
+ case "$ncbi_fix_dir_tmp" in
+    /.*) ncbi_fix_dir_tmp2=`cd $OPENGL_PATH && $smart_pwd 2>/dev/null`
+         if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
+            OPENGL_PATH=$ncbi_fix_dir_tmp2
+         else
+            case "$OPENGL_PATH" in
+               /*) ;;
+               * ) OPENGL_PATH=$ncbi_fix_dir_tmp ;;
+            esac
+         fi
+         ;;
+    /*) OPENGL_PATH=$ncbi_fix_dir_tmp ;;
+ esac
+   fi
+   case "$OSTYPE" in
+      darwin) # Use native interface
+         OPENGL_LIBS="-framework AGL -framework OpenGL"
+         ;;
+      # cygwin) ... ;;
+      *) # Default -- assume X-based
+         LIBS="$orig_LIBS"
+         CPPFLAGS="$orig_CPPFLAGS"
+         LDFLAGS="$orig_LDFLAGS $X_LIBS"
+         if test -d "$OPENGL_PATH/include/GL"; then
+            OPENGL_INCLUDE="-I$OPENGL_PATH/include $X_CFLAGS"
+         else
+            OPENGL_INCLUDE=$X_CFLAGS
+         fi
+         if test -n "$OPENGL_PATH" -a -d "$OPENGL_PATH/lib${bit64_sfx}"; then
+            ncbi_rp_L_flags=
+ ncbi_rp_L_sep=$CONF_f_libpath
+ if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
+    for x in $OPENGL_PATH/lib${bit64_sfx}; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+    done
+    OPENGL_LIBPATH="${ncbi_rp_L_flags} $X_LIBS"
+ else
+    ncbi_rp_R_flags=
+    ncbi_rp_R_sep=" $CONF_f_runpath"
+    for x in $OPENGL_PATH/lib${bit64_sfx}; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+       x=`echo $x | sed -e "$ncbi_rpath_sed"`
+       ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
+       ncbi_rp_R_sep=:
+    done
+    OPENGL_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags} $X_LIBS"
+ fi
+         elif test -f /usr/lib/mesa/libGL.so; then
+            ncbi_rp_L_flags=
+ ncbi_rp_L_sep=$CONF_f_libpath
+ if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
+    for x in /usr/lib/mesa; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+    done
+    OPENGL_LIBPATH="${ncbi_rp_L_flags} $X_LIBS"
+ else
+    ncbi_rp_R_flags=
+    ncbi_rp_R_sep=" $CONF_f_runpath"
+    for x in /usr/lib/mesa; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+       x=`echo $x | sed -e "$ncbi_rpath_sed"`
+       ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
+       ncbi_rp_R_sep=:
+    done
+    OPENGL_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags} $X_LIBS"
+ fi
+         else
+            OPENGL_LIBPATH=$X_LIBS
+         fi
+         OPENGL_LIBS="$OPENGL_LIBPATH -lGLU -lGL $X_ALL_LIBS"
+         ;;
+   esac
+   case "${OPENGL_PATH}" in
+      */*) where=" in $OPENGL_PATH" ;;
+      *  ) where= ;;
+   esac
+   { echo "$as_me:$LINENO: checking for OpenGL$where" >&5
+echo $ECHO_N "checking for OpenGL$where... $ECHO_C" >&6; }
+if test "${ncbi_cv_lib_opengl+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  ac_check_lib_save_LIBS=$LIBS
-LIBS="-lXext $X_PRE_LIBS -lX11 $X_EXTRA_LIBS $LIBS"
+  CPPFLAGS="$orig_CPPFLAGS $OPENGL_INCLUDE"
+       LIBS="$OPENGL_LIBS $orig_LIBS"
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -27644,69 +32104,136 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 
-/* Override any gcc2 internal prototype to avoid an error.  */
-#ifdef __cplusplus
-extern "C"
+           #ifdef NCBI_OS_DARWIN
+           #  include <OpenGL/gl.h>
+           #else
+           #  include <GL/gl.h>
 #endif
-/* We use char because int might match the return type of a gcc2
-   builtin and then its argument prototype would still apply.  */
-char XextCreateExtension ();
+
 int
 main ()
 {
-XextCreateExtension ();
+glBegin(0);
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ac_cv_lib_Xext_XextCreateExtension=yes
+  ncbi_cv_lib_opengl=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-ac_cv_lib_Xext_XextCreateExtension=no
+	ncbi_cv_lib_opengl=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
-LIBS=$ac_check_lib_save_LIBS
 fi
-echo "$as_me:$LINENO: result: $ac_cv_lib_Xext_XextCreateExtension" >&5
-echo "${ECHO_T}$ac_cv_lib_Xext_XextCreateExtension" >&6
-if test $ac_cv_lib_Xext_XextCreateExtension = yes; then
-  Xext="-lXext"
-else
-  Xext=
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_opengl" >&5
+echo "${ECHO_T}$ncbi_cv_lib_opengl" >&6; }
 fi
 
-echo "$as_me:$LINENO: checking for XtMainLoop in -lXt" >&5
-echo $ECHO_N "checking for XtMainLoop in -lXt... $ECHO_C" >&6
-if test "${ac_cv_lib_Xt_XtMainLoop+set}" = set; then
+if test "$with_opengl" = "no" -o "$ncbi_cv_lib_opengl" = "no"; then
+   OPENGL_INCLUDE=
+   OPENGL_LIBS=
+   OPENGL_STATIC_LIBS=
+   OSMESA_INCLUDE=
+   OSMESA_LIBS=
+   OSMESA_STATIC_LIBS=
+   GLUT_INCLUDE=
+   GLUT_LIBS=
+   GLEW_INCLUDE=
+   GLEW_LIBS=
+   GLEW_STATIC_LIBS=
+   if test "${with_opengl:=no}" != no; then
+       { { echo "$as_me:$LINENO: error: --with-opengl explicitly specified, but no usable version found." >&5
+echo "$as_me: error: --with-opengl explicitly specified, but no usable version found." >&2;}
+   { (exit 1); exit 1; }; }
+    fi
+else
+             WithPackages="$WithPackages${WithPackagesSep}OpenGL"; WithPackagesSep=" "
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_OPENGL 1
+_ACEOF
+
+   if test -f "$OPENGL_PATH/lib${bit64_sfx}/libGLU-static.a"; then
+      OPENGL_STATIC_LIBS="$OPENGL_LIBPATH -lGLU-static -lGL-static $X_ALL_LIBS"
+   else
+      OPENGL_STATIC_LIBS=$OPENGL_LIBS
+   fi
+   : ${OSMESA_PATH=$OPENGL_PATH}
+   if test "$with_mesa" != "no"; then
+      if test "${with_mesa-yes}" != "yes"; then
+         OSMESA_PATH=$with_mesa
+      fi
+      if test -d "$OSMESA_PATH"; then
+         OSMESA_INCLUDE=-I$OSMESA_PATH/include
+         if test "$OSMESA_PATH" != "$OPENGL_PATH"; then
+            ncbi_rp_L_flags=
+ ncbi_rp_L_sep=$CONF_f_libpath
+ if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
+    for x in $OSMESA_PATH/lib${bit64_sfx}; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+    done
+    OSMESA_LDFLAGS="${ncbi_rp_L_flags}"
+ else
+    ncbi_rp_R_flags=
+    ncbi_rp_R_sep=" $CONF_f_runpath"
+    for x in $OSMESA_PATH/lib${bit64_sfx}; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+       x=`echo $x | sed -e "$ncbi_rpath_sed"`
+       ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
+       ncbi_rp_R_sep=:
+    done
+    OSMESA_LDFLAGS="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+ fi
+         fi
+      fi
+      LDFLAGS="$orig_LDFLAGS $OSMESA_LDFLAGS $OPENGL_LIBPATH"
+      { echo "$as_me:$LINENO: checking for OSMesaCreateContext in -lOSMesa" >&5
+echo $ECHO_N "checking for OSMesaCreateContext in -lOSMesa... $ECHO_C" >&6; }
+if test "${ac_cv_lib_OSMesa_OSMesaCreateContext+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   ac_check_lib_save_LIBS=$LIBS
-LIBS="-lXt $Xext $X_PRE_LIBS -lX11 $X_EXTRA_LIBS $LIBS"
+LIBS="-lOSMesa $OPENGL_LIBS $LIBS"
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -27714,69 +32241,128 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 
-/* Override any gcc2 internal prototype to avoid an error.  */
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
 #ifdef __cplusplus
 extern "C"
 #endif
-/* We use char because int might match the return type of a gcc2
-   builtin and then its argument prototype would still apply.  */
-char XtMainLoop ();
+char OSMesaCreateContext ();
 int
 main ()
 {
-XtMainLoop ();
+return OSMesaCreateContext ();
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ac_cv_lib_Xt_XtMainLoop=yes
+  ac_cv_lib_OSMesa_OSMesaCreateContext=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-ac_cv_lib_Xt_XtMainLoop=no
+	ac_cv_lib_OSMesa_OSMesaCreateContext=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 LIBS=$ac_check_lib_save_LIBS
 fi
-echo "$as_me:$LINENO: result: $ac_cv_lib_Xt_XtMainLoop" >&5
-echo "${ECHO_T}$ac_cv_lib_Xt_XtMainLoop" >&6
-if test $ac_cv_lib_Xt_XtMainLoop = yes; then
-  Xt="-lXt"
+{ echo "$as_me:$LINENO: result: $ac_cv_lib_OSMesa_OSMesaCreateContext" >&5
+echo "${ECHO_T}$ac_cv_lib_OSMesa_OSMesaCreateContext" >&6; }
+if test $ac_cv_lib_OSMesa_OSMesaCreateContext = yes; then
+            WithPackages="$WithPackages${WithPackagesSep}MESA"; WithPackagesSep=" ";
+          OSMESA_LIBS="$OSMESA_LDFLAGS $OPENGL_LIBPATH -lOSMesa -lGLU -lGL $X_ALL_LIBS"
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_LIBOSMESA 1
+_ACEOF
+
 else
-  Xt=
+  OSMESA_LIBS=
 fi
 
-echo "$as_me:$LINENO: checking for XmuMakeAtom in -lXmu" >&5
-echo $ECHO_N "checking for XmuMakeAtom in -lXmu... $ECHO_C" >&6
-if test "${ac_cv_lib_Xmu_XmuMakeAtom+set}" = set; then
+   fi
+   if test -z "$OSMESA_LIBS"; then
+      if test "${with_mesa:=no}" != no; then
+       { { echo "$as_me:$LINENO: error: --with-mesa explicitly specified, but no usable version found." >&5
+echo "$as_me: error: --with-mesa explicitly specified, but no usable version found." >&2;}
+   { (exit 1); exit 1; }; }
+    fi
+   elif test -f "$OSMESA_PATH/lib${bit64_sfx}/libOSMesa-static.a"; then
+      OSMESA_STATIC_LIBS="$OSMESA_LDFLAGS $OPENGL_LIBPATH -lOSMesa-static -lGLU-static -lGL-static $X_ALL_LIBS"
+   else
+      OSMESA_STATIC_LIBS=$OSMESA_LIBS
+   fi
+   if test "$with_glut" != "no"; then
+      if test "${with_glut-yes}" != "yes"; then
+         GLUT_PATH=$with_glut
+      fi
+      if test -d "GLUT_PATH"; then
+         GLUT_INCLUDE=-I$GLUT_PATH/include
+         ncbi_rp_L_flags=
+ ncbi_rp_L_sep=$CONF_f_libpath
+ if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
+    for x in $GLUT_PATH/lib${bit64_sfx}; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+    done
+    GLUT_LDFLAGS="${ncbi_rp_L_flags}"
+ else
+    ncbi_rp_R_flags=
+    ncbi_rp_R_sep=" $CONF_f_runpath"
+    for x in $GLUT_PATH/lib${bit64_sfx}; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+       x=`echo $x | sed -e "$ncbi_rpath_sed"`
+       ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
+       ncbi_rp_R_sep=:
+    done
+    GLUT_LDFLAGS="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+ fi
+      fi
+      LDFLAGS="$orig_LDFLAGS $GLUT_LDFLAGS $OPENGL_LIBPATH"
+      { echo "$as_me:$LINENO: checking for glutInit in -lglut" >&5
+echo $ECHO_N "checking for glutInit in -lglut... $ECHO_C" >&6; }
+if test "${ac_cv_lib_glut_glutInit+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   ac_check_lib_save_LIBS=$LIBS
-LIBS="-lXmu $Xt $Xext $X_PRE_LIBS -lX11 $X_EXTRA_LIBS $LIBS"
+LIBS="-lglut $OPENGL_LIBS $LIBS"
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -27784,163 +32370,163 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 
-/* Override any gcc2 internal prototype to avoid an error.  */
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
 #ifdef __cplusplus
 extern "C"
 #endif
-/* We use char because int might match the return type of a gcc2
-   builtin and then its argument prototype would still apply.  */
-char XmuMakeAtom ();
+char glutInit ();
 int
 main ()
 {
-XmuMakeAtom ();
+return glutInit ();
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ac_cv_lib_Xmu_XmuMakeAtom=yes
+  ac_cv_lib_glut_glutInit=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-ac_cv_lib_Xmu_XmuMakeAtom=no
+	ac_cv_lib_glut_glutInit=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 LIBS=$ac_check_lib_save_LIBS
 fi
-echo "$as_me:$LINENO: result: $ac_cv_lib_Xmu_XmuMakeAtom" >&5
-echo "${ECHO_T}$ac_cv_lib_Xmu_XmuMakeAtom" >&6
-if test $ac_cv_lib_Xmu_XmuMakeAtom = yes; then
-  Xmu="-lXmu"
+{ echo "$as_me:$LINENO: result: $ac_cv_lib_glut_glutInit" >&5
+echo "${ECHO_T}$ac_cv_lib_glut_glutInit" >&6; }
+if test $ac_cv_lib_glut_glutInit = yes; then
+            WithPackages="$WithPackages${WithPackagesSep}GLUT"; WithPackagesSep=" ";
+          GLUT_LIBS="$GLUT_LDFLAGS $OPENGL_LIBPATH -lglut -lGLU -lGL $X_ALL_LIBS"
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_LIBGLUT 1
+_ACEOF
+
 else
-  Xmu=
+  GLUT_LIBS=
 fi
 
-LDFLAGS=$orig_LDFLAGS
-X_ALL_LIBS="$Xmu $Xt $Xext $X_PRE_LIBS -lX11 $X_EXTRA_LIBS"
-
-## OpenGL
-if test "$with_opengl" != "no"; then
-   if test "${with_opengl-yes}" = yes; then
-      if test -d $NCBI/MesaGL; then
-         : ${OPENGL_PATH=$NCBI/MesaGL}
+      if test -z "$GLUT_LIBS"; then
+         if test "${with_glut:=no}" != no; then
+       { { echo "$as_me:$LINENO: error: --with-glut explicitly specified, but no usable version found." >&5
+echo "$as_me: error: --with-glut explicitly specified, but no usable version found." >&2;}
+   { (exit 1); exit 1; }; }
       fi
-   else
-      OPENGL_PATH=$with_opengl
    fi
-   if test -d "$OPENGL_PATH"; then
-      ncbi_fix_dir_tmp=`if cd $OPENGL_PATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
+   fi
+   if test "$with_glew" != "no"; then
+      if test "${with_glew-yes}" != "yes"; then
+         GLEW_PATH=$with_glew
+      fi
+      if test -d "$GLEW_PATH"; then
+         if test -d "$GLEW_PATH/$compiler_vpfx$DEBUG_SFX$bit64_sfx"; then
+            GLEW_PATH=$GLEW_PATH/$compiler_vpfx$DEBUG_SFX$bit64_sfx
+         elif test -d "$GLEW_PATH/$compiler_pfx$DEBUG_SFX$bit64_sfx"; then
+            GLEW_PATH=$GLEW_PATH/$compiler_pfx$DEBUG_SFX$bit64_sfx
+         elif test -d "$GLEW_PATH/$DEBUG_SFX$bit64_sfx"; then
+            GLEW_PATH=$GLEW_PATH/$DEBUG_SFX$bit64_sfx
+         fi
+         ncbi_fix_dir_tmp=`if cd $GLEW_PATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
  case "$ncbi_fix_dir_tmp" in
-    /.*) ncbi_fix_dir_tmp2=`cd $OPENGL_PATH && $smart_pwd 2>/dev/null`
+    /.*) ncbi_fix_dir_tmp2=`cd $GLEW_PATH && $smart_pwd 2>/dev/null`
          if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
-            OPENGL_PATH=$ncbi_fix_dir_tmp2
+            GLEW_PATH=$ncbi_fix_dir_tmp2
          else
-            case "$OPENGL_PATH" in
+            case "$GLEW_PATH" in
                /*) ;;
-               * ) OPENGL_PATH=$ncbi_fix_dir_tmp ;;
+               * ) GLEW_PATH=$ncbi_fix_dir_tmp ;;
             esac
          fi
          ;;
-    /*) OPENGL_PATH=$ncbi_fix_dir_tmp ;;
+    /*) GLEW_PATH=$ncbi_fix_dir_tmp ;;
  esac
-   fi
-   case "$OSTYPE" in
-      darwin) # Use native interface
-         OPENGL_LIBS="-framework AGL -framework OpenGL"
-         ;;
-      # cygwin) ... ;;
-      *) # Default -- assume X-based
-         LIBS="$orig_LIBS"
-         CPPFLAGS="$orig_CPPFLAGS"
-         LDFLAGS="$orig_LDFLAGS $X_LIBS"
-         if test -d "$OPENGL_PATH/include/GL"; then
-            OPENGL_INCLUDE="-I$OPENGL_PATH/include $X_CFLAGS"
+         GLEW_LIBDIR=$GLEW_PATH/lib
+         if test -n "$bit64_sfx" -a -d $GLEW_LIBDIR$bit64_sfx; then
+            if test -d $GLEW_LIBDIR; then
+               for x in $GLEW_LIBDIR/libGLEW*; do
+                  if cmp -s "$x" "$GLEW_LIBDIR$bit64_sfx/`basename \"$x\"`"; then
+                     :
          else
-            OPENGL_INCLUDE=$X_CFLAGS
+                     GLEW_LIBDIR=$GLEW_LIBDIR$bit64_sfx
+                     break
          fi
-         if test -n "$OPENGL_PATH" -a -d "$OPENGL_PATH/lib${bit64_sfx}"; then
-            ncbi_rp_L_flags=
- ncbi_rp_L_sep=$CONF_f_libpath
- if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $OPENGL_PATH/lib${bit64_sfx}; do
-       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
-       ncbi_rp_L_sep=" $CONF_f_libpath"
     done
-    OPENGL_LIBPATH="${ncbi_rp_L_flags} $X_LIBS"
  else
-    ncbi_rp_R_flags=
-    ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $OPENGL_PATH/lib${bit64_sfx}; do
-       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
-       ncbi_rp_L_sep=" $CONF_f_libpath"
-       x=`echo $x | sed -e "$ncbi_rpath_sed"`
-       ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
-       ncbi_rp_R_sep=:
-    done
-    OPENGL_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags} $X_LIBS"
+               GLEW_LIBDIR=$GLEW_LIBDIR$bit64_sfx
  fi
-         elif test -f /usr/lib/mesa/libGL.so; then
-            ncbi_rp_L_flags=
- ncbi_rp_L_sep=$CONF_f_libpath
- if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in /usr/lib/mesa; do
-       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
-       ncbi_rp_L_sep=" $CONF_f_libpath"
-    done
-    OPENGL_LIBPATH="${ncbi_rp_L_flags} $X_LIBS"
+         fi
+         glew_config="eval PKG_CONFIG_PATH=\"$GLEW_LIBDIR/pkgconfig\" pkg-config"
  else
-    ncbi_rp_R_flags=
-    ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in /usr/lib/mesa; do
-       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
-       ncbi_rp_L_sep=" $CONF_f_libpath"
-       x=`echo $x | sed -e "$ncbi_rpath_sed"`
-       ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
-       ncbi_rp_R_sep=:
-    done
-    OPENGL_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags} $X_LIBS"
+         glew_config=pkg-config
  fi
+      if pkg-config --version >/dev/null 2>&1; then
+         if $glew_config glewmx --exists >/dev/null 2>&1 \
+           && test -n "`$glew_config glewmx --libs 2>/dev/null`"; then
+            glew_config="$glew_config glewmx"
+         elif $glew_config glew --exists >/dev/null 2>&1 \
+           && test -n "`$glew_config glew --libs 2>/dev/null`"; then
+            glew_config="$glew_config glew"
          else
-            OPENGL_LIBPATH=$X_LIBS
+            glew_config=
          fi
-         OPENGL_LIBS="$OPENGL_LIBPATH -lGLU -lGL $X_ALL_LIBS"
-         ;;
-   esac
-   case "${OPENGL_PATH}" in
-      */*) where=" in $OPENGL_PATH" ;;
-      *  ) where= ;;
-   esac
-   echo "$as_me:$LINENO: checking for OpenGL$where" >&5
-echo $ECHO_N "checking for OpenGL$where... $ECHO_C" >&6
-if test "${ncbi_cv_lib_opengl+set}" = set; then
+         if test -n "$glew_config"; then
+            GLEW_INCLUDE=`$glew_config --cflags | sed 's:/GL *$::'`
+            GLEW_LDFLAGS=`$glew_config --libs-only-L`
+            glew_libname=`$glew_config --libs-only-l | sed -e 's/-l//'`
+         fi
+      fi
+      if test -z "$glew_libname" -a -d "$GLEW_PATH"; then
+         GLEW_INCLUDE=-I$GLEW_PATH/include
+         GLEW_LDFLAGS=-L$GLEW_LIBDIR
+      fi
+      LDFLAGS="$orig_LDFLAGS $GLEW_LDFLAGS"
+      LIBS="$OPENGL_LIBS $DL_LIBS $orig_LIBS"
+      saved_LIBS=$LIBS
+ { echo "$as_me:$LINENO: checking for library containing glewGetExtension" >&5
+echo $ECHO_N "checking for library containing glewGetExtension... $ECHO_C" >&6; }
+if test "${ac_cv_search_glewGetExtension+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  CPPFLAGS="$orig_CPPFLAGS $OPENGL_INCLUDE"
-       LIBS="$OPENGL_LIBS $orig_LIBS"
+  ac_func_search_save_LIBS=$LIBS
        cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -27948,567 +32534,656 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 
-           #ifdef NCBI_OS_DARWIN
-           #  include <OpenGL/gl.h>
-           #else
-           #  include <GL/gl.h>
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+#ifdef __cplusplus
+extern "C"
            #endif
-
+char glewGetExtension ();
 int
 main ()
 {
-glBegin(0);
+return glewGetExtension ();
   ;
   return 0;
 }
 _ACEOF
+for ac_lib in '' "$GLEW_LIBS" $glew_libname GLEWmx GLEW; do
+  if test -z "$ac_lib"; then
+    ac_res="none required"
+  else
+    ac_res=-l$ac_lib
+    LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
+  fi
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ncbi_cv_lib_opengl=yes
+  ac_cv_search_glewGetExtension=$ac_res
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
-
-ncbi_cv_lib_opengl=no
-fi
-rm -f conftest.err conftest.$ac_objext \
-      conftest$ac_exeext conftest.$ac_ext
-fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_opengl" >&5
-echo "${ECHO_T}$ncbi_cv_lib_opengl" >&6
-fi
-
-if test "$with_opengl" = "no" -o "$ncbi_cv_lib_opengl" = "no"; then
-   OPENGL_INCLUDE=
-   OPENGL_LIBS=
-   OPENGL_STATIC_LIBS=
-   OSMESA_INCLUDE=
-   OSMESA_LIBS=
-   OSMESA_STATIC_LIBS=
-   GLUT_INCLUDE=
-   GLUT_LIBS=
-   GLEW_INCLUDE=
-   GLEW_LIBS=
-   GLEW_STATIC_LIBS=
-   if test "${with_opengl:=no}" != no; then
-       { { echo "$as_me:$LINENO: error: --with-opengl explicitly specified, but no usable version found." >&5
-echo "$as_me: error: --with-opengl explicitly specified, but no usable version found." >&2;}
-   { (exit 1); exit 1; }; }
+
+
+fi
+
+rm -f core conftest.err conftest.$ac_objext \
+      conftest$ac_exeext
+  if test "${ac_cv_search_glewGetExtension+set}" = set; then
+  break
     fi
+done
+if test "${ac_cv_search_glewGetExtension+set}" = set; then
+  :
 else
-             WithPackages="$WithPackages${WithPackagesSep}OpenGL"; WithPackagesSep=" "
+  ac_cv_search_glewGetExtension=no
+fi
+rm conftest.$ac_ext
+LIBS=$ac_func_search_save_LIBS
+fi
+{ echo "$as_me:$LINENO: result: $ac_cv_search_glewGetExtension" >&5
+echo "${ECHO_T}$ac_cv_search_glewGetExtension" >&6; }
+ac_res=$ac_cv_search_glewGetExtension
+if test "$ac_res" != no; then
+  test "$ac_res" = "none required" || LIBS="$ac_res $LIBS"
 
 cat >>confdefs.h <<\_ACEOF
-#define HAVE_OPENGL 1
+#define HAVE_LIBGLEW 1
 _ACEOF
 
-   if test -f "$OPENGL_PATH/lib${bit64_sfx}/libGLU-static.a"; then
-      OPENGL_STATIC_LIBS="$OPENGL_LIBPATH -lGLU-static -lGL-static $X_ALL_LIBS"
-   else
-      OPENGL_STATIC_LIBS=$OPENGL_LIBS
+   test "x$ac_cv_search_glewGetExtension" = "xnone required" || GLEW_LIBS=$ac_cv_search_glewGetExtension
    fi
-   : ${OSMESA_PATH=$OPENGL_PATH}
-   if test "$with_mesa" != "no"; then
-      if test "${with_mesa-yes}" != "yes"; then
-         OSMESA_PATH=$with_mesa
+
+ LIBS=$saved_LIBS
+
+      if test "$ac_cv_search_glewGetExtension" = no; then
+         GLEW_INCLUDE=
+         GLEW_LIBS=
+         if test "${with_glew:=no}" != no; then
+       { { echo "$as_me:$LINENO: error: --with-glew explicitly specified, but no usable version found." >&5
+echo "$as_me: error: --with-glew explicitly specified, but no usable version found." >&2;}
+   { (exit 1); exit 1; }; }
       fi
-      if test -d "$OSMESA_PATH"; then
-         OSMESA_INCLUDE=-I$OSMESA_PATH/include
-         if test "$OSMESA_PATH" != "$OPENGL_PATH"; then
-            ncbi_rp_L_flags=
- ncbi_rp_L_sep=$CONF_f_libpath
+         if test "${with_glew_mx:=no}" != no; then
+       { { echo "$as_me:$LINENO: error: --with-glew-mx explicitly specified, but no usable version found." >&5
+echo "$as_me: error: --with-glew-mx explicitly specified, but no usable version found." >&2;}
+   { (exit 1); exit 1; }; }
+    fi
+      else
+         if test -z "${tmp_LIBS+set}"; then
  if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $OSMESA_PATH/lib${bit64_sfx}; do
-       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
-       ncbi_rp_L_sep=" $CONF_f_libpath"
-    done
-    OSMESA_LDFLAGS="${ncbi_rp_L_flags}"
+    tmp_LIBS=`echo $GLEW_LDFLAGS $GLEW_LIBS | sed -e ""`
  else
+    tmp_LIBS=
+    ncbi_rp_L_sep=
     ncbi_rp_R_flags=
     ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $OSMESA_PATH/lib${bit64_sfx}; do
-       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
-       ncbi_rp_L_sep=" $CONF_f_libpath"
-       x=`echo $x | sed -e "$ncbi_rpath_sed"`
+    for x in `echo $GLEW_LDFLAGS $GLEW_LIBS | sed -e ""`; do
+       case "$x" in
+          -L*)
+             tmp_LIBS="$tmp_LIBS${ncbi_rp_L_sep}$x"
+             x=`echo $x | sed -e "s/^-L//; $ncbi_rpath_sed"`
        ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
        ncbi_rp_R_sep=:
+             ;;
+          *)
+             tmp_LIBS="$tmp_LIBS${ncbi_rp_R_flags}${ncbi_rp_L_sep}$x"
+             ncbi_rp_R_flags=
+             ncbi_rp_R_sep=" $CONF_f_runpath"
+             ;;
+       esac
+       ncbi_rp_L_sep=" "
     done
-    OSMESA_LDFLAGS="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
- fi
+    tmp_LIBS="$tmp_LIBS${ncbi_rp_R_flags}"
          fi
       fi
-      LDFLAGS="$orig_LDFLAGS $OSMESA_LDFLAGS $OPENGL_LIBPATH"
-      echo "$as_me:$LINENO: checking for OSMesaCreateContext in -lOSMesa" >&5
-echo $ECHO_N "checking for OSMesaCreateContext in -lOSMesa... $ECHO_C" >&6
-if test "${ac_cv_lib_OSMesa_OSMesaCreateContext+set}" = set; then
+         GLEW_LIBS=$tmp_LIBS
+                   WithPackages="$WithPackages${WithPackagesSep}GLEW"; WithPackagesSep=" "
+         CPPFLAGS="$orig_CPPFLAGS $GLEW_INCLUDE $OPENGL_INCLUDE"
+         LIBS="$GLEW_LIBS $OPENGL_LIBS $DL_LIBS $orig_LIBS"
+         { echo "$as_me:$LINENO: checking for GLEW multi-context (MX) support (recommended)" >&5
+echo $ECHO_N "checking for GLEW multi-context (MX) support (recommended)... $ECHO_C" >&6; }
+if test "${ncbi_cv_lib_glew_mx+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  ac_check_lib_save_LIBS=$LIBS
-LIBS="-lOSMesa $OPENGL_LIBS $LIBS"
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-
-/* Override any gcc2 internal prototype to avoid an error.  */
-#ifdef __cplusplus
-extern "C"
-#endif
-/* We use char because int might match the return type of a gcc2
-   builtin and then its argument prototype would still apply.  */
-char OSMesaCreateContext ();
+#define GLEW_MX 1
+                 #include <GL/glew.h>
 int
 main ()
 {
-OSMesaCreateContext ();
+glewContextInit(NULL);
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ac_cv_lib_OSMesa_OSMesaCreateContext=yes
+  ncbi_cv_lib_glew_mx=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-ac_cv_lib_OSMesa_OSMesaCreateContext=no
+	ncbi_cv_lib_glew_mx=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
-LIBS=$ac_check_lib_save_LIBS
 fi
-echo "$as_me:$LINENO: result: $ac_cv_lib_OSMesa_OSMesaCreateContext" >&5
-echo "${ECHO_T}$ac_cv_lib_OSMesa_OSMesaCreateContext" >&6
-if test $ac_cv_lib_OSMesa_OSMesaCreateContext = yes; then
-            WithPackages="$WithPackages${WithPackagesSep}MESA"; WithPackagesSep=" ";
-          OSMESA_LIBS="$OSMESA_LDFLAGS $OPENGL_LIBPATH -lOSMesa -lGLU -lGL $X_ALL_LIBS"
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_glew_mx" >&5
+echo "${ECHO_T}$ncbi_cv_lib_glew_mx" >&6; }
+          if test $ncbi_cv_lib_glew_mx = yes; then
+             GLEW_INCLUDE="$GLEW_INCLUDE -DGLEW_MX"
+          else
+             if test "${with_glew_mx:=no}" != no; then
+       { { echo "$as_me:$LINENO: error: --with-glew-mx explicitly specified, but no usable version found." >&5
+echo "$as_me: error: --with-glew-mx explicitly specified, but no usable version found." >&2;}
+   { (exit 1); exit 1; }; }
+    fi
+          fi
+          : ${GLEW_STATIC_LIBS=$GLEW_LIBDIR/libGLEW-static.a}
+          test -f "$GLEW_STATIC_LIBS"  ||  GLEW_STATIC_LIBS=$GLEW_LIBS
+      fi
+   fi
+fi
 
-cat >>confdefs.h <<\_ACEOF
-#define HAVE_LIBOSMESA 1
-_ACEOF
+LDFLAGS=$orig_LDFLAGS
+
+
+## wxWidgets
+# Insist on single-byte builds by default, per various projects' expectations.
+: ${with_wxwidgets_ucs=no}
+if test "$with_wxwidgets" != "no" ; then
+   case "$with_wxwidgets" in
+      yes | "" ) ;;
+      *        ) WXWIDGETS_PATH=$with_wxwidgets ;;
+   esac
+   if test -d "$WXWIDGETS_PATH/${compiler_vpfx}${DEBUG_SFX}${mt_sfx}${bit64_sfx}/lib" \
+        -a -z "$WXWIDGETS_ARCH_PATH"; then
+      WXWIDGETS_ARCH_PATH="$WXWIDGETS_PATH/${compiler_vpfx}${DEBUG_SFX}${mt_sfx}${bit64_sfx}"
+   elif test -d "$WXWIDGETS_PATH/${compiler_pfx}${DEBUG_SFX}${mt_sfx}${bit64_sfx}/lib" \
+        -a -z "$WXWIDGETS_ARCH_PATH"; then
+      WXWIDGETS_ARCH_PATH="$WXWIDGETS_PATH/${compiler_pfx}${DEBUG_SFX}${mt_sfx}${bit64_sfx}"
+   else
+      WXWIDGETS_ARCH_PATH="$WXWIDGETS_PATH"
+   fi
+   WXWIDGETS_BINPATH=${WXWIDGETS_BINPATH:="$WXWIDGETS_ARCH_PATH/bin"}
+   WXWIDGETS_LIBPATH=${WXWIDGETS_LIBPATH:="$WXWIDGETS_ARCH_PATH/lib"}
+   WXWIDGETS_INCLUDE=
+   $as_unset wxconf || test "${wxconf+set}" != set || { wxconf=; export wxconf; }
+   # Extract the first word of "wx-config", so it can be a program name with args.
+set dummy wx-config; ac_word=$2
+{ echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
+if test "${ac_cv_path_wxconf+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  case $wxconf in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_wxconf="$wxconf" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+as_dummy="$WXWIDGETS_BINPATH:$PATH"
+for as_dir in $as_dummy
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+  for ac_exec_ext in '' $ac_executable_extensions; do
+  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; }; then
+    ac_cv_path_wxconf="$as_dir/$ac_word$ac_exec_ext"
+    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+done
+IFS=$as_save_IFS
 
+  ;;
+esac
+fi
+wxconf=$ac_cv_path_wxconf
+if test -n "$wxconf"; then
+  { echo "$as_me:$LINENO: result: $wxconf" >&5
+echo "${ECHO_T}$wxconf" >&6; }
 else
-  OSMESA_LIBS=
+  { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
 fi
 
+
+   if test -x "$wxconf"; then
+      WXWIDGETS_ARCH_PATH=`$wxconf --exec-prefix`
+      if test -n "$with_wxwidgets_ucs"; then
+         wxcfflags=--unicode=$with_wxwidgets_ucs
+      else
+         wxcfflags=
    fi
-   if test -z "$OSMESA_LIBS"; then
-      if test "${with_mesa:=no}" != no; then
-       { { echo "$as_me:$LINENO: error: --with-mesa explicitly specified, but no usable version found." >&5
-echo "$as_me: error: --with-mesa explicitly specified, but no usable version found." >&2;}
-   { (exit 1); exit 1; }; }
+      for x in `"$wxconf" $wxcfflags --libs --static 2>&5`; do
+         case "$x" in
+            -L*)
+                d=`echo $x | sed -e 's/^-L//'`
+                pcd=$d/pkgconfig
+                if test -d "$pcd"; then
+                   PKG_CONFIG_PATH="${PKG_CONFIG_PATH+$PKG_CONFIG_PATH:}$pcd"
     fi
-   elif test -f "$OSMESA_PATH/lib${bit64_sfx}/libOSMesa-static.a"; then
-      OSMESA_STATIC_LIBS="$OSMESA_LDFLAGS $OPENGL_LIBPATH -lOSMesa-static -lGLU-static -lGL-static $X_ALL_LIBS"
+                ;;
+         esac
+      done
+      export PKG_CONFIG_PATH
    else
-      OSMESA_STATIC_LIBS=$OSMESA_LIBS
+      $as_unset wxconf || test "${wxconf+set}" != set || { wxconf=; export wxconf; }
    fi
-   : ${GLUT_PATH=$NCBI/glut}
-   if test "$with_glut" != "no"; then
-      if test "${with_glut-yes}" != "yes"; then
-         GLUT_PATH=$with_glut
+   if test -x "$wxconf" \
+     &&  "$wxconf" $wxcfflags --list 2>/dev/null \
+       | grep 'Default config is gtk2' >/dev/null; then
+      gtkconf="pkg-config gtk+-2.0"
+   elif test -x "$WXWIDGETS_BINPATH/gtk-config"; then
+      gtkconf=$WXWIDGETS_BINPATH/gtk-config
+   elif gtk-config --version >/dev/null 2>&1; then
+      gtkconf=gtk-config
+   else
+      # May work without gtk-config (e.g., on Mac OS X)
+      gtkconf=:
       fi
-      if test -d "GLUT_PATH"; then
-         GLUT_INCLUDE=-I$GLUT_PATH/include
-         ncbi_rp_L_flags=
- ncbi_rp_L_sep=$CONF_f_libpath
+   case "$host_os" in
+      darwin* )
+         baseflags=""
+         basesed='s/-isysroot [^ ]*//g; s/-arch [^ ]*//g'
+         if test -n "$SYSROOT"; then
+            deps=`"$wxconf" $wxcfflags --libs --static 2>/dev/null \
+                  | sed -e 's/.*\.a//'`
+            libsed="$basesed; s/\$/ $deps/"
+         else
+            libsed=$basesed
+         fi
+         ;;
+      * )
+         baseflags=`$gtkconf --cflags 2>/dev/null`
+         basesed=$no_usr_lib
+         libsed=$basesed
+         ;;
+   esac
+   { echo "$as_me:$LINENO: checking for wxWidgets${WXWIDGETS_ARCH_PATH:+ in $WXWIDGETS_ARCH_PATH}" >&5
+echo $ECHO_N "checking for wxWidgets${WXWIDGETS_ARCH_PATH:+ in $WXWIDGETS_ARCH_PATH}... $ECHO_C" >&6; }
+if test "${ncbi_cv_lib_wxwidgets+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  if test -x "$wxconf" ; then
+          WXWIDGETS_INCLUDE="$baseflags `"$wxconf" $wxcfflags --cflags`"
  if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $GLUT_PATH/lib${bit64_sfx}; do
-       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
-       ncbi_rp_L_sep=" $CONF_f_libpath"
-    done
-    GLUT_LDFLAGS="${ncbi_rp_L_flags}"
+    WXWIDGETS_LIBS=`"$wxconf" $wxcfflags --libs | sed -e "$libsed; s/ -lm / /g;"`
  else
+    WXWIDGETS_LIBS=
+    ncbi_rp_L_sep=
     ncbi_rp_R_flags=
-    ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $GLUT_PATH/lib${bit64_sfx}; do
-       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
-       ncbi_rp_L_sep=" $CONF_f_libpath"
-       x=`echo $x | sed -e "$ncbi_rpath_sed"`
+    ncbi_rp_R_sep=" $CONF_f_runpath"
+    for x in `"$wxconf" $wxcfflags --libs | sed -e "$libsed; s/ -lm / /g;"`; do
+       case "$x" in
+          -L*)
+             WXWIDGETS_LIBS="$WXWIDGETS_LIBS${ncbi_rp_L_sep}$x"
+             x=`echo $x | sed -e "s/^-L//; $ncbi_rpath_sed"`
        ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
        ncbi_rp_R_sep=:
+             ;;
+          *)
+             WXWIDGETS_LIBS="$WXWIDGETS_LIBS${ncbi_rp_R_flags}${ncbi_rp_L_sep}$x"
+             ncbi_rp_R_flags=
+             ncbi_rp_R_sep=" $CONF_f_runpath"
+             ;;
+       esac
+       ncbi_rp_L_sep=" "
     done
-    GLUT_LDFLAGS="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
- fi
+    WXWIDGETS_LIBS="$WXWIDGETS_LIBS${ncbi_rp_R_flags}"
       fi
-      LDFLAGS="$orig_LDFLAGS $GLUT_LDFLAGS $OPENGL_LIBPATH"
-      echo "$as_me:$LINENO: checking for glutInit in -lglut" >&5
-echo $ECHO_N "checking for glutInit in -lglut... $ECHO_C" >&6
-if test "${ac_cv_lib_glut_glutInit+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  ac_check_lib_save_LIBS=$LIBS
-LIBS="-lglut $OPENGL_LIBS $LIBS"
+
+          CPPFLAGS="$WXWIDGETS_INCLUDE $orig_CPPFLAGS"
+          LIBS="$WXWIDGETS_LIBS $orig_LIBS"
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-
-/* Override any gcc2 internal prototype to avoid an error.  */
-#ifdef __cplusplus
-extern "C"
-#endif
-/* We use char because int might match the return type of a gcc2
-   builtin and then its argument prototype would still apply.  */
-char glutInit ();
+#include <wx/wx.h>
 int
 main ()
 {
-glutInit ();
+ wxExit();
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ac_cv_lib_glut_glutInit=yes
+  ncbi_cv_lib_wxwidgets=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-ac_cv_lib_glut_glutInit=no
-fi
-rm -f conftest.err conftest.$ac_objext \
-      conftest$ac_exeext conftest.$ac_ext
-LIBS=$ac_check_lib_save_LIBS
+	ncbi_cv_lib_wxwidgets=no
 fi
-echo "$as_me:$LINENO: result: $ac_cv_lib_glut_glutInit" >&5
-echo "${ECHO_T}$ac_cv_lib_glut_glutInit" >&6
-if test $ac_cv_lib_glut_glutInit = yes; then
-            WithPackages="$WithPackages${WithPackagesSep}GLUT"; WithPackagesSep=" ";
-          GLUT_LIBS="$GLUT_LDFLAGS $OPENGL_LIBPATH -lglut -lGLU -lGL $X_ALL_LIBS"
-
-cat >>confdefs.h <<\_ACEOF
-#define HAVE_LIBGLUT 1
-_ACEOF
 
+rm -f core conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
 else
-  GLUT_LIBS=
-fi
-
-      if test -z "$GLUT_LIBS"; then
-         if test "${with_glut:=no}" != no; then
-       { { echo "$as_me:$LINENO: error: --with-glut explicitly specified, but no usable version found." >&5
-echo "$as_me: error: --with-glut explicitly specified, but no usable version found." >&2;}
-   { (exit 1); exit 1; }; }
+          ncbi_cv_lib_wxwidgets=no
     fi
       fi
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_wxwidgets" >&5
+echo "${ECHO_T}$ncbi_cv_lib_wxwidgets" >&6; }
+   if test "$ncbi_cv_lib_wxwidgets" = "no"; then
+      if test "${with_wxwidgets:=no}" != no; then
+       { { echo "$as_me:$LINENO: error: --with-wxwidgets explicitly specified, but no usable version found." >&5
+echo "$as_me: error: --with-wxwidgets explicitly specified, but no usable version found." >&2;}
+   { (exit 1); exit 1; }; }
    fi
-   : ${GLEW_PATH=$NCBI/glew}
-   if test "$with_glew" != "no"; then
-      if test "${with_glew-yes}" != "yes"; then
-         GLEW_PATH=$with_glew
       fi
-      if test -d "$GLEW_PATH"; then
-         if test -d "$GLEW_PATH/$compiler_vpfx$DEBUG_SFX$bit64_sfx"; then
-            GLEW_PATH=$GLEW_PATH/$compiler_vpfx$DEBUG_SFX$bit64_sfx
-         elif test -d "$GLEW_PATH/$compiler_pfx$DEBUG_SFX$bit64_sfx"; then
-            GLEW_PATH=$GLEW_PATH/$compiler_pfx$DEBUG_SFX$bit64_sfx
-         elif test -d "$GLEW_PATH/$DEBUG_SFX$bit64_sfx"; then
-            GLEW_PATH=$GLEW_PATH/$DEBUG_SFX$bit64_sfx
          fi
-         ncbi_fix_dir_tmp=`if cd $GLEW_PATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
- case "$ncbi_fix_dir_tmp" in
-    /.*) ncbi_fix_dir_tmp2=`cd $GLEW_PATH && $smart_pwd 2>/dev/null`
-         if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
-            GLEW_PATH=$ncbi_fix_dir_tmp2
+
+if test "$with_wxwidgets" = "no" ; then
+   WXWIDGETS_LIBPATH="No_wxWidgets"
+   WXWIDGETS_INCLUDE=
+   WXWIDGETS_LIBS=
+   WXWIDGETS_STATIC_LIBS=
+   WXWIDGETS_GL_LIBS=
+   WXWIDGETS_GL_STATIC_LIBS=
+   WXWIDGETS_POST_LINK=:
          else
-            case "$GLEW_PATH" in
-               /*) ;;
-               * ) GLEW_PATH=$ncbi_fix_dir_tmp ;;
+             WithPackages="$WithPackages${WithPackagesSep}wxWidgets"; WithPackagesSep=" "
+   case "`"$wxconf" $wxcfflags --version`" in
+      1.* | 2.[0-7].*)
+         wxlibs=std
+         ;;
+      *)
+                   WithPackages="$WithPackages${WithPackagesSep}wx2.8"; WithPackagesSep=" "
+         wxlibs=std,richtext,aui,propgrid
+         ;;
             esac
+   # The "yes" may have been cached; get the actual settings again if needed
+   if test -z "$WXWIDGETS_INCLUDE"; then
+      WXWIDGETS_INCLUDE="$baseflags `"$wxconf" $wxcfflags --cflags`"
          fi
+   if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
+    WXWIDGETS_LIBS=`$wxconf $wxcfflags --libs $wxlibs | sed -e "$libsed; s/ -lm / /g;"`
+ else
+    WXWIDGETS_LIBS=
+    ncbi_rp_L_sep=
+    ncbi_rp_R_flags=
+    ncbi_rp_R_sep=" $CONF_f_runpath"
+    for x in `$wxconf $wxcfflags --libs $wxlibs | sed -e "$libsed; s/ -lm / /g;"`; do
+       case "$x" in
+          -L*)
+             WXWIDGETS_LIBS="$WXWIDGETS_LIBS${ncbi_rp_L_sep}$x"
+             x=`echo $x | sed -e "s/^-L//; $ncbi_rpath_sed"`
+             ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
+             ncbi_rp_R_sep=:
+             ;;
+          *)
+             WXWIDGETS_LIBS="$WXWIDGETS_LIBS${ncbi_rp_R_flags}${ncbi_rp_L_sep}$x"
+             ncbi_rp_R_flags=
+             ncbi_rp_R_sep=" $CONF_f_runpath"
          ;;
-    /*) GLEW_PATH=$ncbi_fix_dir_tmp ;;
  esac
-         GLEW_LIBDIR=$GLEW_PATH/lib
-         if test -n "$bit64_sfx" -a -d $GLEW_LIBDIR$bit64_sfx; then
-            if test -d $GLEW_LIBDIR; then
-               for x in $GLEW_LIBDIR/libGLEW*; do
-                  if cmp -s "$x" "$GLEW_LIBDIR$bit64_sfx/`basename \"$x\"`"; then
-                     :
-                  else
-                     GLEW_LIBDIR=$GLEW_LIBDIR$bit64_sfx
-                     break
-                  fi
+       ncbi_rp_L_sep=" "
                done
-            else
-               GLEW_LIBDIR=$GLEW_LIBDIR$bit64_sfx
-            fi
-         fi
-         glew_config="eval PKG_CONFIG_PATH=\"$GLEW_LIBDIR/pkgconfig\" pkg-config"
-      else
-         glew_config=pkg-config
+    WXWIDGETS_LIBS="$WXWIDGETS_LIBS${ncbi_rp_R_flags}"
       fi
-      if pkg-config --version >/dev/null 2>&1; then
-         if $glew_config glewmx --exists >/dev/null 2>&1 \
-           && test -n "`$glew_config glewmx --libs 2>/dev/null`"; then
-            glew_config="$glew_config glewmx"
-         elif $glew_config glew --exists >/dev/null 2>&1 \
-           && test -n "`$glew_config glew --libs 2>/dev/null`"; then
-            glew_config="$glew_config glew"
+   WXWIDGETS_STATIC_LIBS=`"$wxconf" $wxcfflags --libs --static $wxlibs \
+      2>/dev/null | sed -e "$basesed; s/ -lm / /g;"`
+   if test -n "$WXWIDGETS_STATIC_LIBS"; then
+      # Allow direct use of underlying libraries with strict linkers
+      WXWIDGETS_LIBS="$WXWIDGETS_LIBS `echo $WXWIDGETS_STATIC_LIBS | sed -e 's/.*\.a *//'`"
          else
-            glew_config=
+      WXWIDGETS_STATIC_LIBS=$WXWIDGETS_LIBS
          fi
-         if test -n "$glew_config"; then
-            GLEW_INCLUDE=`$glew_config --cflags | sed 's:/GL *$::'`
-            GLEW_LDFLAGS=`$glew_config --libs-only-L`
-            glew_libname=`$glew_config --libs-only-l | sed -e 's/-l//'`
+   WXWIDGETS_GL_LIBS=`"$wxconf" $wxcfflags --libs gl | sed -e "$basesed"`
+   WXWIDGETS_GL_STATIC_LIBS=`"$wxconf" $wxcfflags --libs gl --static \
+      2>/dev/null | sed -e "$basesed; s|-lGLU* -lGLU*|$OPENGL_STATIC_LIBS|"`
+   : ${WXWIDGETS_GL_STATIC_LIBS:=$WXWIDGETS_GL_LIBS}
+   WXWIDGETS_POST_LINK=`"$wxconf" $wxcfflags --rezflags 2>/dev/null`
+   test -n "$WXWIDGETS_POST_LINK"  ||  WXWIDGETS_POST_LINK=:
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_WXWIDGETS 1
+_ACEOF
+
          fi
+
+
+## In-house Fast-CGI library
+if test "$with_fastcgi" != "no" ; then
+   case "$with_fastcgi" in
+      yes | "" ) ;;
+      */*      ) FASTCGI_PATH=$with_fastcgi              ;;
+      *        ) FASTCGI_PATH=$NCBI/fcgi-${with_fastcgi} ;;
+   esac
+   if test -d "$FASTCGI_PATH"; then
+      ncbi_fix_dir_tmp=`if cd $FASTCGI_PATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
+ case "$ncbi_fix_dir_tmp" in
+    /.*) ncbi_fix_dir_tmp2=`cd $FASTCGI_PATH && $smart_pwd 2>/dev/null`
+         if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
+            FASTCGI_PATH=$ncbi_fix_dir_tmp2
+         else
+            case "$FASTCGI_PATH" in
+               /*) ;;
+               * ) FASTCGI_PATH=$ncbi_fix_dir_tmp ;;
+            esac
       fi
-      if test -z "$glew_libname" -a -d "$GLEW_PATH"; then
-         GLEW_INCLUDE=-I$GLEW_PATH/include
-         GLEW_LDFLAGS=-L$GLEW_LIBDIR
+         ;;
+    /*) FASTCGI_PATH=$ncbi_fix_dir_tmp ;;
+ esac
       fi
-      LDFLAGS="$orig_LDFLAGS $GLEW_LDFLAGS"
-      LIBS="$OPENGL_LIBS $DL_LIBS $orig_LIBS"
-      saved_LIBS=$LIBS
- echo "$as_me:$LINENO: checking for library containing glewGetExtension" >&5
-echo $ECHO_N "checking for library containing glewGetExtension... $ECHO_C" >&6
-if test "${ac_cv_search_glewGetExtension+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
+   FASTCGI_INCLUDE="-I$FASTCGI_PATH/include${bit64_sfx}"
+   if test "$with_debug" = "no" ; then
+      FASTCGI_LIBDIR="$FASTCGI_PATH/lib${bit64_sfx}"
 else
-  ac_func_search_save_LIBS=$LIBS
-ac_cv_search_glewGetExtension=no
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-
-/* Override any gcc2 internal prototype to avoid an error.  */
-#ifdef __cplusplus
-extern "C"
-#endif
-/* We use char because int might match the return type of a gcc2
-   builtin and then its argument prototype would still apply.  */
-char glewGetExtension ();
-int
-main ()
-{
-glewGetExtension ();
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
-  ac_status=$?
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); }; } &&
-	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
-  ac_status=$?
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); }; }; then
-  ac_cv_search_glewGetExtension="none required"
+      FASTCGI_LIBDIR="$FASTCGI_PATH/altlib${bit64_sfx}"
+   fi
+   ncbi_rp_L_flags=
+ ncbi_rp_L_sep=$CONF_f_libpath
+ if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
+    for x in $FASTCGI_LIBDIR; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+    done
+    FASTCGI_LIBS="${ncbi_rp_L_flags} -lfcgi $NETWORK_LIBS"
 else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
+    ncbi_rp_R_flags=
+    ncbi_rp_R_sep=" $CONF_f_runpath"
+    for x in $FASTCGI_LIBDIR; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+       x=`echo $x | sed -e "$ncbi_rpath_sed"`
+       ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
+       ncbi_rp_R_sep=:
+    done
+    FASTCGI_LIBS="${ncbi_rp_L_flags}${ncbi_rp_R_flags} -lfcgi $NETWORK_LIBS"
 fi
-rm -f conftest.err conftest.$ac_objext \
-      conftest$ac_exeext conftest.$ac_ext
-if test "$ac_cv_search_glewGetExtension" = no; then
-  for ac_lib in "$GLEW_LIBS" $glew_libname GLEWmx GLEW; do
-    LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
+   FASTCGI_OBJS="fcgibuf"
+   LIBS="$FASTCGI_LIBS $orig_LIBS"
+   { echo "$as_me:$LINENO: checking for FastCGI libraries${FASTCGI_PATH:+ in $FASTCGI_PATH}" >&5
+echo $ECHO_N "checking for FastCGI libraries${FASTCGI_PATH:+ in $FASTCGI_PATH}... $ECHO_C" >&6; }
+if test "${ncbi_cv_lib_fcgi+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  CPPFLAGS="$FASTCGI_INCLUDE $orig_CPPFLAGS"
     cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-
-/* Override any gcc2 internal prototype to avoid an error.  */
-#ifdef __cplusplus
-extern "C"
-#endif
-/* We use char because int might match the return type of a gcc2
-   builtin and then its argument prototype would still apply.  */
-char glewGetExtension ();
+#include <fcgiapp.h>
 int
 main ()
 {
-glewGetExtension ();
+ (void) FCGX_IsCGI();
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ac_cv_search_glewGetExtension="-l$ac_lib"
-break
+  ncbi_cv_lib_fcgi=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
+	ncbi_cv_lib_fcgi=no
 fi
-rm -f conftest.err conftest.$ac_objext \
-      conftest$ac_exeext conftest.$ac_ext
-  done
-fi
-LIBS=$ac_func_search_save_LIBS
-fi
-echo "$as_me:$LINENO: result: $ac_cv_search_glewGetExtension" >&5
-echo "${ECHO_T}$ac_cv_search_glewGetExtension" >&6
-if test "$ac_cv_search_glewGetExtension" != no; then
-  test "$ac_cv_search_glewGetExtension" = "none required" || LIBS="$ac_cv_search_glewGetExtension $LIBS"
-
-cat >>confdefs.h <<\_ACEOF
-#define HAVE_LIBGLEW 1
-_ACEOF
-
-   test "x$ac_cv_search_glewGetExtension" = "xnone required" || GLEW_LIBS=$ac_cv_search_glewGetExtension
-fi
-
- LIBS=$saved_LIBS
 
-      if test "$ac_cv_search_glewGetExtension" = no; then
-         GLEW_INCLUDE=
-         GLEW_LIBS=
-         if test "${with_glew:=no}" != no; then
-       { { echo "$as_me:$LINENO: error: --with-glew explicitly specified, but no usable version found." >&5
-echo "$as_me: error: --with-glew explicitly specified, but no usable version found." >&2;}
-   { (exit 1); exit 1; }; }
+rm -f core conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
     fi
-         if test "${with_glew_mx:=no}" != no; then
-       { { echo "$as_me:$LINENO: error: --with-glew-mx explicitly specified, but no usable version found." >&5
-echo "$as_me: error: --with-glew-mx explicitly specified, but no usable version found." >&2;}
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_fcgi" >&5
+echo "${ECHO_T}$ncbi_cv_lib_fcgi" >&6; }
+   if test "$ncbi_cv_lib_fcgi" = "no"; then
+      if test "${with_fastcgi:=no}" != no; then
+       { { echo "$as_me:$LINENO: error: --with-fastcgi explicitly specified, but no usable version found." >&5
+echo "$as_me: error: --with-fastcgi explicitly specified, but no usable version found." >&2;}
    { (exit 1); exit 1; }; }
     fi
-      else
-         if test -z "${tmp_LIBS+set}"; then
-    if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    tmp_LIBS=`echo $GLEW_LDFLAGS $GLEW_LIBS | sed -e ""`
- else
-    tmp_LIBS=
-    ncbi_rp_L_sep=
-    ncbi_rp_R_flags=
-    ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in `echo $GLEW_LDFLAGS $GLEW_LIBS | sed -e ""`; do
-       case "$x" in
-          -L*)
-             tmp_LIBS="$tmp_LIBS${ncbi_rp_L_sep}$x"
-             x=`echo $x | sed -e "s/^-L//; $ncbi_rpath_sed"`
-             ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
-             ncbi_rp_R_sep=:
-             ;;
-          *)
-             tmp_LIBS="$tmp_LIBS${ncbi_rp_R_flags}${ncbi_rp_L_sep}$x"
-             ncbi_rp_R_flags=
-             ncbi_rp_R_sep=" $CONF_f_runpath"
-             ;;
-       esac
-       ncbi_rp_L_sep=" "
-    done
-    tmp_LIBS="$tmp_LIBS${ncbi_rp_R_flags}"
- fi
  fi
-         GLEW_LIBS=$tmp_LIBS
-                   WithPackages="$WithPackages${WithPackagesSep}GLEW"; WithPackagesSep=" "
-         CPPFLAGS="$orig_CPPFLAGS $GLEW_INCLUDE $OPENGL_INCLUDE"
-         LIBS="$GLEW_LIBS $OPENGL_LIBS $DL_LIBS $orig_LIBS"
-         echo "$as_me:$LINENO: checking for GLEW multi-context (MX) support (recommended)" >&5
-echo $ECHO_N "checking for GLEW multi-context (MX) support (recommended)... $ECHO_C" >&6
-if test "${ncbi_cv_lib_glew_mx+set}" = set; then
+
+for ac_func in FCGX_Accept_r
+do
+as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
+{ echo "$as_me:$LINENO: checking for $ac_func" >&5
+echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6; }
+if { as_var=$as_ac_var; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   cat >conftest.$ac_ext <<_ACEOF
@@ -28517,3446 +33192,3722 @@
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-#define GLEW_MX 1
-                 #include <GL/glew.h>
+/* Define $ac_func to an innocuous variant, in case <limits.h> declares $ac_func.
+   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
+#define $ac_func innocuous_$ac_func
+
+/* System header to define __stub macros and hopefully few prototypes,
+    which can conflict with char $ac_func (); below.
+    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
+    <limits.h> exists even on freestanding compilers.  */
+
+#ifdef __STDC__
+# include <limits.h>
+#else
+# include <assert.h>
+#endif
+
+#undef $ac_func
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char $ac_func ();
+/* The GNU C library defines this for functions which it implements
+    to always fail with ENOSYS.  Some functions are actually named
+    something starting with __ and the normal name is an alias.  */
+#if defined __stub_$ac_func || defined __stub___$ac_func
+choke me
+#endif
+
 int
 main ()
 {
-glewContextInit(NULL);
+return $ac_func ();
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ncbi_cv_lib_glew_mx=yes
+  eval "$as_ac_var=yes"
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-ncbi_cv_lib_glew_mx=no
+	eval "$as_ac_var=no"
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_glew_mx" >&5
-echo "${ECHO_T}$ncbi_cv_lib_glew_mx" >&6
-          if test $ncbi_cv_lib_glew_mx = yes; then
-             GLEW_INCLUDE="$GLEW_INCLUDE -DGLEW_MX"
-          else
-             if test "${with_glew_mx:=no}" != no; then
-       { { echo "$as_me:$LINENO: error: --with-glew-mx explicitly specified, but no usable version found." >&5
-echo "$as_me: error: --with-glew-mx explicitly specified, but no usable version found." >&2;}
-   { (exit 1); exit 1; }; }
-    fi
-          fi
-          : ${GLEW_STATIC_LIBS=$GLEW_LIBDIR/libGLEW-static.a}
-          test -f "$GLEW_STATIC_LIBS"  ||  GLEW_STATIC_LIBS=$GLEW_LIBS
-      fi
+ac_res=`eval echo '${'$as_ac_var'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
+if test `eval echo '${'$as_ac_var'}'` = yes; then
+  cat >>confdefs.h <<_ACEOF
+#define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
+_ACEOF
+
    fi
+done
+
 fi
+if test "$with_fastcgi" = "no" ; then
+   FASTCGI_PATH="No_FastCgi"
+   FASTCGI_INCLUDE=
+   FASTCGI_LIBS=
+   FASTCGI_OBJS=
+else
+             WithPackages="$WithPackages${WithPackagesSep}Fast-CGI"; WithPackagesSep=" "
 
-LDFLAGS=$orig_LDFLAGS
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_LIBFASTCGI 1
+_ACEOF
 
+fi
 
-## wxWidgets
-# Insist on single-byte builds by default, per various projects' expectations.
-: ${with_wxwidgets_ucs=no}
-if test "$with_wxwidgets" != "no" ; then
-   case "$with_wxwidgets" in
-      yes | "" ) : ${WXWIDGETS_PATH=$NCBI/wxwidgets} ;;
-      *        ) WXWIDGETS_PATH=$with_wxwidgets ;;
-   esac
-   if test -d "$WXWIDGETS_PATH/${compiler_vpfx}${DEBUG_SFX}${mt_sfx}${bit64_sfx}/lib" \
-        -a -z "$WXWIDGETS_ARCH_PATH"; then
-      WXWIDGETS_ARCH_PATH="$WXWIDGETS_PATH/${compiler_vpfx}${DEBUG_SFX}${mt_sfx}${bit64_sfx}"
-   elif test -d "$WXWIDGETS_PATH/${compiler_pfx}${DEBUG_SFX}${mt_sfx}${bit64_sfx}/lib" \
-        -a -z "$WXWIDGETS_ARCH_PATH"; then
-      WXWIDGETS_ARCH_PATH="$WXWIDGETS_PATH/${compiler_pfx}${DEBUG_SFX}${mt_sfx}${bit64_sfx}"
-   else
-      WXWIDGETS_ARCH_PATH="$WXWIDGETS_PATH"
+
+## NCBI SSS libraries
+if test "$with_sybase" = "no" ; then
+   if test "${with_sssdb:=no}" != no; then
+       { { echo "$as_me:$LINENO: error: --with-sssdb explicitly specified, but no usable version found." >&5
+echo "$as_me: error: --with-sssdb explicitly specified, but no usable version found." >&2;}
+   { (exit 1); exit 1; }; }
    fi
-   WXWIDGETS_BINPATH=${WXWIDGETS_BINPATH:="$WXWIDGETS_ARCH_PATH/bin"}
-   WXWIDGETS_LIBPATH=${WXWIDGETS_LIBPATH:="$WXWIDGETS_ARCH_PATH/lib"}
-   WXWIDGETS_INCLUDE=
-   $as_unset wxconf || test "${wxconf+set}" != set || { wxconf=; export wxconf; }
-   # Extract the first word of "wx-config", so it can be a program name with args.
-set dummy wx-config; ac_word=$2
-echo "$as_me:$LINENO: checking for $ac_word" >&5
-echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
-if test "${ac_cv_path_wxconf+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  case $wxconf in
-  [\\/]* | ?:[\\/]*)
-  ac_cv_path_wxconf="$wxconf" # Let the user override the test with a path.
-  ;;
-  *)
-  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
-as_dummy="$WXWIDGETS_BINPATH:$PATH"
-for as_dir in $as_dummy
-do
-  IFS=$as_save_IFS
-  test -z "$as_dir" && as_dir=.
-  for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
-    ac_cv_path_wxconf="$as_dir/$ac_word$ac_exec_ext"
-    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
-    break 2
   fi
-done
-done
 
+case "$host_os:$compiler:$compiler_version" in
+   linux*:GCC:*)
+      : ${with_included_sss=yes}
   ;;
 esac
-fi
-wxconf=$ac_cv_path_wxconf
 
-if test -n "$wxconf"; then
-  echo "$as_me:$LINENO: result: $wxconf" >&5
-echo "${ECHO_T}$wxconf" >&6
+if test "$with_sss" != "no" ; then
+   local_sss=${real_srcdir}/src/internal/sss
+   if test "${with_included_sss-no}" = "yes" \
+       -a -f "$local_sss/utils/sssdebug.hpp" \
+       -a -f "${local_sss}srv/cli/sssconnection.cpp"; then
+      with_included_sss=yes
+      NCBI_SSS_PATH=$local_sss
+      NCBI_SSS_INCLUDE="\$(incdir)/sss"
+      NCBI_SSS_LIBPATH="\$(libdir)"
+                WithPackages="$WithPackages${WithPackagesSep}LocalSSS"; WithPackagesSep=" "
+      if test -f "$local_sss/../msgmail2/asn/msgmail.asn"; then
+                   WithPackages="$WithPackages${WithPackagesSep}LocalMSGMAIL2"; WithPackagesSep=" "
+      fi
 else
-  echo "$as_me:$LINENO: result: no" >&5
-echo "${ECHO_T}no" >&6
+      with_included_sss=no
 fi
-
-   if test -x "$wxconf"; then
-      WXWIDGETS_ARCH_PATH=`$wxconf --exec-prefix`
-      if test -n "$with_wxwidgets_ucs"; then
-         wxcfflags=--unicode=$with_wxwidgets_ucs
+   if test "${with_sss-yes}" = yes; then
+   NCBI_SSS_PATH=${NCBI_SSS_PATH:="$NCBI/sss/BUILD"}
       else
-         wxcfflags=
+      NCBI_SSS_PATH=$with_sss
       fi
-      for x in `"$wxconf" $wxcfflags --libs --static 2>&5`; do
-         case "$x" in
-            -L*)
-                d=`echo $x | sed -e 's/^-L//'`
-                pcd=$d/pkgconfig
-                if test -d "$pcd"; then
-                   PKG_CONFIG_PATH="${PKG_CONFIG_PATH+$PKG_CONFIG_PATH:}$pcd"
+   NCBI_SSS_INCLUDE=${NCBI_SSS_INCLUDE:="$NCBI_SSS_PATH/include"}
+   if test -z "$NCBI_SSS_LIBPATH" ; then
+      NCBI_SSS_LIBPATH="${NCBI_SSS_PATH}/lib/${compiler_vpfx}${DEBUG_SFX}${bit64_sfx}"
+      if test "$with_mt" = "yes" ; then
+         NCBI_SSS_LIBPATH="${NCBI_SSS_LIBPATH}mt"
+      fi
+   fi
+   { echo "$as_me:$LINENO: checking for NCBI SSS directories${NCBI_SSS_PATH:+ in $NCBI_SSS_PATH}" >&5
+echo $ECHO_N "checking for NCBI SSS directories${NCBI_SSS_PATH:+ in $NCBI_SSS_PATH}... $ECHO_C" >&6; }
+   if test "$with_included_sss" = "yes"; then
+      { echo "$as_me:$LINENO: result: yes" >&5
+echo "${ECHO_T}yes" >&6; } # duh
+   elif test ! -d "${NCBI_SSS_LIBPATH}"  -o  ! -d "${NCBI_SSS_INCLUDE}" ; then
+      { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
+      if test "${with_sss:=no}" != no; then
+       { { echo "$as_me:$LINENO: error: --with-sss explicitly specified, but no usable version found." >&5
+echo "$as_me: error: --with-sss explicitly specified, but no usable version found." >&2;}
+   { (exit 1); exit 1; }; }
                 fi
-                ;;
-         esac
-      done
-      export PKG_CONFIG_PATH
    else
-      $as_unset wxconf || test "${wxconf+set}" != set || { wxconf=; export wxconf; }
+      { echo "$as_me:$LINENO: result: yes" >&5
+echo "${ECHO_T}yes" >&6; }
    fi
-   if test -x "$wxconf" \
-     &&  "$wxconf" $wxcfflags --list 2>/dev/null \
-       | grep 'Default config is gtk2' >/dev/null; then
-      gtkconf="pkg-config gtk+-2.0"
-   elif test -x "$WXWIDGETS_BINPATH/gtk-config"; then
-      gtkconf=$WXWIDGETS_BINPATH/gtk-config
-   elif gtk-config --version >/dev/null 2>&1; then
-      gtkconf=gtk-config
-   else
-      # May work without gtk-config (e.g., on Mac OS X)
-      gtkconf=:
    fi
-   case "$host_os" in
-      darwin* )
-         baseflags=""
-         basesed='s/-isysroot [^ ]*//g; s/-arch [^ ]*//g'
-         if test -n "$SYSROOT"; then
-            deps=`"$wxconf" $wxcfflags --libs --static 2>/dev/null \
-                  | sed -e 's/.*\.a//'`
-            libsed="$basesed; s/\$/ $deps/"
-         else
-            libsed=$basesed
+
+if test "$with_sss" = "no" ; then
+   if test "${with_sssutils:=no}" != no; then
+       { { echo "$as_me:$LINENO: error: --with-sssutils explicitly specified, but no usable version found." >&5
+echo "$as_me: error: --with-sssutils explicitly specified, but no usable version found." >&2;}
+   { (exit 1); exit 1; }; }
          fi
-         ;;
-      * )
-         baseflags=`$gtkconf --cflags 2>/dev/null`
-         basesed=$no_usr_lib
-         libsed=$basesed
-         ;;
-   esac
-   echo "$as_me:$LINENO: checking for wxWidgets in $WXWIDGETS_ARCH_PATH" >&5
-echo $ECHO_N "checking for wxWidgets in $WXWIDGETS_ARCH_PATH... $ECHO_C" >&6
-if test "${ncbi_cv_lib_wxwidgets+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
+   if test "${with_sssdb:=no}" != no; then
+       { { echo "$as_me:$LINENO: error: --with-sssdb explicitly specified, but no usable version found." >&5
+echo "$as_me: error: --with-sssdb explicitly specified, but no usable version found." >&2;}
+   { (exit 1); exit 1; }; }
+    fi
+   NCBI_SSS_INCLUDE=
+   NCBI_SSS_LIBPATH=
+   LIBSSSUTILS=
+   LIBSSSDB=
 else
-  if test -x "$wxconf" ; then
-          WXWIDGETS_INCLUDE="$baseflags `"$wxconf" $wxcfflags --cflags`"
-          if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    WXWIDGETS_LIBS=`"$wxconf" $wxcfflags --libs | sed -e "$libsed; "`
+   if test "$with_included_sss" = "yes"; then
+      NCBI_SSS_LIBPATH= # Not needed
+      ncbi_cv_lib_sssutils=yes
+      ncbi_cv_lib_sssdb=yes
+      sssutils=sssutils
  else
-    WXWIDGETS_LIBS=
-    ncbi_rp_L_sep=
-    ncbi_rp_R_flags=
-    ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in `"$wxconf" $wxcfflags --libs | sed -e "$libsed; "`; do
-       case "$x" in
-          -L*)
-             WXWIDGETS_LIBS="$WXWIDGETS_LIBS${ncbi_rp_L_sep}$x"
-             x=`echo $x | sed -e "s/^-L//; $ncbi_rpath_sed"`
-             ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
-             ncbi_rp_R_sep=:
-             ;;
-          *)
-             WXWIDGETS_LIBS="$WXWIDGETS_LIBS${ncbi_rp_R_flags}${ncbi_rp_L_sep}$x"
-             ncbi_rp_R_flags=
-             ncbi_rp_R_sep=" $CONF_f_runpath"
-             ;;
-       esac
-       ncbi_rp_L_sep=" "
-    done
-    WXWIDGETS_LIBS="$WXWIDGETS_LIBS${ncbi_rp_R_flags}"
+      NCBI_SSS_LIBPATH="-L${NCBI_SSS_LIBPATH}"
  fi
+   NCBI_SSS_INCLUDE="-I${NCBI_SSS_INCLUDE}"
 
-          CPPFLAGS="$WXWIDGETS_INCLUDE $orig_CPPFLAGS"
-          LIBS="$WXWIDGETS_LIBS $orig_LIBS"
+   # SSS UTILS
+   if test "$with_sssutils" != "no" ; then
+      LIBSSSUTILS="-lsssutils"
+      { echo "$as_me:$LINENO: checking for the NCBI SSS UTILS library" >&5
+echo $ECHO_N "checking for the NCBI SSS UTILS library... $ECHO_C" >&6; }
+if test "${ncbi_cv_lib_sssutils+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  CPPFLAGS="$NCBI_SSS_INCLUDE $SYBASE_INCLUDE $orig_CPPFLAGS"
+          LIBS="$NCBI_SSS_LIBPATH $LIBSSSUTILS $SYBASE_LIBS $NETWORK_LIBS $DL_LIBS $orig_LIBS"
           cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-#include <wx/wx.h>
+#include <hashtab.hpp>
 int
 main ()
 {
- wxExit();
+ (new C_HashTab(123))->Clear();
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ncbi_cv_lib_wxwidgets=yes
+  ncbi_cv_lib_sssutils=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-ncbi_cv_lib_wxwidgets=no
+	ncbi_cv_lib_sssutils=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
-       else
-          ncbi_cv_lib_wxwidgets=no
+fi
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_sssutils" >&5
+echo "${ECHO_T}$ncbi_cv_lib_sssutils" >&6; }
+      if test "$ncbi_cv_lib_sssutils" = yes; then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_LIBSSSUTILS 1
+_ACEOF
+
+                   WithPackages="$WithPackages${WithPackagesSep}SSSUTILS"; WithPackagesSep=" "
+         if test -f "$local_sss/../ncbils2/asn/login.asn"; then
+            if test "$with_included_sss" = yes  || \
+               grep vformat $NCBI_SSS_INCLUDE/String.hpp >/dev/null 2>&1; then
+                         WithPackages="$WithPackages${WithPackagesSep}LocalNCBILS"; WithPackagesSep=" " # temporary compatibility measure
+                         WithPackages="$WithPackages${WithPackagesSep}NCBILS2"; WithPackagesSep=" "
        fi
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_wxwidgets" >&5
-echo "${ECHO_T}$ncbi_cv_lib_wxwidgets" >&6
-   if test "$ncbi_cv_lib_wxwidgets" = "no"; then
-      if test "${with_wxwidgets:=no}" != no; then
-       { { echo "$as_me:$LINENO: error: --with-wxwidgets explicitly specified, but no usable version found." >&5
-echo "$as_me: error: --with-wxwidgets explicitly specified, but no usable version found." >&2;}
+      else
+         if test "${with_sssutils:=no}" != no; then
+       { { echo "$as_me:$LINENO: error: --with-sssutils explicitly specified, but no usable version found." >&5
+echo "$as_me: error: --with-sssutils explicitly specified, but no usable version found." >&2;}
+   { (exit 1); exit 1; }; }
+    fi
+         if test "${with_sss:=no}" != no; then
+       { { echo "$as_me:$LINENO: error: --with-sss explicitly specified, but no usable version found." >&5
+echo "$as_me: error: --with-sss explicitly specified, but no usable version found." >&2;}
    { (exit 1); exit 1; }; }
     fi
+         LIBSSSUTILS=""
    fi
 fi
 
-if test "$with_wxwidgets" = "no" ; then
-   WXWIDGETS_LIBPATH="No_wxWidgets"
-   WXWIDGETS_INCLUDE=
-   WXWIDGETS_LIBS=
-   WXWIDGETS_STATIC_LIBS=
-   WXWIDGETS_GL_LIBS=
-   WXWIDGETS_GL_STATIC_LIBS=
-   WXWIDGETS_POST_LINK=:
+   # SSS DB
+   if test "$with_sssdb" != "no" ; then
+      if test "$with_mt" = "yes" ; then
+         LIBSSSDB="-lsssdb -lssssys"
 else
-             WithPackages="$WithPackages${WithPackagesSep}wxWidgets"; WithPackagesSep=" "
-   case "`"$wxconf" $wxcfflags --version`" in
-      2.[89].* | 2.[0-9][0-9]* )
-                   WithPackages="$WithPackages${WithPackagesSep}wx2.8"; WithPackagesSep=" "
-         wxlibs=std,richtext,aui
-         ;;
-      *)
-         wxlibs=std
-         ;;
-   esac
-   # The "yes" may have been cached; get the actual settings again if needed
-   if test -z "$WXWIDGETS_INCLUDE"; then
-      WXWIDGETS_INCLUDE="$baseflags `"$wxconf" $wxcfflags --cflags`"
+         LIBSSSDB="-lsssdb"
    fi
-   if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    WXWIDGETS_LIBS=`$wxconf $wxcfflags --libs $wxlibs | sed -e "$libsed; "`
+      { echo "$as_me:$LINENO: checking for the NCBI SSS DB library" >&5
+echo $ECHO_N "checking for the NCBI SSS DB library... $ECHO_C" >&6; }
+if test "${ncbi_cv_lib_sssdb+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
  else
-    WXWIDGETS_LIBS=
-    ncbi_rp_L_sep=
-    ncbi_rp_R_flags=
-    ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in `$wxconf $wxcfflags --libs $wxlibs | sed -e "$libsed; "`; do
-       case "$x" in
-          -L*)
-             WXWIDGETS_LIBS="$WXWIDGETS_LIBS${ncbi_rp_L_sep}$x"
-             x=`echo $x | sed -e "s/^-L//; $ncbi_rpath_sed"`
-             ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
-             ncbi_rp_R_sep=:
-             ;;
-          *)
-             WXWIDGETS_LIBS="$WXWIDGETS_LIBS${ncbi_rp_R_flags}${ncbi_rp_L_sep}$x"
-             ncbi_rp_R_flags=
-             ncbi_rp_R_sep=" $CONF_f_runpath"
-             ;;
+  CPPFLAGS="$NCBI_SSS_INCLUDE $SYBASE_INCLUDE $orig_CPPFLAGS"
+          LIBS="$NCBI_SSS_LIBPATH $LIBSSSDB $SYBASE_LIBS $NETWORK_LIBS $DL_LIBS $orig_LIBS"
+          cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+#include <cslink.hpp>
+int
+main ()
+{
+ (new CSLink)->connect2server("srv", "user", "pwd", "db");
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext conftest$ac_exeext
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
        esac
-       ncbi_rp_L_sep=" "
-    done
-    WXWIDGETS_LIBS="$WXWIDGETS_LIBS${ncbi_rp_R_flags}"
- fi
-   WXWIDGETS_STATIC_LIBS=`"$wxconf" $wxcfflags --libs --static $wxlibs \
-      2>/dev/null | sed -e "$basesed"`
-   if test -n "$WXWIDGETS_STATIC_LIBS"; then
-      # Allow direct use of underlying libraries with strict linkers
-      WXWIDGETS_LIBS="$WXWIDGETS_LIBS `echo $WXWIDGETS_STATIC_LIBS | sed -e 's/.*\.a *//'`"
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } &&
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; }; then
+  ncbi_cv_lib_sssdb=yes
    else
-      WXWIDGETS_STATIC_LIBS=$WXWIDGETS_LIBS
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+	ncbi_cv_lib_sssdb=no
    fi
-   WXWIDGETS_GL_LIBS=`"$wxconf" $wxcfflags --libs gl | sed -e "$basesed"`
-   WXWIDGETS_GL_STATIC_LIBS=`"$wxconf" $wxcfflags --libs gl --static \
-      2>/dev/null | sed -e "$basesed; s|-lGLU* -lGLU*|$OPENGL_STATIC_LIBS|"`
-   : ${WXWIDGETS_GL_STATIC_LIBS:=$WXWIDGETS_GL_LIBS}
-   WXWIDGETS_POST_LINK=`"$wxconf" $wxcfflags --rezflags 2>/dev/null`
-   test -n "$WXWIDGETS_POST_LINK"  ||  WXWIDGETS_POST_LINK=:
+
+rm -f core conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
+fi
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_sssdb" >&5
+echo "${ECHO_T}$ncbi_cv_lib_sssdb" >&6; }
+      if test "$ncbi_cv_lib_sssdb" = "yes"; then
 
 cat >>confdefs.h <<\_ACEOF
-#define HAVE_WXWIDGETS 1
+#define HAVE_LIBSSSDB 1
 _ACEOF
 
+                   WithPackages="$WithPackages${WithPackagesSep}SSSDB"; WithPackagesSep=" "
+      else
+         if test "${with_sssdb:=no}" != no; then
+       { { echo "$as_me:$LINENO: error: --with-sssdb explicitly specified, but no usable version found." >&5
+echo "$as_me: error: --with-sssdb explicitly specified, but no usable version found." >&2;}
+   { (exit 1); exit 1; }; }
 fi
-
-
-## In-house Fast-CGI library
-if test "$with_fastcgi" != "no" ; then
-   case "$with_fastcgi" in
-      yes | "" ) : ${FASTCGI_PATH:="$NCBI/fcgi-current"} ;;
-      */*      ) FASTCGI_PATH=$with_fastcgi              ;;
-      *        ) FASTCGI_PATH=$NCBI/fcgi-${with_fastcgi} ;;
-   esac
-   if test -d "$FASTCGI_PATH"; then
-      ncbi_fix_dir_tmp=`if cd $FASTCGI_PATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
- case "$ncbi_fix_dir_tmp" in
-    /.*) ncbi_fix_dir_tmp2=`cd $FASTCGI_PATH && $smart_pwd 2>/dev/null`
-         if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
-            FASTCGI_PATH=$ncbi_fix_dir_tmp2
+         if test "${with_sss:=no}" != no; then
+       { { echo "$as_me:$LINENO: error: --with-sss explicitly specified, but no usable version found." >&5
+echo "$as_me: error: --with-sss explicitly specified, but no usable version found." >&2;}
+   { (exit 1); exit 1; }; }
+    fi
+         LIBSSSDB=""
+      fi
+   fi
+fi
+
+
+# SP
+if test "$with_sp" != "no" ; then
+   if test -n "$SP_INCLUDE"; then
+      SP_GENERIC="$SP_INCLUDE/../generic"
          else
-            case "$FASTCGI_PATH" in
-               /*) ;;
-               * ) FASTCGI_PATH=$ncbi_fix_dir_tmp ;;
-            esac
+      SP_INCLUDE="$SP_PATH/include"
+      SP_GENERIC="$SP_PATH/generic"
          fi
-         ;;
-    /*) FASTCGI_PATH=$ncbi_fix_dir_tmp ;;
- esac
+   if test -z "$SP_LIBPATH" ; then
+      SP_LIBPATH="${SP_PATH}/${compiler_vpfx}${DEBUG_SFX}${mt_sfx}${bit64_sfx}"
+   fi
+   { echo "$as_me:$LINENO: checking for SP directories${SP_PATH:+ in $SP_PATH}" >&5
+echo $ECHO_N "checking for SP directories${SP_PATH:+ in $SP_PATH}... $ECHO_C" >&6; }
+   if test ! -d "${SP_LIBPATH}"  -o  ! -d "${SP_INCLUDE}" ; then
+      { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
+      if test "${with_sp:=no}" != no; then
+       { { echo "$as_me:$LINENO: error: --with-sp explicitly specified, but no usable version found." >&5
+echo "$as_me: error: --with-sp explicitly specified, but no usable version found." >&2;}
+   { (exit 1); exit 1; }; }
    fi
-   FASTCGI_INCLUDE="-I$FASTCGI_PATH/include${bit64_sfx}"
-   if test "$with_debug" = "no" ; then
-      FASTCGI_LIBDIR="$FASTCGI_PATH/lib${bit64_sfx}"
    else
-      FASTCGI_LIBDIR="$FASTCGI_PATH/altlib${bit64_sfx}"
+      { echo "$as_me:$LINENO: result: yes" >&5
+echo "${ECHO_T}yes" >&6; }
    fi
-   ncbi_rp_L_flags=
- ncbi_rp_L_sep=$CONF_f_libpath
- if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $FASTCGI_LIBDIR; do
-       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
-       ncbi_rp_L_sep=" $CONF_f_libpath"
-    done
-    FASTCGI_LIBS="${ncbi_rp_L_flags} -lfcgi $NETWORK_LIBS"
+fi
+
+if test "$with_sp" != "no" ; then
+   if test -d "$SP_GENERIC"; then
+      SP_INCLUDE="-I${SP_INCLUDE} -I${SP_GENERIC}"
  else
-    ncbi_rp_R_flags=
-    ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $FASTCGI_LIBDIR; do
-       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
-       ncbi_rp_L_sep=" $CONF_f_libpath"
-       x=`echo $x | sed -e "$ncbi_rpath_sed"`
-       ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
-       ncbi_rp_R_sep=:
-    done
-    FASTCGI_LIBS="${ncbi_rp_L_flags}${ncbi_rp_R_flags} -lfcgi $NETWORK_LIBS"
+      SP_INCLUDE="-I${SP_INCLUDE}"
  fi
-   FASTCGI_OBJS="fcgibuf"
-   LIBS="$FASTCGI_LIBS $orig_LIBS"
-   echo "$as_me:$LINENO: checking for FastCGI libraries in $FASTCGI_PATH" >&5
-echo $ECHO_N "checking for FastCGI libraries in $FASTCGI_PATH... $ECHO_C" >&6
-if test "${ncbi_cv_lib_fcgi+set}" = set; then
+   SP_LIBS="-L$SP_LIBPATH -lsp"
+   { echo "$as_me:$LINENO: checking for the SP SGML library" >&5
+echo $ECHO_N "checking for the SP SGML library... $ECHO_C" >&6; }
+if test "${ncbi_cv_lib_sp+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  CPPFLAGS="$FASTCGI_INCLUDE $orig_CPPFLAGS"
+  CPPFLAGS="$SP_INCLUDE $orig_CPPFLAGS"
+       LIBS="$SP_LIBS $orig_LIBS"
        cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-#include <fcgiapp.h>
+#include <SGMLApplication.h>
 int
 main ()
 {
- (void) FCGX_IsCGI();
+ SP_API::SGMLApplication app;
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ncbi_cv_lib_fcgi=yes
+  ncbi_cv_lib_sp=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-ncbi_cv_lib_fcgi=no
+	ncbi_cv_lib_sp=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_fcgi" >&5
-echo "${ECHO_T}$ncbi_cv_lib_fcgi" >&6
-   if test "$ncbi_cv_lib_fcgi" = "no"; then
-      if test "${with_fastcgi:=no}" != no; then
-       { { echo "$as_me:$LINENO: error: --with-fastcgi explicitly specified, but no usable version found." >&5
-echo "$as_me: error: --with-fastcgi explicitly specified, but no usable version found." >&2;}
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_sp" >&5
+echo "${ECHO_T}$ncbi_cv_lib_sp" >&6; }
+   if test "$ncbi_cv_lib_sp" = "no"; then
+      if test "${with_sp:=no}" != no; then
+       { { echo "$as_me:$LINENO: error: --with-sp explicitly specified, but no usable version found." >&5
+echo "$as_me: error: --with-sp explicitly specified, but no usable version found." >&2;}
    { (exit 1); exit 1; }; }
     fi
    fi
+fi
 
-for ac_func in FCGX_Accept_r
-do
-as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
-echo "$as_me:$LINENO: checking for $ac_func" >&5
-echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6
-if eval "test \"\${$as_ac_var+set}\" = set"; then
+if test "$with_sp" = "no" ; then
+   SP_INCLUDE=
+   SP_LIBS=
+else
+             WithPackages="$WithPackages${WithPackagesSep}SP"; WithPackagesSep=" "
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_LIBSP 1
+_ACEOF
+
+fi
+
+
+## ORBacus CORBA
+if test "$with_orbacus" != no; then
+   if test "$with_orbacus" != yes; then
+    ORBACUS_PATH=$with_orbacus
+fi
+if test -d "$ORBACUS_PATH"; then
+   ncbi_fix_dir_tmp=`if cd $ORBACUS_PATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
+ case "$ncbi_fix_dir_tmp" in
+    /.*) ncbi_fix_dir_tmp2=`cd $ORBACUS_PATH && $smart_pwd 2>/dev/null`
+         if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
+            ORBACUS_PATH=$ncbi_fix_dir_tmp2
+         else
+            case "$ORBACUS_PATH" in
+               /*) ;;
+               * ) ORBACUS_PATH=$ncbi_fix_dir_tmp ;;
+            esac
+         fi
+         ;;
+    /*) ORBACUS_PATH=$ncbi_fix_dir_tmp ;;
+ esac
+fi
+   fullpath=${ORBACUS_PATH}/${DEBUG_SFX}${mt_sfx}${bit64_sfx}
+   if test -f ${fullpath}/inc/OB/Config.h ; then
+      : ${ORBACUS_INCLUDE="-I$ORBACUS_PATH/include -I$fullpath/inc"}
+      if test -z "${ORBACUS_LIBPATH+set}"; then
+    ncbi_rp_L_flags=
+ ncbi_rp_L_sep=$CONF_f_libpath
+ if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
+    for x in $fullpath/lib; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+    done
+    ORBACUS_LIBPATH="${ncbi_rp_L_flags}"
+ else
+    ncbi_rp_R_flags=
+    ncbi_rp_R_sep=" $CONF_f_runpath"
+    for x in $fullpath/lib; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+       x=`echo $x | sed -e "$ncbi_rpath_sed"`
+       ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
+       ncbi_rp_R_sep=:
+    done
+    ORBACUS_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+ fi
+ fi
+   elif test -f ${ORBACUS_PATH}/include/OB/Config.h ; then
+     : ${ORBACUS_INCLUDE="-I$ORBACUS_PATH/include"}
+     if test -z "${ORBACUS_LIBPATH+set}"; then
+    ncbi_rp_L_flags=
+ ncbi_rp_L_sep=$CONF_f_libpath
+ if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
+    for x in $ORBACUS_PATH/lib; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+    done
+    ORBACUS_LIBPATH="${ncbi_rp_L_flags}"
+ else
+    ncbi_rp_R_flags=
+    ncbi_rp_R_sep=" $CONF_f_runpath"
+    for x in $ORBACUS_PATH/lib; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+       x=`echo $x | sed -e "$ncbi_rpath_sed"`
+       ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
+       ncbi_rp_R_sep=:
+    done
+    ORBACUS_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+ fi
+ fi
+   fi
+   case "$host_os:$with_mt" in
+       linux*:no) LIBJTC="-lJTC -pthread" ;;
+       *)         LIBJTC="-lJTC"          ;;
+   esac
+
+   case "$with_mt:$ORBACUS_LIBPATH" in
+      yes:* | *:-L*MT/lib* )
+         LIBOB="-lOB $LIBJTC"
+         LIBIMR="-lIMR"
+         ;;
+      * )
+         LIBOB="-lOB"
+         LIBIMR=
+         ;;
+   esac
+   { echo "$as_me:$LINENO: checking for ORBacus${ORBACUS_PATH:+ in $ORBACUS_PATH}" >&5
+echo $ECHO_N "checking for ORBacus${ORBACUS_PATH:+ in $ORBACUS_PATH}... $ECHO_C" >&6; }
+if test "${ncbi_cv_lib_orbacus+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
+  CPPFLAGS="$ORBACUS_INCLUDE $orig_CPPFLAGS"
+       LIBS="$ORBACUS_LIBPATH $LIBOB $NETWORK_LIBS $DL_LIBS $orig_LIBS"
   cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-/* Define $ac_func to an innocuous variant, in case <limits.h> declares $ac_func.
-   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
-#define $ac_func innocuous_$ac_func
-
-/* System header to define __stub macros and hopefully few prototypes,
-    which can conflict with char $ac_func (); below.
-    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
-    <limits.h> exists even on freestanding compilers.  */
-
-#ifdef __STDC__
-# include <limits.h>
-#else
-# include <assert.h>
-#endif
-
-#undef $ac_func
-
-/* Override any gcc2 internal prototype to avoid an error.  */
-#ifdef __cplusplus
-extern "C"
-{
-#endif
-/* We use char because int might match the return type of a gcc2
-   builtin and then its argument prototype would still apply.  */
-char $ac_func ();
-/* The GNU C library defines this for functions which it implements
-    to always fail with ENOSYS.  Some functions are actually named
-    something starting with __ and the normal name is an alias.  */
-#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
-choke me
-#else
-char (*f) () = $ac_func;
-#endif
-#ifdef __cplusplus
-}
-#endif
-
+#include <OB/CORBA.h>
 int
 main ()
 {
-return f != $ac_func;
+
+            int c = 0;
+            char* v[] = { NULL };
+            CORBA::ORB_var orb = CORBA::ORB_init(c, v);
+            if (!CORBA::is_nil(orb)) orb->destroy();
+
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  eval "$as_ac_var=yes"
+  ncbi_cv_lib_orbacus=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-eval "$as_ac_var=no"
+	ncbi_cv_lib_orbacus=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_var'}'`" >&5
-echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
-if test `eval echo '${'$as_ac_var'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
-_ACEOF
-
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_orbacus" >&5
+echo "${ECHO_T}$ncbi_cv_lib_orbacus" >&6; }
+   if test "$ncbi_cv_lib_orbacus" = "no"; then
+      if test "${with_orbacus:=no}" != no; then
+       { { echo "$as_me:$LINENO: error: --with-orbacus explicitly specified, but no usable version found." >&5
+echo "$as_me: error: --with-orbacus explicitly specified, but no usable version found." >&2;}
+   { (exit 1); exit 1; }; }
 fi
-done
-
 fi
-if test "$with_fastcgi" = "no" ; then
-   FASTCGI_PATH="No_FastCgi"
-   FASTCGI_INCLUDE=
-   FASTCGI_LIBS=
-   FASTCGI_OBJS=
+fi
+if test "$with_orbacus" = no; then
+   ORBACUS_PATH=No_ORBacus
+   ORBACUS_INCLUDE=
+   ORBACUS_LIBPATH=
+   LIBOB=
+   LIBIMR=
 else
-             WithPackages="$WithPackages${WithPackagesSep}Fast-CGI"; WithPackagesSep=" "
+             WithPackages="$WithPackages${WithPackagesSep}ORBacus"; WithPackagesSep=" "
 
 cat >>confdefs.h <<\_ACEOF
-#define HAVE_LIBFASTCGI 1
+#define HAVE_ORBACUS 1
 _ACEOF
 
 fi
+# Sigh... without this, the linker pulls in the contents of the cache
+# and then gripes about missing JTC stuff.
+test -d SunWS_cache  &&  rm -r SunWS_cache
 
 
-## NCBI SSS libraries
-if test "$with_sybase" = "no" ; then
-   if test "${with_sssdb:=no}" != no; then
-       { { echo "$as_me:$LINENO: error: --with-sssdb explicitly specified, but no usable version found." >&5
-echo "$as_me: error: --with-sssdb explicitly specified, but no usable version found." >&2;}
-   { (exit 1); exit 1; }; }
-    fi
+## International Components for Unicode (ICU)
+if test -z "$ICU_PATH"  &&  icu-config --version >/dev/null 2>&1; then
+    ICU_PATH=`icu-config --prefix`
 fi
 
-case "$host_os:$compiler:$compiler_version" in
-   linux*:GCC:*)
-      : ${with_included_sss=yes}
-   ;;
+if test "$with_icu" != "no" ; then
+   case "$with_icu" in
+      yes | "" ) ;;
+      *        ) ICU_PATH=$with_icu ;;
 esac
-
-if test "$with_sss" != "no" ; then
-   local_sss=${real_srcdir}/src/internal/sss
-   if test "${with_included_sss-no}" = "yes" \
-       -a -f "$local_sss/utils/sssdebug.hpp" \
-       -a -f "${local_sss}srv/cli/sssconnection.cpp"; then
-      with_included_sss=yes
-      NCBI_SSS_PATH=$local_sss
-      NCBI_SSS_INCLUDE="\$(incdir)/sss"
-      NCBI_SSS_LIBPATH="\$(libdir)"
-                WithPackages="$WithPackages${WithPackagesSep}LocalSSS"; WithPackagesSep=" "
-      if test -f "$local_sss/../msgmail2/asn/msgmail.asn"; then
-                   WithPackages="$WithPackages${WithPackagesSep}LocalMSGMAIL2"; WithPackagesSep=" "
-      fi
-   else
-      with_included_sss=no
-   fi
-   NCBI_SSS_PATH=${NCBI_SSS_PATH:="$NCBI/sss/BUILD"}
-   NCBI_SSS_INCLUDE=${NCBI_SSS_INCLUDE:="$NCBI_SSS_PATH/include"}
-   if test -z "$NCBI_SSS_LIBPATH" ; then
-      NCBI_SSS_LIBPATH="${NCBI_SSS_PATH}/lib/${compiler_vpfx}${DEBUG_SFX}${bit64_sfx}"
-      if test "$with_mt" = "yes" ; then
-         NCBI_SSS_LIBPATH="${NCBI_SSS_LIBPATH}mt"
-      fi
-   fi
-   echo "$as_me:$LINENO: checking for NCBI SSS directories in $NCBI_SSS_PATH" >&5
-echo $ECHO_N "checking for NCBI SSS directories in $NCBI_SSS_PATH... $ECHO_C" >&6
-   if test "$with_included_sss" = "yes"; then
-      echo "$as_me:$LINENO: result: yes" >&5
-echo "${ECHO_T}yes" >&6 # duh
-   elif test ! -d "${NCBI_SSS_LIBPATH}"  -o  ! -d "${NCBI_SSS_INCLUDE}" ; then
-      echo "$as_me:$LINENO: result: no" >&5
-echo "${ECHO_T}no" >&6
-      if test "${with_sss:=no}" != no; then
-       { { echo "$as_me:$LINENO: error: --with-sss explicitly specified, but no usable version found." >&5
-echo "$as_me: error: --with-sss explicitly specified, but no usable version found." >&2;}
-   { (exit 1); exit 1; }; }
-    fi
+   if test -d "$ICU_PATH/${compiler_vpfx}${DEBUG_SFX}${bit64_sfx}${mt_sfx}/lib" \
+        -a -z "$ICU_ARCH_PATH"; then
+      ICU_ARCH_PATH="$ICU_PATH/${compiler_vpfx}${DEBUG_SFX}${bit64_sfx}${mt_sfx}"
+   elif test -d "$ICU_PATH/${compiler_pfx}${DEBUG_SFX}${bit64_sfx}${mt_sfx}/lib" \
+        -a -z "$ICU_ARCH_PATH"; then
+      ICU_ARCH_PATH="$ICU_PATH/${compiler_pfx}${DEBUG_SFX}${bit64_sfx}${mt_sfx}"
    else
-      echo "$as_me:$LINENO: result: yes" >&5
-echo "${ECHO_T}yes" >&6
-   fi
-fi
-
-if test "$with_sss" = "no" ; then
-   if test "${with_sssutils:=no}" != no; then
-       { { echo "$as_me:$LINENO: error: --with-sssutils explicitly specified, but no usable version found." >&5
-echo "$as_me: error: --with-sssutils explicitly specified, but no usable version found." >&2;}
-   { (exit 1); exit 1; }; }
-    fi
-   if test "${with_sssdb:=no}" != no; then
-       { { echo "$as_me:$LINENO: error: --with-sssdb explicitly specified, but no usable version found." >&5
-echo "$as_me: error: --with-sssdb explicitly specified, but no usable version found." >&2;}
-   { (exit 1); exit 1; }; }
+      ICU_ARCH_PATH="$ICU_PATH"
     fi
-   NCBI_SSS_INCLUDE=
-   NCBI_SSS_LIBPATH=
-   LIBSSSUTILS=
-   LIBSSSDB=
+   ICU_BINPATH=${ICU_BINPATH:="$ICU_ARCH_PATH/bin"}
+   ICU_LIBPATH=${ICU_LIBPATH:="$ICU_ARCH_PATH/lib"}
+   ICU_INCLUDE=
+   { echo "$as_me:$LINENO: checking for ICU${ICU_ARCH_PATH:+ in $ICU_ARCH_PATH}" >&5
+echo $ECHO_N "checking for ICU${ICU_ARCH_PATH:+ in $ICU_ARCH_PATH}... $ECHO_C" >&6; }
+if test "${ncbi_cv_lib_icu+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-   if test "$with_included_sss" = "yes"; then
-      NCBI_SSS_LIBPATH= # Not needed
-      ncbi_cv_lib_sssutils=yes
-      ncbi_cv_lib_sssdb=yes
-      sssutils=sssutils
+  ICU_CONFIG=`$ICU_BINPATH/icu-config --bindir 2>/dev/null`/icu-config
+       if test -x "$ICU_CONFIG" ; then
+          ICU_INCLUDE=`$ICU_CONFIG --cppflags-searchpath`
+          if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
+    ICU_LIBS=`$ICU_CONFIG --ldflags-searchpath | sed -e ""`
    else
-      NCBI_SSS_LIBPATH="-L${NCBI_SSS_LIBPATH}"
+    ICU_LIBS=
+    ncbi_rp_L_sep=
+    ncbi_rp_R_flags=
+    ncbi_rp_R_sep=" $CONF_f_runpath"
+    for x in `$ICU_CONFIG --ldflags-searchpath | sed -e ""`; do
+       case "$x" in
+          -L*)
+             ICU_LIBS="$ICU_LIBS${ncbi_rp_L_sep}$x"
+             x=`echo $x | sed -e "s/^-L//; $ncbi_rpath_sed"`
+             ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
+             ncbi_rp_R_sep=:
+             ;;
+          *)
+             ICU_LIBS="$ICU_LIBS${ncbi_rp_R_flags}${ncbi_rp_L_sep}$x"
+             ncbi_rp_R_flags=
+             ncbi_rp_R_sep=" $CONF_f_runpath"
+             ;;
+       esac
+       ncbi_rp_L_sep=" "
+    done
+    ICU_LIBS="$ICU_LIBS${ncbi_rp_R_flags}"
    fi
-   NCBI_SSS_INCLUDE="-I${NCBI_SSS_INCLUDE}"
+          ICU_LIBS="$ICU_LIBS `$ICU_CONFIG --ldflags-libsonly`"
 
-   # SSS UTILS
-   if test "$with_sssutils" != "no" ; then
-      LIBSSSUTILS="-lsssutils"
-      echo "$as_me:$LINENO: checking for the NCBI SSS UTILS library" >&5
-echo $ECHO_N "checking for the NCBI SSS UTILS library... $ECHO_C" >&6
-if test "${ncbi_cv_lib_sssutils+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  CPPFLAGS="$NCBI_SSS_INCLUDE $SYBASE_INCLUDE $orig_CPPFLAGS"
-          LIBS="$NCBI_SSS_LIBPATH $LIBSSSUTILS $SYBASE_LIBS $NETWORK_LIBS $DL_LIBS $orig_LIBS"
+          CPPFLAGS="$ICU_INCLUDE $orig_CPPFLAGS"
+          LIBS="$ICU_LIBS $orig_LIBS"
           cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-#include <hashtab.hpp>
+#include <unicode/unistr.h>
 int
 main ()
 {
- (new C_HashTab(123))->Clear();
+int32_t i = UNICODE_STRING_SIMPLE("foo").indexOf('f');
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ncbi_cv_lib_sssutils=yes
+  ncbi_cv_lib_icu=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-ncbi_cv_lib_sssutils=no
+	ncbi_cv_lib_icu=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
+       else
+          ncbi_cv_lib_icu=no
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_sssutils" >&5
-echo "${ECHO_T}$ncbi_cv_lib_sssutils" >&6
-      if test "$ncbi_cv_lib_sssutils" = yes; then
+fi
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_icu" >&5
+echo "${ECHO_T}$ncbi_cv_lib_icu" >&6; }
+   if test "$ncbi_cv_lib_icu" = "no"; then
+      if test "${with_icu:=no}" != no; then
+       { { echo "$as_me:$LINENO: error: --with-icu explicitly specified, but no usable version found." >&5
+echo "$as_me: error: --with-icu explicitly specified, but no usable version found." >&2;}
+   { (exit 1); exit 1; }; }
+    fi
+   fi
+fi
+
+if test "$with_icu" = "no" ; then
+   ICU_PATH="No_ICU"
+   ICU_INCLUDE=
+   ICU_LIBS=
+   ICU_STATIC_LIBS=
+else
+             WithPackages="$WithPackages${WithPackagesSep}ICU"; WithPackagesSep=" "
+   ICU_CONFIG="`$ICU_BINPATH/icu-config --bindir`/icu-config"
+   # The "yes" may have been cached; get the actual settings again if needed
+   if test -z "$ICU_INCLUDE"; then
+      ICU_INCLUDE=`$ICU_CONFIG --cppflags-searchpath`
+      if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
+    ICU_LIBS=`$ICU_CONFIG --ldflags-searchpath | sed -e ""`
+ else
+    ICU_LIBS=
+    ncbi_rp_L_sep=
+    ncbi_rp_R_flags=
+    ncbi_rp_R_sep=" $CONF_f_runpath"
+    for x in `$ICU_CONFIG --ldflags-searchpath | sed -e ""`; do
+       case "$x" in
+          -L*)
+             ICU_LIBS="$ICU_LIBS${ncbi_rp_L_sep}$x"
+             x=`echo $x | sed -e "s/^-L//; $ncbi_rpath_sed"`
+             ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
+             ncbi_rp_R_sep=:
+             ;;
+          *)
+             ICU_LIBS="$ICU_LIBS${ncbi_rp_R_flags}${ncbi_rp_L_sep}$x"
+             ncbi_rp_R_flags=
+             ncbi_rp_R_sep=" $CONF_f_runpath"
+             ;;
+       esac
+       ncbi_rp_L_sep=" "
+    done
+    ICU_LIBS="$ICU_LIBS${ncbi_rp_R_flags}"
+ fi
+      ICU_LIBS="$ICU_LIBS `$ICU_CONFIG --ldflags-libsonly`"
+   fi
+   ICU_STATIC_LIBS=`$ICU_CONFIG --ldflags-libsonly | sed -e 's/-licu/-lsicu/g'`
+   ICU_STATIC_LIBS="`$ICU_CONFIG --ldflags-searchpath` $ICU_STATIC_LIBS"
 
 cat >>confdefs.h <<\_ACEOF
-#define HAVE_LIBSSSUTILS 1
+#define HAVE_ICU 1
 _ACEOF
 
-                   WithPackages="$WithPackages${WithPackagesSep}SSSUTILS"; WithPackagesSep=" "
-         if test -f "$local_sss/../ncbils2/asn/login.asn"; then
-            if test "$with_included_sss" = yes  || \
-               grep vformat $NCBI_SSS_INCLUDE/String.hpp >/dev/null 2>&1; then
-                         WithPackages="$WithPackages${WithPackagesSep}LocalNCBILS"; WithPackagesSep=" " # temporary compatibility measure
-                         WithPackages="$WithPackages${WithPackagesSep}NCBILS2"; WithPackagesSep=" "
             fi
+
+
+### XML/XSL libraries
+if test "$with_expat" != "no"; then
+    case "$with_expat" in
+       yes | "" ) ;;
+       *        ) EXPAT_PATH=$with_expat ;;
+    esac
+    if test -d "$EXPAT_PATH"; then
+       in_path=" in $EXPAT_PATH"
+       if test -z "$EXPAT_INCLUDE" -a -d "$EXPAT_PATH/include"; then
+          EXPAT_INCLUDE="-I$EXPAT_PATH/include"
          fi
+       if test -n "$EXPAT_LIBPATH"; then
+          :
+       elif test -d "$EXPAT_PATH/lib${bit64_sfx}"; then
+          ncbi_rp_L_flags=
+ ncbi_rp_L_sep=$CONF_f_libpath
+ if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
+    for x in $EXPAT_PATH/lib${bit64_sfx}; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+    done
+    EXPAT_LIBPATH="${ncbi_rp_L_flags}"
       else
-         if test "${with_sssutils:=no}" != no; then
-       { { echo "$as_me:$LINENO: error: --with-sssutils explicitly specified, but no usable version found." >&5
-echo "$as_me: error: --with-sssutils explicitly specified, but no usable version found." >&2;}
-   { (exit 1); exit 1; }; }
-    fi
-         if test "${with_sss:=no}" != no; then
-       { { echo "$as_me:$LINENO: error: --with-sss explicitly specified, but no usable version found." >&5
-echo "$as_me: error: --with-sss explicitly specified, but no usable version found." >&2;}
-   { (exit 1); exit 1; }; }
+    ncbi_rp_R_flags=
+    ncbi_rp_R_sep=" $CONF_f_runpath"
+    for x in $EXPAT_PATH/lib${bit64_sfx}; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+       x=`echo $x | sed -e "$ncbi_rpath_sed"`
+       ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
+       ncbi_rp_R_sep=:
+    done
+    EXPAT_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
     fi
-         LIBSSSUTILS=""
+       elif test -d "$EXPAT_PATH/lib"; then
+          ncbi_rp_L_flags=
+ ncbi_rp_L_sep=$CONF_f_libpath
+ if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
+    for x in $EXPAT_PATH/lib; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+    done
+    EXPAT_LIBPATH="${ncbi_rp_L_flags}"
+ else
+    ncbi_rp_R_flags=
+    ncbi_rp_R_sep=" $CONF_f_runpath"
+    for x in $EXPAT_PATH/lib; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+       x=`echo $x | sed -e "$ncbi_rpath_sed"`
+       ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
+       ncbi_rp_R_sep=:
+    done
+    EXPAT_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
       fi
    fi
-
-   # SSS DB
-   if test "$with_sssdb" != "no" ; then
-      if test "$with_mt" = "yes" ; then
-         LIBSSSDB="-lsssdb -lssssys"
+       EXPAT_LIBS="$EXPAT_LIBPATH -lexpat "
       else
-         LIBSSSDB="-lsssdb"
+       EXPAT_INCLUDE=""
+       EXPAT_LIBS="-lexpat "
+       in_path=
       fi
-      echo "$as_me:$LINENO: checking for the NCBI SSS DB library" >&5
-echo $ECHO_N "checking for the NCBI SSS DB library... $ECHO_C" >&6
-if test "${ncbi_cv_lib_sssdb+set}" = set; then
+    { echo "$as_me:$LINENO: checking for libexpat$in_path" >&5
+echo $ECHO_N "checking for libexpat$in_path... $ECHO_C" >&6; }
+if test "${ncbi_cv_lib_expat+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  CPPFLAGS="$NCBI_SSS_INCLUDE $SYBASE_INCLUDE $orig_CPPFLAGS"
-          LIBS="$NCBI_SSS_LIBPATH $LIBSSSDB $SYBASE_LIBS $NETWORK_LIBS $DL_LIBS $orig_LIBS"
+  CPPFLAGS=" $EXPAT_INCLUDE $orig_CPPFLAGS"
+       LIBS="$EXPAT_LIBS  $orig_LIBS"
           cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-#include <cslink.hpp>
+#include <expat.h>
 int
 main ()
 {
- (new CSLink)->connect2server("srv", "user", "pwd", "db");
+XML_Parser parser = XML_ParserCreate("utf-8");
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ncbi_cv_lib_sssdb=yes
+  ncbi_cv_lib_expat=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-ncbi_cv_lib_sssdb=no
-fi
-rm -f conftest.err conftest.$ac_objext \
-      conftest$ac_exeext conftest.$ac_ext
+	ncbi_cv_lib_expat=no
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_sssdb" >&5
-echo "${ECHO_T}$ncbi_cv_lib_sssdb" >&6
-      if test "$ncbi_cv_lib_sssdb" = "yes"; then
-
-cat >>confdefs.h <<\_ACEOF
-#define HAVE_LIBSSSDB 1
-_ACEOF
 
-                   WithPackages="$WithPackages${WithPackagesSep}SSSDB"; WithPackagesSep=" "
-      else
-         if test "${with_sssdb:=no}" != no; then
-       { { echo "$as_me:$LINENO: error: --with-sssdb explicitly specified, but no usable version found." >&5
-echo "$as_me: error: --with-sssdb explicitly specified, but no usable version found." >&2;}
-   { (exit 1); exit 1; }; }
+rm -f core conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
     fi
-         if test "${with_sss:=no}" != no; then
-       { { echo "$as_me:$LINENO: error: --with-sss explicitly specified, but no usable version found." >&5
-echo "$as_me: error: --with-sss explicitly specified, but no usable version found." >&2;}
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_expat" >&5
+echo "${ECHO_T}$ncbi_cv_lib_expat" >&6; }
+    if test "$ncbi_cv_lib_expat" = "no"; then
+       if test "${with_expat:=no}" != no; then
+       { { echo "$as_me:$LINENO: error: --with-expat explicitly specified, but no usable version found." >&5
+echo "$as_me: error: --with-expat explicitly specified, but no usable version found." >&2;}
    { (exit 1); exit 1; }; }
     fi
-         LIBSSSDB=""
       fi
    fi
+ if test "$with_expat" = "no"; then
+    EXPAT_PATH="No_EXPAT"
+    EXPAT_INCLUDE=
+    EXPAT_LIBS=
+ else
+              WithPackages="$WithPackages${WithPackagesSep}EXPAT"; WithPackagesSep=" "
+    EXPAT_INCLUDE=" $EXPAT_INCLUDE"
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_LIBEXPAT 1
+_ACEOF
+
 fi
 
 
-# SP
-if test "$with_sp" != "no" ; then
-   SP_PATH=${SP_PATH:="$NCBI/SP"}
-   if test -n "$SP_INCLUDE"; then
-      SP_GENERIC="$SP_INCLUDE/../generic"
+
+if test -f "${EXPAT_PATH}/lib${bit64_sfx}/libexpat-static.a"; then
+   EXPAT_STATIC_LIBS="-L${EXPAT_PATH}/lib${bit64_sfx} -lexpat-static"
    else
-      SP_INCLUDE="$SP_PATH/include"
-      SP_GENERIC="$SP_PATH/generic"
+   EXPAT_STATIC_LIBS=${EXPAT_LIBS}
    fi
-   if test -z "$SP_LIBPATH" ; then
-      SP_LIBPATH="${SP_PATH}/${compiler_vpfx}${DEBUG_SFX}${mt_sfx}${bit64_sfx}"
+vpath="$SABLOT_PATH/${compiler_vpfx}build"
+test -d "$vpath"  &&  SABLOT_PATH=$vpath
+if test -d "$SABLOT_PATH"; then
+   ncbi_fix_dir_tmp=`if cd $SABLOT_PATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
+ case "$ncbi_fix_dir_tmp" in
+    /.*) ncbi_fix_dir_tmp2=`cd $SABLOT_PATH && $smart_pwd 2>/dev/null`
+         if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
+            SABLOT_PATH=$ncbi_fix_dir_tmp2
+         else
+            case "$SABLOT_PATH" in
+               /*) ;;
+               * ) SABLOT_PATH=$ncbi_fix_dir_tmp ;;
+            esac
    fi
-   echo "$as_me:$LINENO: checking for SP directories in $SP_PATH" >&5
-echo $ECHO_N "checking for SP directories in $SP_PATH... $ECHO_C" >&6
-   if test ! -d "${SP_LIBPATH}"  -o  ! -d "${SP_INCLUDE}" ; then
-      echo "$as_me:$LINENO: result: no" >&5
-echo "${ECHO_T}no" >&6
-      if test "${with_sp:=no}" != no; then
-       { { echo "$as_me:$LINENO: error: --with-sp explicitly specified, but no usable version found." >&5
-echo "$as_me: error: --with-sp explicitly specified, but no usable version found." >&2;}
-   { (exit 1); exit 1; }; }
+         ;;
+    /*) SABLOT_PATH=$ncbi_fix_dir_tmp ;;
+ esac
+fi
+if test "$with_sablot" != "no"; then
+    case "$with_sablot" in
+       yes | "" ) ;;
+       *        ) SABLOT_PATH=$with_sablot ;;
+    esac
+    if test -d "$SABLOT_PATH"; then
+       in_path=" in $SABLOT_PATH"
+       if test -z "$SABLOT_INCLUDE" -a -d "$SABLOT_PATH/include"; then
+          SABLOT_INCLUDE="-I$SABLOT_PATH/include"
+       fi
+       if test -n "$SABLOT_LIBPATH"; then
+          :
+       elif test -d "$SABLOT_PATH/lib${bit64_sfx}"; then
+          ncbi_rp_L_flags=
+ ncbi_rp_L_sep=$CONF_f_libpath
+ if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
+    for x in $SABLOT_PATH/lib${bit64_sfx}; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+    done
+    SABLOT_LIBPATH="${ncbi_rp_L_flags}"
+ else
+    ncbi_rp_R_flags=
+    ncbi_rp_R_sep=" $CONF_f_runpath"
+    for x in $SABLOT_PATH/lib${bit64_sfx}; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+       x=`echo $x | sed -e "$ncbi_rpath_sed"`
+       ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
+       ncbi_rp_R_sep=:
+    done
+    SABLOT_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
     fi
+       elif test -d "$SABLOT_PATH/lib"; then
+          ncbi_rp_L_flags=
+ ncbi_rp_L_sep=$CONF_f_libpath
+ if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
+    for x in $SABLOT_PATH/lib; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+    done
+    SABLOT_LIBPATH="${ncbi_rp_L_flags}"
    else
-      echo "$as_me:$LINENO: result: yes" >&5
-echo "${ECHO_T}yes" >&6
+    ncbi_rp_R_flags=
+    ncbi_rp_R_sep=" $CONF_f_runpath"
+    for x in $SABLOT_PATH/lib; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+       x=`echo $x | sed -e "$ncbi_rpath_sed"`
+       ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
+       ncbi_rp_R_sep=:
+    done
+    SABLOT_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
    fi
 fi
-
-if test "$with_sp" != "no" ; then
-   if test -d "$SP_GENERIC"; then
-      SP_INCLUDE="-I${SP_INCLUDE} -I${SP_GENERIC}"
+       SABLOT_LIBS="$SABLOT_LIBPATH -lsablot $EXPAT_LIBS"
    else
-      SP_INCLUDE="-I${SP_INCLUDE}"
+       SABLOT_INCLUDE=""
+       SABLOT_LIBS="-lsablot $EXPAT_LIBS"
+       in_path=
    fi
-   SP_LIBS="-L$SP_LIBPATH -lsp"
-   echo "$as_me:$LINENO: checking for the SP SGML library" >&5
-echo $ECHO_N "checking for the SP SGML library... $ECHO_C" >&6
-if test "${ncbi_cv_lib_sp+set}" = set; then
+    { echo "$as_me:$LINENO: checking for libsablot$in_path" >&5
+echo $ECHO_N "checking for libsablot$in_path... $ECHO_C" >&6; }
+if test "${ncbi_cv_lib_sablot+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  CPPFLAGS="$SP_INCLUDE $orig_CPPFLAGS"
-       LIBS="$SP_LIBS $orig_LIBS"
+  CPPFLAGS=" $SABLOT_INCLUDE $orig_CPPFLAGS"
+       LIBS="$SABLOT_LIBS  $orig_LIBS"
        cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-#include <SGMLApplication.h>
+#include <sablot.h>
 int
 main ()
 {
- SP_API::SGMLApplication app;
+SDOM_Document* D; int x = SablotParse(NULL, "file:/dev/null", D);
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ncbi_cv_lib_sp=yes
+  ncbi_cv_lib_sablot=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-ncbi_cv_lib_sp=no
+	ncbi_cv_lib_sablot=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_sp" >&5
-echo "${ECHO_T}$ncbi_cv_lib_sp" >&6
-   if test "$ncbi_cv_lib_sp" = "no"; then
-      if test "${with_sp:=no}" != no; then
-       { { echo "$as_me:$LINENO: error: --with-sp explicitly specified, but no usable version found." >&5
-echo "$as_me: error: --with-sp explicitly specified, but no usable version found." >&2;}
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_sablot" >&5
+echo "${ECHO_T}$ncbi_cv_lib_sablot" >&6; }
+    if test "$ncbi_cv_lib_sablot" = "no"; then
+       if test "${with_sablot:=no}" != no; then
+       { { echo "$as_me:$LINENO: error: --with-sablot explicitly specified, but no usable version found." >&5
+echo "$as_me: error: --with-sablot explicitly specified, but no usable version found." >&2;}
    { (exit 1); exit 1; }; }
     fi
    fi
 fi
-
-if test "$with_sp" = "no" ; then
-   SP_INCLUDE=
-   SP_LIBS=
+ if test "$with_sablot" = "no"; then
+    SABLOT_PATH="No_SABLOT"
+    SABLOT_INCLUDE=
+    SABLOT_LIBS=
 else
-             WithPackages="$WithPackages${WithPackagesSep}SP"; WithPackagesSep=" "
+              WithPackages="$WithPackages${WithPackagesSep}SABLOT"; WithPackagesSep=" "
+    SABLOT_INCLUDE=" $SABLOT_INCLUDE"
 
 cat >>confdefs.h <<\_ACEOF
-#define HAVE_LIBSP 1
+#define HAVE_LIBSABLOT 1
 _ACEOF
 
 fi
 
 
-## ORBacus CORBA
-if test "${with_orbacus:-yes}" = yes; then
-   if test -d $NCBI/corba/${compiler_vpfx}Release${bit64_sfx}MT; then
-      : ${ORBACUS_PATH=$NCBI/corba/${compiler_vpfx}Release${bit64_sfx}MT}
-   else
-      : ${ORBACUS_PATH=$NCBI/corba/OB-4.0.1}
-   fi
-elif test "$with_orbacus" != no; then
-    ORBACUS_PATH=$with_orbacus
-fi
-if test -d "$ORBACUS_PATH"; then
-   ncbi_fix_dir_tmp=`if cd $ORBACUS_PATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
- case "$ncbi_fix_dir_tmp" in
-    /.*) ncbi_fix_dir_tmp2=`cd $ORBACUS_PATH && $smart_pwd 2>/dev/null`
-         if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
-            ORBACUS_PATH=$ncbi_fix_dir_tmp2
+
+test -d SunWS_cache  &&  rm -r SunWS_cache
+if test -f "${SABLOT_PATH}/lib${bit64_sfx}/libsablot-static.a"; then
+   SABLOT_STATIC_LIBS="-L${SABLOT_PATH}/lib${bit64_sfx} -lsablot-static $EXPAT_STATIC_LIBS"
          else
-            case "$ORBACUS_PATH" in
-               /*) ;;
-               * ) ORBACUS_PATH=$ncbi_fix_dir_tmp ;;
-            esac
+   SABLOT_STATIC_LIBS=${SABLOT_LIBS}
          fi
-         ;;
-    /*) ORBACUS_PATH=$ncbi_fix_dir_tmp ;;
+
+# test -d "$LIBXML_PATH" || LIBXML_PATH=`xml2-config --prefix 2>/dev/null`
+if test "$with_libxml" != "no"; then
+   case "$with_libxml" in
+      yes | "" ) ;;
+      *        ) LIBXML_PATH=$with_libxml ;;
  esac
-fi
-if test "$with_orbacus" != no; then
-   fullpath=${ORBACUS_PATH}/${DEBUG_SFX}${mt_sfx}${bit64_sfx}
-   if test -f ${fullpath}/inc/OB/Config.h ; then
-      : ${ORBACUS_INCLUDE="-I$ORBACUS_PATH/include -I$fullpath/inc"}
-      if test -z "${ORBACUS_LIBPATH+set}"; then
-    ncbi_rp_L_flags=
- ncbi_rp_L_sep=$CONF_f_libpath
- if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $fullpath/lib; do
-       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
-       ncbi_rp_L_sep=" $CONF_f_libpath"
+   for pfx in "$compiler_vpfx" "$compiler_pfx" "" ; do
+      vpath=$LIBXML_PATH/$pfx${DEBUG_SFX}${mt_sfx}${bit64_sfx}
+      if test -d "$vpath" ; then
+         LIBXML_PATH=$vpath
+         break
+      fi
     done
-    ORBACUS_LIBPATH="${ncbi_rp_L_flags}"
+   if test -d "$LIBXML_PATH"; then
+      ncbi_fix_dir_tmp=`if cd $LIBXML_PATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
+ case "$ncbi_fix_dir_tmp" in
+    /.*) ncbi_fix_dir_tmp2=`cd $LIBXML_PATH && $smart_pwd 2>/dev/null`
+         if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
+            LIBXML_PATH=$ncbi_fix_dir_tmp2
  else
-    ncbi_rp_R_flags=
-    ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $fullpath/lib; do
-       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
-       ncbi_rp_L_sep=" $CONF_f_libpath"
-       x=`echo $x | sed -e "$ncbi_rpath_sed"`
-       ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
-       ncbi_rp_R_sep=:
-    done
-    ORBACUS_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+            case "$LIBXML_PATH" in
+               /*) ;;
+               * ) LIBXML_PATH=$ncbi_fix_dir_tmp ;;
+            esac
+         fi
+         ;;
+    /*) LIBXML_PATH=$ncbi_fix_dir_tmp ;;
+ esac
+      in_path=" in $LIBXML_PATH"
+      if test -n "$LIBXML_INCLUDE"; then
+         :
+      elif test -d "$LIBXML_PATH/include/libxml2/libxml"; then
+         LIBXML_INCLUDE="-I$LIBXML_PATH/include/libxml2 -I$LIBXML_PATH/include"
+      elif test -d "$LIBXML_PATH/include/libxml"; then
+         LIBXML_INCLUDE="-I$LIBXML_PATH/include";
  fi
+      if test -d "$LIBXML_PATH/lib${bit64_sfx}"; then
+         LIBXML_LIBPATH_="$LIBXML_PATH/lib${bit64_sfx}"
+      elif test -d "$LIBXML_PATH/lib"; then
+         LIBXML_LIBPATH_="$LIBXML_PATH/lib"
  fi
-   elif test -f ${ORBACUS_PATH}/include/OB/Config.h ; then
-     : ${ORBACUS_INCLUDE="-I$ORBACUS_PATH/include"}
-     if test -z "${ORBACUS_LIBPATH+set}"; then
+      if test -z "${LIBXML_LIBPATH+set}"; then
     ncbi_rp_L_flags=
  ncbi_rp_L_sep=$CONF_f_libpath
  if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $ORBACUS_PATH/lib; do
+    for x in $LIBXML_LIBPATH_; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
     done
-    ORBACUS_LIBPATH="${ncbi_rp_L_flags}"
+    LIBXML_LIBPATH="${ncbi_rp_L_flags}"
  else
     ncbi_rp_R_flags=
     ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $ORBACUS_PATH/lib; do
+    for x in $LIBXML_LIBPATH_; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
        x=`echo $x | sed -e "$ncbi_rpath_sed"`
        ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
        ncbi_rp_R_sep=:
     done
-    ORBACUS_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+    LIBXML_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
  fi
  fi
+      LIBXML_LIBS="$LIBXML_LIBPATH -lxml2"
+   else
+      LIBXML_INCLUDE="-I/usr/include/libxml2"
+      LIBXML_LIBS="-lxml2"
+      in_path=
    fi
-   case "$host_os:$with_mt" in
-       linux*:no) LIBJTC="-lJTC -pthread" ;;
-       *)         LIBJTC="-lJTC"          ;;
-   esac
-
-   case "$with_mt:$ORBACUS_LIBPATH" in
-      yes:* | *:-L*MT/lib* )
-         LIBOB="-lOB $LIBJTC"
-         LIBIMR="-lIMR"
-         ;;
-      * )
-         LIBOB="-lOB"
-         LIBIMR=
-         ;;
-   esac
-   echo "$as_me:$LINENO: checking for ORBacus in $ORBACUS_PATH" >&5
-echo $ECHO_N "checking for ORBacus in $ORBACUS_PATH... $ECHO_C" >&6
-if test "${ncbi_cv_lib_orbacus+set}" = set; then
+   LIBXML_LIBS="$LIBXML_LIBS $ICONV_LIBS"
+   { echo "$as_me:$LINENO: checking for libxml2$in_path" >&5
+echo $ECHO_N "checking for libxml2$in_path... $ECHO_C" >&6; }
+if test "${ncbi_cv_lib_libxml+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  CPPFLAGS="$ORBACUS_INCLUDE $orig_CPPFLAGS"
-       LIBS="$ORBACUS_LIBPATH $LIBOB $NETWORK_LIBS $DL_LIBS $orig_LIBS"
+  CPPFLAGS="$LIBXML_INCLUDE $orig_CPPFLAGS"
+      LIBS="$LIBXML_LIBS $orig_LIBS"
        cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-#include <OB/CORBA.h>
+#include <libxml/parser.h>
 int
 main ()
 {
-
-            int c = 0;
-            char* v[] = { NULL };
-            CORBA::ORB_var orb = CORBA::ORB_init(c, v);
-            if (!CORBA::is_nil(orb)) orb->destroy();
-
+xmlDocPtr doc = xmlParseFile("foo.xml");
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ncbi_cv_lib_orbacus=yes
+  ncbi_cv_lib_libxml=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-ncbi_cv_lib_orbacus=no
+	ncbi_cv_lib_libxml=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_orbacus" >&5
-echo "${ECHO_T}$ncbi_cv_lib_orbacus" >&6
-   if test "$ncbi_cv_lib_orbacus" = "no"; then
-      if test "${with_orbacus:=no}" != no; then
-       { { echo "$as_me:$LINENO: error: --with-orbacus explicitly specified, but no usable version found." >&5
-echo "$as_me: error: --with-orbacus explicitly specified, but no usable version found." >&2;}
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_libxml" >&5
+echo "${ECHO_T}$ncbi_cv_lib_libxml" >&6; }
+   if test "$ncbi_cv_lib_libxml" = "no"; then
+      if test "${with_libxml:=no}" != no; then
+       { { echo "$as_me:$LINENO: error: --with-libxml explicitly specified, but no usable version found." >&5
+echo "$as_me: error: --with-libxml explicitly specified, but no usable version found." >&2;}
    { (exit 1); exit 1; }; }
     fi
    fi
 fi
-if test "$with_orbacus" = no; then
-   ORBACUS_PATH=No_ORBacus
-   ORBACUS_INCLUDE=
-   ORBACUS_LIBPATH=
-   LIBOB=
-   LIBIMR=
+if test "$with_libxml" = "no"; then
+   LIBXML_PATH="No_LIBXML"
+   LIBXML_INCLUDE=
+   LIBXML_LIBPATH_=
+   LIBXML_LIBS=
 else
-             WithPackages="$WithPackages${WithPackagesSep}ORBacus"; WithPackagesSep=" "
+             WithPackages="$WithPackages${WithPackagesSep}LIBXML"; WithPackagesSep=" "
+   LIBXML_INCLUDE="$LIBXML_INCLUDE"
 
 cat >>confdefs.h <<\_ACEOF
-#define HAVE_ORBACUS 1
+#define HAVE_LIBXML 1
 _ACEOF
 
 fi
-# Sigh... without this, the linker pulls in the contents of the cache
-# and then gripes about missing JTC stuff.
-test -d SunWS_cache  &&  rm -r SunWS_cache
 
 
-## International Components for Unicode (ICU)
-if test -z "$ICU_PATH"  &&  icu-config --version >/dev/null 2>&1; then
-    ICU_PATH=`icu-config --prefix`
+
+if test -f "${LIBXML_LIBPATH_}/libxml2-static.a"; then
+   LIBXML_STATIC_LIBS="-L${LIBXML_LIBPATH_} -lxml2-static"
+else
+   LIBXML_STATIC_LIBS=${LIBXML_LIBS}
 fi
 
-if test "$with_icu" != "no" ; then
-   case "$with_icu" in
-      yes | "" ) : ${ICU_PATH=$NCBI/icu} ;;
-      *        ) ICU_PATH=$with_icu ;;
+: ${LIBXSLT_PATH=$LIBXML_PATH}
+if test "$with_libxslt" != "no"; then
+    case "$with_libxslt" in
+       yes | "" ) ;;
+       *        ) LIBXSLT_PATH=$with_libxslt ;;
    esac
-   if test -d "$ICU_PATH/${compiler_vpfx}${DEBUG_SFX}${bit64_sfx}${mt_sfx}/lib" \
-        -a -z "$ICU_ARCH_PATH"; then
-      ICU_ARCH_PATH="$ICU_PATH/${compiler_vpfx}${DEBUG_SFX}${bit64_sfx}${mt_sfx}"
-   elif test -d "$ICU_PATH/${compiler_pfx}${DEBUG_SFX}${bit64_sfx}${mt_sfx}/lib" \
-        -a -z "$ICU_ARCH_PATH"; then
-      ICU_ARCH_PATH="$ICU_PATH/${compiler_pfx}${DEBUG_SFX}${bit64_sfx}${mt_sfx}"
-   else
-      ICU_ARCH_PATH="$ICU_PATH"
+    if test -d "$LIBXSLT_PATH"; then
+       in_path=" in $LIBXSLT_PATH"
+       if test -z "$LIBXSLT_INCLUDE" -a -d "$LIBXSLT_PATH/include"; then
+          LIBXSLT_INCLUDE="-I$LIBXSLT_PATH/include"
    fi
-   ICU_BINPATH=${ICU_BINPATH:="$ICU_ARCH_PATH/bin"}
-   ICU_LIBPATH=${ICU_LIBPATH:="$ICU_ARCH_PATH/lib"}
-   ICU_INCLUDE=
-   echo "$as_me:$LINENO: checking for ICU in $ICU_ARCH_PATH" >&5
-echo $ECHO_N "checking for ICU in $ICU_ARCH_PATH... $ECHO_C" >&6
-if test "${ncbi_cv_lib_icu+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  ICU_CONFIG=`$ICU_BINPATH/icu-config --bindir 2>/dev/null`/icu-config
-       if test -x "$ICU_CONFIG" ; then
-          ICU_INCLUDE=`$ICU_CONFIG --cppflags-searchpath`
+       if test -n "$LIBXSLT_LIBPATH"; then
+          :
+       elif test -d "$LIBXSLT_PATH/lib${bit64_sfx}"; then
+          ncbi_rp_L_flags=
+ ncbi_rp_L_sep=$CONF_f_libpath
           if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    ICU_LIBS=`$ICU_CONFIG --ldflags-searchpath | sed -e ""`
+    for x in $LIBXSLT_PATH/lib${bit64_sfx}; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+    done
+    LIBXSLT_LIBPATH="${ncbi_rp_L_flags}"
  else
-    ICU_LIBS=
-    ncbi_rp_L_sep=
     ncbi_rp_R_flags=
     ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in `$ICU_CONFIG --ldflags-searchpath | sed -e ""`; do
-       case "$x" in
-          -L*)
-             ICU_LIBS="$ICU_LIBS${ncbi_rp_L_sep}$x"
-             x=`echo $x | sed -e "s/^-L//; $ncbi_rpath_sed"`
+    for x in $LIBXSLT_PATH/lib${bit64_sfx}; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+       x=`echo $x | sed -e "$ncbi_rpath_sed"`
              ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
              ncbi_rp_R_sep=:
-             ;;
-          *)
-             ICU_LIBS="$ICU_LIBS${ncbi_rp_R_flags}${ncbi_rp_L_sep}$x"
+    done
+    LIBXSLT_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+ fi
+       elif test -d "$LIBXSLT_PATH/lib"; then
+          ncbi_rp_L_flags=
+ ncbi_rp_L_sep=$CONF_f_libpath
+ if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
+    for x in $LIBXSLT_PATH/lib; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+    done
+    LIBXSLT_LIBPATH="${ncbi_rp_L_flags}"
+ else
              ncbi_rp_R_flags=
              ncbi_rp_R_sep=" $CONF_f_runpath"
-             ;;
-       esac
-       ncbi_rp_L_sep=" "
+    for x in $LIBXSLT_PATH/lib; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+       x=`echo $x | sed -e "$ncbi_rpath_sed"`
+       ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
+       ncbi_rp_R_sep=:
     done
-    ICU_LIBS="$ICU_LIBS${ncbi_rp_R_flags}"
+    LIBXSLT_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
  fi
-          ICU_LIBS="$ICU_LIBS `$ICU_CONFIG --ldflags-libsonly`"
-
-          CPPFLAGS="$ICU_INCLUDE $orig_CPPFLAGS"
-          LIBS="$ICU_LIBS $orig_LIBS"
+       fi
+       LIBXSLT_LIBS="$LIBXSLT_LIBPATH -lxslt "
+    else
+       LIBXSLT_INCLUDE=""
+       LIBXSLT_LIBS="-lxslt "
+       in_path=
+    fi
+    { echo "$as_me:$LINENO: checking for libxslt$in_path" >&5
+echo $ECHO_N "checking for libxslt$in_path... $ECHO_C" >&6; }
+if test "${ncbi_cv_lib_libxslt+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  CPPFLAGS="$LIBXML_INCLUDE $LIBXSLT_INCLUDE $orig_CPPFLAGS"
+       LIBS="$LIBXSLT_LIBS $LIBXML_LIBS $Z_LIBS $orig_LIBS"
           cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-#include <unicode/unistr.h>
+#include <libxslt/xslt.h>
 int
 main ()
 {
-int32_t i = UNICODE_STRING_SIMPLE("foo").indexOf('f');
+xsltInit()
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ncbi_cv_lib_icu=yes
+  ncbi_cv_lib_libxslt=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-ncbi_cv_lib_icu=no
+	ncbi_cv_lib_libxslt=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
-       else
-          ncbi_cv_lib_icu=no
        fi
-fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_icu" >&5
-echo "${ECHO_T}$ncbi_cv_lib_icu" >&6
-   if test "$ncbi_cv_lib_icu" = "no"; then
-      if test "${with_icu:=no}" != no; then
-       { { echo "$as_me:$LINENO: error: --with-icu explicitly specified, but no usable version found." >&5
-echo "$as_me: error: --with-icu explicitly specified, but no usable version found." >&2;}
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_libxslt" >&5
+echo "${ECHO_T}$ncbi_cv_lib_libxslt" >&6; }
+    if test "$ncbi_cv_lib_libxslt" = "no"; then
+       if test "${with_libxslt:=no}" != no; then
+       { { echo "$as_me:$LINENO: error: --with-libxslt explicitly specified, but no usable version found." >&5
+echo "$as_me: error: --with-libxslt explicitly specified, but no usable version found." >&2;}
    { (exit 1); exit 1; }; }
     fi
    fi
 fi
+ if test "$with_libxslt" = "no"; then
+    LIBXSLT_PATH="No_LIBXSLT"
+    LIBXSLT_INCLUDE=
+    LIBXSLT_LIBS=
+ else
+              WithPackages="$WithPackages${WithPackagesSep}LIBXSLT"; WithPackagesSep=" "
+    LIBXSLT_INCLUDE="$LIBXML_INCLUDE $LIBXSLT_INCLUDE"
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_LIBXSLT 1
+_ACEOF
+
+ fi
 
-if test "$with_icu" = "no" ; then
-   ICU_PATH="No_ICU"
-   ICU_INCLUDE=
-   ICU_LIBS=
-   ICU_STATIC_LIBS=
+
+
+
+# XXX - they might be in different directories in some setups
+if test -f "${LIBXML_LIBPATH_}/libxslt-static.a"; then
+   LIBXSLT_STATIC_LIBS="-L${LIBXML_LIBPATH_} -lxslt-static"
 else
-             WithPackages="$WithPackages${WithPackagesSep}ICU"; WithPackagesSep=" "
-   ICU_CONFIG="`$ICU_BINPATH/icu-config --bindir`/icu-config"
-   # The "yes" may have been cached; get the actual settings again if needed
-   if test -z "$ICU_INCLUDE"; then
-      ICU_INCLUDE=`$ICU_CONFIG --cppflags-searchpath`
-      if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    ICU_LIBS=`$ICU_CONFIG --ldflags-searchpath | sed -e ""`
+   LIBXSLT_STATIC_LIBS=${LIBXSLT_LIBS}
+fi
+
+# Extract the first word of "xsltproc", so it can be a program name with args.
+set dummy xsltproc; ac_word=$2
+{ echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
+if test "${ac_cv_path_XSLTPROC+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
  else
-    ICU_LIBS=
-    ncbi_rp_L_sep=
-    ncbi_rp_R_flags=
-    ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in `$ICU_CONFIG --ldflags-searchpath | sed -e ""`; do
-       case "$x" in
-          -L*)
-             ICU_LIBS="$ICU_LIBS${ncbi_rp_L_sep}$x"
-             x=`echo $x | sed -e "s/^-L//; $ncbi_rpath_sed"`
-             ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
-             ncbi_rp_R_sep=:
+  case $XSLTPROC in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_XSLTPROC="$XSLTPROC" # Let the user override the test with a path.
              ;;
           *)
-             ICU_LIBS="$ICU_LIBS${ncbi_rp_R_flags}${ncbi_rp_L_sep}$x"
-             ncbi_rp_R_flags=
-             ncbi_rp_R_sep=" $CONF_f_runpath"
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+as_dummy="$LIBXSLT_PATH/bin:`dirname $LIBXML_LIBPATH_ 2>/dev/null`/bin:$PATH"
+for as_dir in $as_dummy
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+  for ac_exec_ext in '' $ac_executable_extensions; do
+  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; }; then
+    ac_cv_path_XSLTPROC="$as_dir/$ac_word$ac_exec_ext"
+    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+done
+IFS=$as_save_IFS
+
+  test -z "$ac_cv_path_XSLTPROC" && ac_cv_path_XSLTPROC=":"
              ;;
        esac
-       ncbi_rp_L_sep=" "
-    done
-    ICU_LIBS="$ICU_LIBS${ncbi_rp_R_flags}"
  fi
-      ICU_LIBS="$ICU_LIBS `$ICU_CONFIG --ldflags-libsonly`"
+XSLTPROC=$ac_cv_path_XSLTPROC
+if test -n "$XSLTPROC"; then
+  { echo "$as_me:$LINENO: result: $XSLTPROC" >&5
+echo "${ECHO_T}$XSLTPROC" >&6; }
+else
+  { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
    fi
-   ICU_STATIC_LIBS=`$ICU_CONFIG --ldflags-libsonly | sed -e 's/-licu/-lsicu/g'`
-   ICU_STATIC_LIBS="`$ICU_CONFIG --ldflags-searchpath` $ICU_STATIC_LIBS"
-
-cat >>confdefs.h <<\_ACEOF
-#define HAVE_ICU 1
-_ACEOF
 
-fi
 
 
-### XML/XSL libraries
-if test -d "$NCBI/expat/include"; then
-   : ${EXPAT_PATH=$NCBI/expat}
-fi
-if test "$with_expat" != "no"; then
-    case "$with_expat" in
+: ${LIBEXSLT_PATH=$LIBXSLT_PATH}
+if test "$with_libexslt" != "no"; then
+    case "$with_libexslt" in
        yes | "" ) ;;
-       *        ) EXPAT_PATH=$with_expat ;;
+       *        ) LIBEXSLT_PATH=$with_libexslt ;;
     esac
-    if test -d "$EXPAT_PATH"; then
-       in_path=" in $EXPAT_PATH"
-       if test -z "$EXPAT_INCLUDE" -a -d "$EXPAT_PATH/include"; then
-          EXPAT_INCLUDE="-I$EXPAT_PATH/include"
+    if test -d "$LIBEXSLT_PATH"; then
+       in_path=" in $LIBEXSLT_PATH"
+       if test -z "$LIBEXSLT_INCLUDE" -a -d "$LIBEXSLT_PATH/include"; then
+          LIBEXSLT_INCLUDE="-I$LIBEXSLT_PATH/include"
        fi
-       if test -n "$EXPAT_LIBPATH"; then
+       if test -n "$LIBEXSLT_LIBPATH"; then
           :
-       elif test -d "$EXPAT_PATH/lib${bit64_sfx}"; then
+       elif test -d "$LIBEXSLT_PATH/lib${bit64_sfx}"; then
           ncbi_rp_L_flags=
  ncbi_rp_L_sep=$CONF_f_libpath
  if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $EXPAT_PATH/lib${bit64_sfx}; do
+    for x in $LIBEXSLT_PATH/lib${bit64_sfx}; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
     done
-    EXPAT_LIBPATH="${ncbi_rp_L_flags}"
+    LIBEXSLT_LIBPATH="${ncbi_rp_L_flags}"
  else
     ncbi_rp_R_flags=
     ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $EXPAT_PATH/lib${bit64_sfx}; do
+    for x in $LIBEXSLT_PATH/lib${bit64_sfx}; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
        x=`echo $x | sed -e "$ncbi_rpath_sed"`
        ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
        ncbi_rp_R_sep=:
     done
-    EXPAT_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+    LIBEXSLT_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
  fi
-       elif test -d "$EXPAT_PATH/lib"; then
+       elif test -d "$LIBEXSLT_PATH/lib"; then
           ncbi_rp_L_flags=
  ncbi_rp_L_sep=$CONF_f_libpath
  if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $EXPAT_PATH/lib; do
+    for x in $LIBEXSLT_PATH/lib; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
     done
-    EXPAT_LIBPATH="${ncbi_rp_L_flags}"
+    LIBEXSLT_LIBPATH="${ncbi_rp_L_flags}"
  else
     ncbi_rp_R_flags=
     ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $EXPAT_PATH/lib; do
+    for x in $LIBEXSLT_PATH/lib; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
        x=`echo $x | sed -e "$ncbi_rpath_sed"`
        ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
        ncbi_rp_R_sep=:
     done
-    EXPAT_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+    LIBEXSLT_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
  fi
        fi
-       EXPAT_LIBS="$EXPAT_LIBPATH -lexpat "
+       LIBEXSLT_LIBS="$LIBEXSLT_LIBPATH -lexslt "
     else
-       EXPAT_INCLUDE=""
-       EXPAT_LIBS="-lexpat "
+       LIBEXSLT_INCLUDE=""
+       LIBEXSLT_LIBS="-lexslt "
        in_path=
     fi
-    echo "$as_me:$LINENO: checking for libexpat$in_path" >&5
-echo $ECHO_N "checking for libexpat$in_path... $ECHO_C" >&6
-if test "${ncbi_cv_lib_expat+set}" = set; then
+    { echo "$as_me:$LINENO: checking for libexslt$in_path" >&5
+echo $ECHO_N "checking for libexslt$in_path... $ECHO_C" >&6; }
+if test "${ncbi_cv_lib_libexslt+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  CPPFLAGS=" $EXPAT_INCLUDE $orig_CPPFLAGS"
-       LIBS="$EXPAT_LIBS  $orig_LIBS"
+  CPPFLAGS="$LIBXSLT_INCLUDE $LIBEXSLT_INCLUDE $orig_CPPFLAGS"
+       LIBS="$LIBEXSLT_LIBS $LIBXSLT_LIBS $LIBXML_LIBS $Z_LIBS $orig_LIBS"
        cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-#include <expat.h>
+#include <libexslt/exslt.h>
 int
 main ()
 {
-XML_Parser parser = XML_ParserCreate("utf-8");
+exsltRegisterAll()
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ncbi_cv_lib_expat=yes
+  ncbi_cv_lib_libexslt=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-ncbi_cv_lib_expat=no
+	ncbi_cv_lib_libexslt=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_expat" >&5
-echo "${ECHO_T}$ncbi_cv_lib_expat" >&6
-    if test "$ncbi_cv_lib_expat" = "no"; then
-       if test "${with_expat:=no}" != no; then
-       { { echo "$as_me:$LINENO: error: --with-expat explicitly specified, but no usable version found." >&5
-echo "$as_me: error: --with-expat explicitly specified, but no usable version found." >&2;}
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_libexslt" >&5
+echo "${ECHO_T}$ncbi_cv_lib_libexslt" >&6; }
+    if test "$ncbi_cv_lib_libexslt" = "no"; then
+       if test "${with_libexslt:=no}" != no; then
+       { { echo "$as_me:$LINENO: error: --with-libexslt explicitly specified, but no usable version found." >&5
+echo "$as_me: error: --with-libexslt explicitly specified, but no usable version found." >&2;}
    { (exit 1); exit 1; }; }
     fi
     fi
  fi
- if test "$with_expat" = "no"; then
-    EXPAT_PATH="No_EXPAT"
-    EXPAT_INCLUDE=
-    EXPAT_LIBS=
+ if test "$with_libexslt" = "no"; then
+    LIBEXSLT_PATH="No_LIBEXSLT"
+    LIBEXSLT_INCLUDE=
+    LIBEXSLT_LIBS=
  else
-              WithPackages="$WithPackages${WithPackagesSep}EXPAT"; WithPackagesSep=" "
-    EXPAT_INCLUDE=" $EXPAT_INCLUDE"
+              WithPackages="$WithPackages${WithPackagesSep}LIBEXSLT"; WithPackagesSep=" "
+    LIBEXSLT_INCLUDE="$LIBXSLT_INCLUDE $LIBEXSLT_INCLUDE"
 
 cat >>confdefs.h <<\_ACEOF
-#define HAVE_LIBEXPAT 1
+#define HAVE_LIBEXSLT 1
 _ACEOF
 
  fi
 
 
 
-if test -f "${EXPAT_PATH}/lib${bit64_sfx}/libexpat-static.a"; then
-   EXPAT_STATIC_LIBS="-L${EXPAT_PATH}/lib${bit64_sfx} -lexpat-static"
+
+# XXX - they might be in different directories in some setups
+if test -f "${LIBXML_LIBPATH_}/libexslt-static.a"; then
+   LIBEXSLT_STATIC_LIBS="-L${LIBXML_LIBPATH_} -lexslt-static"
 else
-   EXPAT_STATIC_LIBS=${EXPAT_LIBS}
+   LIBEXSLT_STATIC_LIBS=${LIBEXSLT_LIBS}
 fi
-: ${SABLOT_PATH=$NCBI/Sablot}
-vpath="$SABLOT_PATH/${compiler_vpfx}build"
-test -d "$vpath"  &&  SABLOT_PATH=$vpath
-if test -d "$SABLOT_PATH"; then
-   ncbi_fix_dir_tmp=`if cd $SABLOT_PATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
+
+if test "$with_xerces" != no; then
+   if test "${with_xerces-yes}" != yes; then
+      XERCES_PATH=$with_xerces
+   fi
+   if test -d "$XERCES_PATH"; then
+      ncbi_fix_dir_tmp=`if cd $XERCES_PATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
  case "$ncbi_fix_dir_tmp" in
-    /.*) ncbi_fix_dir_tmp2=`cd $SABLOT_PATH && $smart_pwd 2>/dev/null`
+    /.*) ncbi_fix_dir_tmp2=`cd $XERCES_PATH && $smart_pwd 2>/dev/null`
          if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
-            SABLOT_PATH=$ncbi_fix_dir_tmp2
+            XERCES_PATH=$ncbi_fix_dir_tmp2
          else
-            case "$SABLOT_PATH" in
+            case "$XERCES_PATH" in
                /*) ;;
-               * ) SABLOT_PATH=$ncbi_fix_dir_tmp ;;
+               * ) XERCES_PATH=$ncbi_fix_dir_tmp ;;
             esac
          fi
          ;;
-    /*) SABLOT_PATH=$ncbi_fix_dir_tmp ;;
+    /*) XERCES_PATH=$ncbi_fix_dir_tmp ;;
  esac
 fi
-if test "$with_sablot" != "no"; then
-    case "$with_sablot" in
-       yes | "" ) ;;
-       *        ) SABLOT_PATH=$with_sablot ;;
+   vpath="$XERCES_PATH/${compiler_vpfx}${DEBUG_SFX}${bit64_sfx}${mt_sfx}"
+   if test -d "$vpath/lib"; then
+      XERCES_PATH=$vpath
+      ncbi_fix_dir_tmp=`if cd $XERCES_PATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
+ case "$ncbi_fix_dir_tmp" in
+    /.*) ncbi_fix_dir_tmp2=`cd $XERCES_PATH && $smart_pwd 2>/dev/null`
+         if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
+            XERCES_PATH=$ncbi_fix_dir_tmp2
+         else
+            case "$XERCES_PATH" in
+               /*) ;;
+               * ) XERCES_PATH=$ncbi_fix_dir_tmp ;;
+            esac
+         fi
+         ;;
+    /*) XERCES_PATH=$ncbi_fix_dir_tmp ;;
+ esac
+   elif test -d "$vpath"; then
+      : ${XERCES_LIBPATH=$vpath}
+      ncbi_fix_dir_tmp=`if cd $XERCES_LIBPATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
+ case "$ncbi_fix_dir_tmp" in
+    /.*) ncbi_fix_dir_tmp2=`cd $XERCES_LIBPATH && $smart_pwd 2>/dev/null`
+         if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
+            XERCES_LIBPATH=$ncbi_fix_dir_tmp2
+         else
+            case "$XERCES_LIBPATH" in
+               /*) ;;
+               * ) XERCES_LIBPATH=$ncbi_fix_dir_tmp ;;
+            esac
+         fi
+         ;;
+    /*) XERCES_LIBPATH=$ncbi_fix_dir_tmp ;;
+ esac
+   else
+      vpath="$XERCES_PATH/${compiler_pfx}${DEBUG_SFX}${bit64_sfx}${mt_sfx}"
+      if test -d "$vpath/lib"; then
+         XERCES_PATH=$vpath
+         ncbi_fix_dir_tmp=`if cd $XERCES_PATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
+ case "$ncbi_fix_dir_tmp" in
+    /.*) ncbi_fix_dir_tmp2=`cd $XERCES_PATH && $smart_pwd 2>/dev/null`
+         if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
+            XERCES_PATH=$ncbi_fix_dir_tmp2
+         else
+            case "$XERCES_PATH" in
+               /*) ;;
+               * ) XERCES_PATH=$ncbi_fix_dir_tmp ;;
+            esac
+         fi
+         ;;
+    /*) XERCES_PATH=$ncbi_fix_dir_tmp ;;
+ esac
+      elif test -d "$vpath"; then
+         XERCES_LIBPATH=$vpath
+         ncbi_fix_dir_tmp=`if cd $XERCES_LIBPATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
+ case "$ncbi_fix_dir_tmp" in
+    /.*) ncbi_fix_dir_tmp2=`cd $XERCES_LIBPATH && $smart_pwd 2>/dev/null`
+         if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
+            XERCES_LIBPATH=$ncbi_fix_dir_tmp2
+         else
+            case "$XERCES_LIBPATH" in
+               /*) ;;
+               * ) XERCES_LIBPATH=$ncbi_fix_dir_tmp ;;
+            esac
+         fi
+         ;;
+    /*) XERCES_LIBPATH=$ncbi_fix_dir_tmp ;;
     esac
-    if test -d "$SABLOT_PATH"; then
-       in_path=" in $SABLOT_PATH"
-       if test -z "$SABLOT_INCLUDE" -a -d "$SABLOT_PATH/include"; then
-          SABLOT_INCLUDE="-I$SABLOT_PATH/include"
        fi
-       if test -n "$SABLOT_LIBPATH"; then
-          :
-       elif test -d "$SABLOT_PATH/lib${bit64_sfx}"; then
-          ncbi_rp_L_flags=
- ncbi_rp_L_sep=$CONF_f_libpath
- if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $SABLOT_PATH/lib${bit64_sfx}; do
-       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
-       ncbi_rp_L_sep=" $CONF_f_libpath"
-    done
-    SABLOT_LIBPATH="${ncbi_rp_L_flags}"
+   fi
+   if test -d "$XERCES_PATH"; then
+      in_path=" in $XERCES_PATH"
+      : ${XERCES_INCLUDE=-I$XERCES_PATH/include}
+      : ${XERCES_LIBPATH=$XERCES_PATH/lib}
  else
-    ncbi_rp_R_flags=
-    ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $SABLOT_PATH/lib${bit64_sfx}; do
-       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
-       ncbi_rp_L_sep=" $CONF_f_libpath"
-       x=`echo $x | sed -e "$ncbi_rpath_sed"`
-       ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
-       ncbi_rp_R_sep=:
-    done
-    SABLOT_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+      in_path=''
  fi
-       elif test -d "$SABLOT_PATH/lib"; then
           ncbi_rp_L_flags=
  ncbi_rp_L_sep=$CONF_f_libpath
  if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $SABLOT_PATH/lib; do
+    for x in $XERCES_LIBPATH; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
     done
-    SABLOT_LIBPATH="${ncbi_rp_L_flags}"
+    XERCES_LIBPATH_="${ncbi_rp_L_flags}"
  else
     ncbi_rp_R_flags=
     ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $SABLOT_PATH/lib; do
+    for x in $XERCES_LIBPATH; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
        x=`echo $x | sed -e "$ncbi_rpath_sed"`
        ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
        ncbi_rp_R_sep=:
     done
-    SABLOT_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
- fi
-       fi
-       SABLOT_LIBS="$SABLOT_LIBPATH -lsablot $EXPAT_LIBS"
-    else
-       SABLOT_INCLUDE=""
-       SABLOT_LIBS="-lsablot $EXPAT_LIBS"
-       in_path=
+    XERCES_LIBPATH_="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
     fi
-    echo "$as_me:$LINENO: checking for libsablot$in_path" >&5
-echo $ECHO_N "checking for libsablot$in_path... $ECHO_C" >&6
-if test "${ncbi_cv_lib_sablot+set}" = set; then
+   XERCES_LIBS="$XERCES_LIBPATH_ -lxerces-c"
+   { echo "$as_me:$LINENO: checking for Xerces-C++$in_path" >&5
+echo $ECHO_N "checking for Xerces-C++$in_path... $ECHO_C" >&6; }
+if test "${ncbi_cv_lib_xerces_c+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  CPPFLAGS=" $SABLOT_INCLUDE $orig_CPPFLAGS"
-       LIBS="$SABLOT_LIBS  $orig_LIBS"
+  CPPFLAGS="$XERCES_INCLUDE $orig_CPPFLAGS"
+       LIBS="$XERCES_LIBS $ICU_LIBS $orig_LIBS"
        cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-#include <sablot.h>
+#include <xercesc/dom/DOM.hpp>
 int
 main ()
 {
-SDOM_Document* D; int x = SablotParse(NULL, "file:/dev/null", D);
+xercesc::DOMImplementation* impl
+               = xercesc::DOMImplementationRegistry::getDOMImplementation
+                 (xercesc::XMLString::transcode("XML 1.0"));
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ncbi_cv_lib_sablot=yes
+  ncbi_cv_lib_xerces_c=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-ncbi_cv_lib_sablot=no
+	ncbi_cv_lib_xerces_c=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_sablot" >&5
-echo "${ECHO_T}$ncbi_cv_lib_sablot" >&6
-    if test "$ncbi_cv_lib_sablot" = "no"; then
-       if test "${with_sablot:=no}" != no; then
-       { { echo "$as_me:$LINENO: error: --with-sablot explicitly specified, but no usable version found." >&5
-echo "$as_me: error: --with-sablot explicitly specified, but no usable version found." >&2;}
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_xerces_c" >&5
+echo "${ECHO_T}$ncbi_cv_lib_xerces_c" >&6; }
+   if test $ncbi_cv_lib_xerces_c = yes; then
+      if test -f "$XERCES_LIBPATH/libxerces-c-static.a"; then
+         XERCES_STATIC_LIBS="-L$XERCES_LIBPATH -lxerces-c-static $CURL_LIBS"
+      else
+         XERCES_STATIC_LIBS=$XERCES_LIBS
+      fi
+   else
+      if test "${with_xerces:=no}" != no; then
+       { { echo "$as_me:$LINENO: error: --with-xerces explicitly specified, but no usable version found." >&5
+echo "$as_me: error: --with-xerces explicitly specified, but no usable version found." >&2;}
    { (exit 1); exit 1; }; }
     fi
     fi
  fi
- if test "$with_sablot" = "no"; then
-    SABLOT_PATH="No_SABLOT"
-    SABLOT_INCLUDE=
-    SABLOT_LIBS=
- else
-              WithPackages="$WithPackages${WithPackagesSep}SABLOT"; WithPackagesSep=" "
-    SABLOT_INCLUDE=" $SABLOT_INCLUDE"
+if test "$with_xerces" != no; then
+             WithPackages="$WithPackages${WithPackagesSep}Xerces"; WithPackagesSep=" "
 
 cat >>confdefs.h <<\_ACEOF
-#define HAVE_LIBSABLOT 1
+#define HAVE_XERCES 1
 _ACEOF
 
- fi
-
-
-
-test -d SunWS_cache  &&  rm -r SunWS_cache
-if test -f "${SABLOT_PATH}/lib${bit64_sfx}/libsablot-static.a"; then
-   SABLOT_STATIC_LIBS="-L${SABLOT_PATH}/lib${bit64_sfx} -lsablot-static $EXPAT_STATIC_LIBS"
 else
-   SABLOT_STATIC_LIBS=${SABLOT_LIBS}
+   XERCES_INCLUDE=
+   XERCES_LIBS=
+   XERCES_STATIC_LIBS=
 fi
 
-: ${LIBXML_PATH=$NCBI/libxml}
-# test -d "$LIBXML_PATH" || LIBXML_PATH=`xml2-config --prefix 2>/dev/null`
-if test "$with_libxml" != "no"; then
-   case "$with_libxml" in
-      yes | "" ) ;;
-      *        ) LIBXML_PATH=$with_libxml ;;
-   esac
-   for pfx in "$compiler_vpfx" "$compiler_pfx" "" ; do
-      vpath=$LIBXML_PATH/$pfx${DEBUG_SFX}${mt_sfx}${bit64_sfx}
-      if test -d "$vpath" ; then
-         LIBXML_PATH=$vpath
-         break
+if test "$with_xalan" != no; then
+   if test "${with_xalan-yes}" != yes; then
+      XALAN_PATH=$with_xalan
       fi
-   done
-   if test -d "$LIBXML_PATH"; then
-      ncbi_fix_dir_tmp=`if cd $LIBXML_PATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
+   if test -d "$XALAN_PATH"; then
+      ncbi_fix_dir_tmp=`if cd $XALAN_PATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
  case "$ncbi_fix_dir_tmp" in
-    /.*) ncbi_fix_dir_tmp2=`cd $LIBXML_PATH && $smart_pwd 2>/dev/null`
+    /.*) ncbi_fix_dir_tmp2=`cd $XALAN_PATH && $smart_pwd 2>/dev/null`
          if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
-            LIBXML_PATH=$ncbi_fix_dir_tmp2
+            XALAN_PATH=$ncbi_fix_dir_tmp2
          else
-            case "$LIBXML_PATH" in
+            case "$XALAN_PATH" in
                /*) ;;
-               * ) LIBXML_PATH=$ncbi_fix_dir_tmp ;;
+               * ) XALAN_PATH=$ncbi_fix_dir_tmp ;;
             esac
          fi
          ;;
-    /*) LIBXML_PATH=$ncbi_fix_dir_tmp ;;
+    /*) XALAN_PATH=$ncbi_fix_dir_tmp ;;
  esac
-      in_path=" in $LIBXML_PATH"
-      if test -n "$LIBXML_INCLUDE"; then
-         :
-      elif test -d "$LIBXML_PATH/include/libxml2/libxml"; then
-         LIBXML_INCLUDE="-I$LIBXML_PATH/include/libxml2 -I$LIBXML_PATH/include"
-      elif test -d "$LIBXML_PATH/include/libxml"; then
-         LIBXML_INCLUDE="-I$LIBXML_PATH/include";
-      fi
-      if test -d "$LIBXML_PATH/lib${bit64_sfx}"; then
-         LIBXML_LIBPATH_="$LIBXML_PATH/lib${bit64_sfx}"
-      elif test -d "$LIBXML_PATH/lib"; then
-         LIBXML_LIBPATH_="$LIBXML_PATH/lib"
       fi
-      if test -z "${LIBXML_LIBPATH+set}"; then
-    ncbi_rp_L_flags=
- ncbi_rp_L_sep=$CONF_f_libpath
- if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $LIBXML_LIBPATH_; do
-       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
-       ncbi_rp_L_sep=" $CONF_f_libpath"
-    done
-    LIBXML_LIBPATH="${ncbi_rp_L_flags}"
+   vpath="$XALAN_PATH/${compiler_vpfx}${DEBUG_SFX}${bit64_sfx}${mt_sfx}"
+   if test -d "$vpath/lib"; then
+      XALAN_PATH=$vpath
+      ncbi_fix_dir_tmp=`if cd $XALAN_PATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
+ case "$ncbi_fix_dir_tmp" in
+    /.*) ncbi_fix_dir_tmp2=`cd $XALAN_PATH && $smart_pwd 2>/dev/null`
+         if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
+            XALAN_PATH=$ncbi_fix_dir_tmp2
  else
-    ncbi_rp_R_flags=
-    ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $LIBXML_LIBPATH_; do
-       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
-       ncbi_rp_L_sep=" $CONF_f_libpath"
-       x=`echo $x | sed -e "$ncbi_rpath_sed"`
-       ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
-       ncbi_rp_R_sep=:
-    done
-    LIBXML_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
- fi
+            case "$XALAN_PATH" in
+               /*) ;;
+               * ) XALAN_PATH=$ncbi_fix_dir_tmp ;;
+            esac
  fi
-      LIBXML_LIBS="$LIBXML_LIBPATH -lxml2"
+         ;;
+    /*) XALAN_PATH=$ncbi_fix_dir_tmp ;;
+ esac
+   elif test -d "$vpath"; then
+      : ${XALAN_LIBPATH=$vpath}
+      ncbi_fix_dir_tmp=`if cd $XALAN_LIBPATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
+ case "$ncbi_fix_dir_tmp" in
+    /.*) ncbi_fix_dir_tmp2=`cd $XALAN_LIBPATH && $smart_pwd 2>/dev/null`
+         if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
+            XALAN_LIBPATH=$ncbi_fix_dir_tmp2
    else
-      LIBXML_INCLUDE="-I/usr/include/libxml2"
-      LIBXML_LIBS="-lxml2"
-      in_path=
+            case "$XALAN_LIBPATH" in
+               /*) ;;
+               * ) XALAN_LIBPATH=$ncbi_fix_dir_tmp ;;
+            esac
    fi
-   LIBXML_LIBS="$LIBXML_LIBS $ICONV_LIBS"
-   echo "$as_me:$LINENO: checking for libxml2$in_path" >&5
-echo $ECHO_N "checking for libxml2$in_path... $ECHO_C" >&6
-if test "${ncbi_cv_lib_libxml+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  CPPFLAGS="$LIBXML_INCLUDE $orig_CPPFLAGS"
-      LIBS="$LIBXML_LIBS $orig_LIBS"
-      cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <libxml/parser.h>
-int
-main ()
-{
-xmlDocPtr doc = xmlParseFile("foo.xml");
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
-  ac_status=$?
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); }; } &&
-	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
-  ac_status=$?
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); }; }; then
-  ncbi_cv_lib_libxml=yes
+         ;;
+    /*) XALAN_LIBPATH=$ncbi_fix_dir_tmp ;;
+ esac
 else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-ncbi_cv_lib_libxml=no
-fi
-rm -f conftest.err conftest.$ac_objext \
-      conftest$ac_exeext conftest.$ac_ext
-fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_libxml" >&5
-echo "${ECHO_T}$ncbi_cv_lib_libxml" >&6
-   if test "$ncbi_cv_lib_libxml" = "no"; then
-      if test "${with_libxml:=no}" != no; then
-       { { echo "$as_me:$LINENO: error: --with-libxml explicitly specified, but no usable version found." >&5
-echo "$as_me: error: --with-libxml explicitly specified, but no usable version found." >&2;}
-   { (exit 1); exit 1; }; }
-    fi
-   fi
-fi
-if test "$with_libxml" = "no"; then
-   LIBXML_PATH="No_LIBXML"
-   LIBXML_INCLUDE=
-   LIBXML_LIBPATH_=
-   LIBXML_LIBS=
+      vpath="$XALAN_PATH/${compiler_pfx}${DEBUG_SFX}${bit64_sfx}${mt_sfx}"
+      if test -d "$vpath/lib"; then
+         XALAN_PATH=$vpath
+         ncbi_fix_dir_tmp=`if cd $XALAN_PATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
+ case "$ncbi_fix_dir_tmp" in
+    /.*) ncbi_fix_dir_tmp2=`cd $XALAN_PATH && $smart_pwd 2>/dev/null`
+         if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
+            XALAN_PATH=$ncbi_fix_dir_tmp2
 else
-             WithPackages="$WithPackages${WithPackagesSep}LIBXML"; WithPackagesSep=" "
-   LIBXML_INCLUDE="$LIBXML_INCLUDE"
-
-cat >>confdefs.h <<\_ACEOF
-#define HAVE_LIBXML 1
-_ACEOF
-
+            case "$XALAN_PATH" in
+               /*) ;;
+               * ) XALAN_PATH=$ncbi_fix_dir_tmp ;;
+            esac
 fi
-
-
-
-if test -f "${LIBXML_LIBPATH_}/libxml2-static.a"; then
-   LIBXML_STATIC_LIBS="-L${LIBXML_LIBPATH_} -lxml2-static"
+         ;;
+    /*) XALAN_PATH=$ncbi_fix_dir_tmp ;;
+ esac
+      elif test -d "$vpath"; then
+         XALAN_LIBPATH=$vpath
+         ncbi_fix_dir_tmp=`if cd $XALAN_LIBPATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
+ case "$ncbi_fix_dir_tmp" in
+    /.*) ncbi_fix_dir_tmp2=`cd $XALAN_LIBPATH && $smart_pwd 2>/dev/null`
+         if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
+            XALAN_LIBPATH=$ncbi_fix_dir_tmp2
 else
-   LIBXML_STATIC_LIBS=${LIBXML_LIBS}
+            case "$XALAN_LIBPATH" in
+               /*) ;;
+               * ) XALAN_LIBPATH=$ncbi_fix_dir_tmp ;;
+            esac
 fi
-
-: ${LIBXSLT_PATH=$LIBXML_PATH}
-if test "$with_libxslt" != "no"; then
-    case "$with_libxslt" in
-       yes | "" ) ;;
-       *        ) LIBXSLT_PATH=$with_libxslt ;;
+         ;;
+    /*) XALAN_LIBPATH=$ncbi_fix_dir_tmp ;;
     esac
-    if test -d "$LIBXSLT_PATH"; then
-       in_path=" in $LIBXSLT_PATH"
-       if test -z "$LIBXSLT_INCLUDE" -a -d "$LIBXSLT_PATH/include"; then
-          LIBXSLT_INCLUDE="-I$LIBXSLT_PATH/include"
        fi
-       if test -n "$LIBXSLT_LIBPATH"; then
-          :
-       elif test -d "$LIBXSLT_PATH/lib${bit64_sfx}"; then
-          ncbi_rp_L_flags=
- ncbi_rp_L_sep=$CONF_f_libpath
- if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $LIBXSLT_PATH/lib${bit64_sfx}; do
-       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
-       ncbi_rp_L_sep=" $CONF_f_libpath"
-    done
-    LIBXSLT_LIBPATH="${ncbi_rp_L_flags}"
+   fi
+   if test -d "$XALAN_PATH"; then
+      in_path=" in $XALAN_PATH"
+      : ${XALAN_INCLUDE=-I$XALAN_PATH/include}
+      : ${XALAN_LIBPATH=$XALAN_PATH/lib}
  else
-    ncbi_rp_R_flags=
-    ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $LIBXSLT_PATH/lib${bit64_sfx}; do
-       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
-       ncbi_rp_L_sep=" $CONF_f_libpath"
-       x=`echo $x | sed -e "$ncbi_rpath_sed"`
-       ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
-       ncbi_rp_R_sep=:
-    done
-    LIBXSLT_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+      in_path=''
  fi
-       elif test -d "$LIBXSLT_PATH/lib"; then
           ncbi_rp_L_flags=
  ncbi_rp_L_sep=$CONF_f_libpath
  if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $LIBXSLT_PATH/lib; do
+    for x in $XALAN_LIBPATH; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
     done
-    LIBXSLT_LIBPATH="${ncbi_rp_L_flags}"
+    XALAN_LIBPATH_="${ncbi_rp_L_flags}"
  else
     ncbi_rp_R_flags=
     ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $LIBXSLT_PATH/lib; do
+    for x in $XALAN_LIBPATH; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
        x=`echo $x | sed -e "$ncbi_rpath_sed"`
        ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
        ncbi_rp_R_sep=:
     done
-    LIBXSLT_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
- fi
-       fi
-       LIBXSLT_LIBS="$LIBXSLT_LIBPATH -lxslt "
-    else
-       LIBXSLT_INCLUDE=""
-       LIBXSLT_LIBS="-lxslt "
-       in_path=
+    XALAN_LIBPATH_="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
     fi
-    echo "$as_me:$LINENO: checking for libxslt$in_path" >&5
-echo $ECHO_N "checking for libxslt$in_path... $ECHO_C" >&6
-if test "${ncbi_cv_lib_libxslt+set}" = set; then
+   XALAN_LIBS="$XALAN_LIBPATH_ -lxalan-c -lxalanMsg"
+   { echo "$as_me:$LINENO: checking for Xalan-C++$in_path" >&5
+echo $ECHO_N "checking for Xalan-C++$in_path... $ECHO_C" >&6; }
+if test "${ncbi_cv_lib_xalan_c+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  CPPFLAGS="$LIBXML_INCLUDE $LIBXSLT_INCLUDE $orig_CPPFLAGS"
-       LIBS="$LIBXSLT_LIBS $LIBXML_LIBS $Z_LIBS $orig_LIBS"
+  CPPFLAGS="$XALAN_INCLUDE $XERCES_INCLUDE $orig_CPPFLAGS"
+       LIBS="$XALAN_LIBS $XERCES_LIBS $ICU_LIBS $orig_LIBS"
        cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-#include <libxslt/xslt.h>
+#include <xalanc/XalanTransformer/XalanTransformer.hpp>
 int
 main ()
 {
-xsltInit()
+xalanc::XalanTransformer::initialize();
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ncbi_cv_lib_libxslt=yes
+  ncbi_cv_lib_xalan_c=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-ncbi_cv_lib_libxslt=no
+	ncbi_cv_lib_xalan_c=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_libxslt" >&5
-echo "${ECHO_T}$ncbi_cv_lib_libxslt" >&6
-    if test "$ncbi_cv_lib_libxslt" = "no"; then
-       if test "${with_libxslt:=no}" != no; then
-       { { echo "$as_me:$LINENO: error: --with-libxslt explicitly specified, but no usable version found." >&5
-echo "$as_me: error: --with-libxslt explicitly specified, but no usable version found." >&2;}
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_xalan_c" >&5
+echo "${ECHO_T}$ncbi_cv_lib_xalan_c" >&6; }
+   if test $ncbi_cv_lib_xalan_c = yes; then
+      if test -f "$XALAN_LIBPATH/libxalan-c-static.a"; then
+         XALAN_STATIC_LIBS="-L$XALAN_LIBPATH -lxalan-c-static -lxalanMsg-static"
+      else
+         XALAN_STATIC_LIBS=$XALAN_LIBS
+      fi
+   else
+      if test "${with_xalan:=no}" != no; then
+       { { echo "$as_me:$LINENO: error: --with-xalan explicitly specified, but no usable version found." >&5
+echo "$as_me: error: --with-xalan explicitly specified, but no usable version found." >&2;}
    { (exit 1); exit 1; }; }
     fi
     fi
  fi
- if test "$with_libxslt" = "no"; then
-    LIBXSLT_PATH="No_LIBXSLT"
-    LIBXSLT_INCLUDE=
-    LIBXSLT_LIBS=
- else
-              WithPackages="$WithPackages${WithPackagesSep}LIBXSLT"; WithPackagesSep=" "
-    LIBXSLT_INCLUDE="$LIBXML_INCLUDE $LIBXSLT_INCLUDE"
+if test "$with_xalan" != no; then
+             WithPackages="$WithPackages${WithPackagesSep}Xalan"; WithPackagesSep=" "
 
 cat >>confdefs.h <<\_ACEOF
-#define HAVE_LIBXSLT 1
+#define HAVE_XALAN 1
 _ACEOF
 
+else
+   XALAN_INCLUDE=
+   XALAN_LIBS=
+   XALAN_STATIC_LIBS=
  fi
 
+test -d SunWS_cache  &&  rm -r SunWS_cache
 
-
-
-# XXX - they might be in different directories in some setups
-if test -f "${LIBXML_LIBPATH_}/libxslt-static.a"; then
-   LIBXSLT_STATIC_LIBS="-L${LIBXML_LIBPATH_} -lxslt-static"
+if test "$with_zorba" != no; then
+   if test "${with_zorba-yes}" != yes; then
+      ZORBA_PATH=$with_zorba
+   fi
+   if test -d "$ZORBA_PATH"; then
+      ncbi_fix_dir_tmp=`if cd $ZORBA_PATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
+ case "$ncbi_fix_dir_tmp" in
+    /.*) ncbi_fix_dir_tmp2=`cd $ZORBA_PATH && $smart_pwd 2>/dev/null`
+         if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
+            ZORBA_PATH=$ncbi_fix_dir_tmp2
 else
-   LIBXSLT_STATIC_LIBS=${LIBXSLT_LIBS}
+            case "$ZORBA_PATH" in
+               /*) ;;
+               * ) ZORBA_PATH=$ncbi_fix_dir_tmp ;;
+            esac
 fi
-
-# Extract the first word of "xsltproc", so it can be a program name with args.
-set dummy xsltproc; ac_word=$2
-echo "$as_me:$LINENO: checking for $ac_word" >&5
-echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
-if test "${ac_cv_path_XSLTPROC+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
+         ;;
+    /*) ZORBA_PATH=$ncbi_fix_dir_tmp ;;
+ esac
+   fi
+   vpath="$ZORBA_PATH/${compiler_vpfx}${DEBUG_SFX}${mt_sfx}${bit64_sfx}"
+   if test -d "$vpath/lib"; then
+      ZORBA_PATH=$vpath
+      ncbi_fix_dir_tmp=`if cd $ZORBA_PATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
+ case "$ncbi_fix_dir_tmp" in
+    /.*) ncbi_fix_dir_tmp2=`cd $ZORBA_PATH && $smart_pwd 2>/dev/null`
+         if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
+            ZORBA_PATH=$ncbi_fix_dir_tmp2
 else
-  case $XSLTPROC in
-  [\\/]* | ?:[\\/]*)
-  ac_cv_path_XSLTPROC="$XSLTPROC" # Let the user override the test with a path.
+            case "$ZORBA_PATH" in
+               /*) ;;
+               * ) ZORBA_PATH=$ncbi_fix_dir_tmp ;;
+            esac
+         fi
   ;;
-  *)
-  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
-as_dummy="$LIBXSLT_PATH/bin:`dirname $LIBXML_LIBPATH_ 2>/dev/null`/bin:$PATH"
-for as_dir in $as_dummy
-do
-  IFS=$as_save_IFS
-  test -z "$as_dir" && as_dir=.
-  for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
-    ac_cv_path_XSLTPROC="$as_dir/$ac_word$ac_exec_ext"
-    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
-    break 2
+    /*) ZORBA_PATH=$ncbi_fix_dir_tmp ;;
+ esac
+   elif test -d "$vpath"; then
+      : ${ZORBA_LIBPATH=$vpath}
+      ncbi_fix_dir_tmp=`if cd $ZORBA_LIBPATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
+ case "$ncbi_fix_dir_tmp" in
+    /.*) ncbi_fix_dir_tmp2=`cd $ZORBA_LIBPATH && $smart_pwd 2>/dev/null`
+         if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
+            ZORBA_LIBPATH=$ncbi_fix_dir_tmp2
+         else
+            case "$ZORBA_LIBPATH" in
+               /*) ;;
+               * ) ZORBA_LIBPATH=$ncbi_fix_dir_tmp ;;
+            esac
   fi
-done
-done
-
-  test -z "$ac_cv_path_XSLTPROC" && ac_cv_path_XSLTPROC=":"
   ;;
+    /*) ZORBA_LIBPATH=$ncbi_fix_dir_tmp ;;
+ esac
+   else
+      vpath="$ZORBA_PATH/${compiler_pfx}${DEBUG_SFX}${mt_sfx}${bit64_sfx}"
+      if test -d "$vpath/lib"; then
+         ZORBA_PATH=$vpath
+         ncbi_fix_dir_tmp=`if cd $ZORBA_PATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
+ case "$ncbi_fix_dir_tmp" in
+    /.*) ncbi_fix_dir_tmp2=`cd $ZORBA_PATH && $smart_pwd 2>/dev/null`
+         if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
+            ZORBA_PATH=$ncbi_fix_dir_tmp2
+         else
+            case "$ZORBA_PATH" in
+               /*) ;;
+               * ) ZORBA_PATH=$ncbi_fix_dir_tmp ;;
 esac
 fi
-XSLTPROC=$ac_cv_path_XSLTPROC
-
-if test -n "$XSLTPROC"; then
-  echo "$as_me:$LINENO: result: $XSLTPROC" >&5
-echo "${ECHO_T}$XSLTPROC" >&6
+         ;;
+    /*) ZORBA_PATH=$ncbi_fix_dir_tmp ;;
+ esac
+      elif test -d "$vpath"; then
+         ZORBA_LIBPATH=$vpath
+         ncbi_fix_dir_tmp=`if cd $ZORBA_LIBPATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
+ case "$ncbi_fix_dir_tmp" in
+    /.*) ncbi_fix_dir_tmp2=`cd $ZORBA_LIBPATH && $smart_pwd 2>/dev/null`
+         if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
+            ZORBA_LIBPATH=$ncbi_fix_dir_tmp2
 else
-  echo "$as_me:$LINENO: result: no" >&5
-echo "${ECHO_T}no" >&6
+            case "$ZORBA_LIBPATH" in
+               /*) ;;
+               * ) ZORBA_LIBPATH=$ncbi_fix_dir_tmp ;;
+            esac
 fi
-
-
-: ${LIBEXSLT_PATH=$LIBXSLT_PATH}
-if test "$with_libexslt" != "no"; then
-    case "$with_libexslt" in
-       yes | "" ) ;;
-       *        ) LIBEXSLT_PATH=$with_libexslt ;;
+         ;;
+    /*) ZORBA_LIBPATH=$ncbi_fix_dir_tmp ;;
     esac
-    if test -d "$LIBEXSLT_PATH"; then
-       in_path=" in $LIBEXSLT_PATH"
-       if test -z "$LIBEXSLT_INCLUDE" -a -d "$LIBEXSLT_PATH/include"; then
-          LIBEXSLT_INCLUDE="-I$LIBEXSLT_PATH/include"
        fi
-       if test -n "$LIBEXSLT_LIBPATH"; then
-          :
-       elif test -d "$LIBEXSLT_PATH/lib${bit64_sfx}"; then
-          ncbi_rp_L_flags=
- ncbi_rp_L_sep=$CONF_f_libpath
- if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $LIBEXSLT_PATH/lib${bit64_sfx}; do
-       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
-       ncbi_rp_L_sep=" $CONF_f_libpath"
-    done
-    LIBEXSLT_LIBPATH="${ncbi_rp_L_flags}"
+   fi
+   ZORBA_CONFIG="$ZORBA_PATH/bin/zorba-config"
+   if test -x "$ZORBA_CONFIG"; then
+      ZORBA_PATH=`$ZORBA_CONFIG --prefix`
+      : ${ZORBA_INCLUDE=`$ZORBA_CONFIG --cppflags`}
+   fi
+   if test -d "$ZORBA_PATH"; then
+      in_path=" in $ZORBA_PATH"
+      : ${ZORBA_INCLUDE=-I$ZORBA_PATH/include}
+      : ${ZORBA_LIBPATH=$ZORBA_PATH/lib}
  else
-    ncbi_rp_R_flags=
-    ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $LIBEXSLT_PATH/lib${bit64_sfx}; do
-       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
-       ncbi_rp_L_sep=" $CONF_f_libpath"
-       x=`echo $x | sed -e "$ncbi_rpath_sed"`
-       ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
-       ncbi_rp_R_sep=:
-    done
-    LIBEXSLT_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+      in_path=''
  fi
-       elif test -d "$LIBEXSLT_PATH/lib"; then
+   if test -x "$ZORBA_CONFIG"; then
+      ZORBA_LIBS=`$ZORBA_CONFIG --libs`
+   else
           ncbi_rp_L_flags=
  ncbi_rp_L_sep=$CONF_f_libpath
  if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $LIBEXSLT_PATH/lib; do
+    for x in $ZORBA_LIBPATH; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
     done
-    LIBEXSLT_LIBPATH="${ncbi_rp_L_flags}"
+    ZORBA_LIBPATH_="${ncbi_rp_L_flags}"
  else
     ncbi_rp_R_flags=
     ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $LIBEXSLT_PATH/lib; do
+    for x in $ZORBA_LIBPATH; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
        x=`echo $x | sed -e "$ncbi_rpath_sed"`
        ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
        ncbi_rp_R_sep=:
     done
-    LIBEXSLT_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
- fi
+    ZORBA_LIBPATH_="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
        fi
-       LIBEXSLT_LIBS="$LIBEXSLT_LIBPATH -lexslt "
-    else
-       LIBEXSLT_INCLUDE=""
-       LIBEXSLT_LIBS="-lexslt "
-       in_path=
+      ZORBA_LIBS="$ZORBA_LIBPATH_ -lzorba_simplestore"
     fi
-    echo "$as_me:$LINENO: checking for libexslt$in_path" >&5
-echo $ECHO_N "checking for libexslt$in_path... $ECHO_C" >&6
-if test "${ncbi_cv_lib_libexslt+set}" = set; then
+   { echo "$as_me:$LINENO: checking for Zorba$in_path" >&5
+echo $ECHO_N "checking for Zorba$in_path... $ECHO_C" >&6; }
+if test "${ncbi_cv_lib_zorba+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  CPPFLAGS="$LIBXSLT_INCLUDE $LIBEXSLT_INCLUDE $orig_CPPFLAGS"
-       LIBS="$LIBEXSLT_LIBS $LIBXSLT_LIBS $LIBXML_LIBS $Z_LIBS $orig_LIBS"
+  CPPFLAGS="$ZORBA_INCLUDE $orig_CPPFLAGS"
+       LIBS="$ZORBA_LIBS $orig_LIBS"
        cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-#include <libexslt/exslt.h>
+#include <zorba/zorba.h>
 int
 main ()
 {
-exsltRegisterAll()
+zorba::Version v = zorba::Zorba::version();
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ncbi_cv_lib_libexslt=yes
+  ncbi_cv_lib_zorba=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-ncbi_cv_lib_libexslt=no
+	ncbi_cv_lib_zorba=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_libexslt" >&5
-echo "${ECHO_T}$ncbi_cv_lib_libexslt" >&6
-    if test "$ncbi_cv_lib_libexslt" = "no"; then
-       if test "${with_libexslt:=no}" != no; then
-       { { echo "$as_me:$LINENO: error: --with-libexslt explicitly specified, but no usable version found." >&5
-echo "$as_me: error: --with-libexslt explicitly specified, but no usable version found." >&2;}
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_zorba" >&5
+echo "${ECHO_T}$ncbi_cv_lib_zorba" >&6; }
+   if test $ncbi_cv_lib_zorba = yes; then
+      if test -x "$ZORBA_CONFIG"; then
+         ZORBA_STATIC_LIBS=`$ZORBA_CONFIG --static-libs`
+      elif test -f "$ZORBA_LIBPATH/libzorba_simplestore-static.a"; then
+         ZORBA_STATIC_LIBS="-L$ZORBA_LIBPATH -lzorba_simplestore-static $XERCES_STATIC_LIBS $ICU_STATIC_LIBS $LIBXSLT_STATIC_LIBS $LIBXML_STATIC_LIBS"
+      else
+         ZORBA_STATIC_LIBS=$ZORBA_LIBS
+      fi
+   else
+      if test "${with_zorba:=no}" != no; then
+       { { echo "$as_me:$LINENO: error: --with-zorba explicitly specified, but no usable version found." >&5
+echo "$as_me: error: --with-zorba explicitly specified, but no usable version found." >&2;}
    { (exit 1); exit 1; }; }
     fi
     fi
  fi
- if test "$with_libexslt" = "no"; then
-    LIBEXSLT_PATH="No_LIBEXSLT"
-    LIBEXSLT_INCLUDE=
-    LIBEXSLT_LIBS=
- else
-              WithPackages="$WithPackages${WithPackagesSep}LIBEXSLT"; WithPackagesSep=" "
-    LIBEXSLT_INCLUDE="$LIBXSLT_INCLUDE $LIBEXSLT_INCLUDE"
+if test "$with_zorba" != no; then
+             WithPackages="$WithPackages${WithPackagesSep}Zorba"; WithPackagesSep=" "
 
 cat >>confdefs.h <<\_ACEOF
-#define HAVE_LIBEXSLT 1
+#define HAVE_ZORBA 1
 _ACEOF
 
- fi
-
-
-
-
-# XXX - they might be in different directories in some setups
-if test -f "${LIBXML_LIBPATH_}/libexslt-static.a"; then
-   LIBEXSLT_STATIC_LIBS="-L${LIBXML_LIBPATH_} -lexslt-static"
 else
-   LIBEXSLT_STATIC_LIBS=${LIBEXSLT_LIBS}
+   ZORBA_INCLUDE=
+   ZORBA_LIBS=
+   ZORBA_STATIC_LIBS=
 fi
 
-: ${XERCES_PATH=$NCBI/xerces}
-if test "$with_xerces" != no; then
-   if test "${with_xerces-yes}" != yes; then
-      XERCES_PATH=$with_xerces
-   fi
-   if test -d "$XERCES_PATH"; then
-      ncbi_fix_dir_tmp=`if cd $XERCES_PATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
- case "$ncbi_fix_dir_tmp" in
-    /.*) ncbi_fix_dir_tmp2=`cd $XERCES_PATH && $smart_pwd 2>/dev/null`
-         if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
-            XERCES_PATH=$ncbi_fix_dir_tmp2
-         else
-            case "$XERCES_PATH" in
-               /*) ;;
-               * ) XERCES_PATH=$ncbi_fix_dir_tmp ;;
-            esac
-         fi
-         ;;
-    /*) XERCES_PATH=$ncbi_fix_dir_tmp ;;
+### SQLite
+case "$with_sqlite3" in
+   yes | '' ) ;;
+   *        ) SQLITE3_PATH=$with_sqlite3 ;;
  esac
-   fi
-   vpath="$XERCES_PATH/${compiler_vpfx}${DEBUG_SFX}${bit64_sfx}${mt_sfx}"
-   if test -d "$vpath/lib"; then
-      XERCES_PATH=$vpath
-      ncbi_fix_dir_tmp=`if cd $XERCES_PATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
+
+if test -d "$SQLITE3_PATH"; then
+   ncbi_fix_dir_tmp=`if cd $SQLITE3_PATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
  case "$ncbi_fix_dir_tmp" in
-    /.*) ncbi_fix_dir_tmp2=`cd $XERCES_PATH && $smart_pwd 2>/dev/null`
+    /.*) ncbi_fix_dir_tmp2=`cd $SQLITE3_PATH && $smart_pwd 2>/dev/null`
          if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
-            XERCES_PATH=$ncbi_fix_dir_tmp2
+            SQLITE3_PATH=$ncbi_fix_dir_tmp2
          else
-            case "$XERCES_PATH" in
+            case "$SQLITE3_PATH" in
                /*) ;;
-               * ) XERCES_PATH=$ncbi_fix_dir_tmp ;;
+               * ) SQLITE3_PATH=$ncbi_fix_dir_tmp ;;
             esac
          fi
          ;;
-    /*) XERCES_PATH=$ncbi_fix_dir_tmp ;;
- esac
-   elif test -d "$vpath"; then
-      : ${XERCES_LIBPATH=$vpath}
-      ncbi_fix_dir_tmp=`if cd $XERCES_LIBPATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
- case "$ncbi_fix_dir_tmp" in
-    /.*) ncbi_fix_dir_tmp2=`cd $XERCES_LIBPATH && $smart_pwd 2>/dev/null`
-         if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
-            XERCES_LIBPATH=$ncbi_fix_dir_tmp2
-         else
-            case "$XERCES_LIBPATH" in
-               /*) ;;
-               * ) XERCES_LIBPATH=$ncbi_fix_dir_tmp ;;
+    /*) SQLITE3_PATH=$ncbi_fix_dir_tmp ;;
             esac
          fi
-         ;;
-    /*) XERCES_LIBPATH=$ncbi_fix_dir_tmp ;;
- esac
-   else
-      vpath="$XERCES_PATH/${compiler_pfx}${DEBUG_SFX}${bit64_sfx}${mt_sfx}"
-      if test -d "$vpath/lib"; then
-         XERCES_PATH=$vpath
-         ncbi_fix_dir_tmp=`if cd $XERCES_PATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
- case "$ncbi_fix_dir_tmp" in
-    /.*) ncbi_fix_dir_tmp2=`cd $XERCES_PATH && $smart_pwd 2>/dev/null`
-         if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
-            XERCES_PATH=$ncbi_fix_dir_tmp2
+if test -d "$SQLITE3_PATH/${compiler_pfx}${DEBUG_SFX}${MT_SFX}${bit64_sfx}/lib"; then
+   SQLITE3_LIBDIR=$SQLITE3_PATH/${compiler_pfx}${DEBUG_SFX}${MT_SFX}${bit64_sfx}/lib
+elif test -d $SQLITE3_PATH/lib${bit64_sfx}; then
+   SQLITE3_LIBDIR=$SQLITE3_PATH/lib${bit64_sfx}
          else
-            case "$XERCES_PATH" in
-               /*) ;;
-               * ) XERCES_PATH=$ncbi_fix_dir_tmp ;;
-            esac
+   SQLITE3_LIBDIR=$SQLITE3_PATH/lib
          fi
-         ;;
-    /*) XERCES_PATH=$ncbi_fix_dir_tmp ;;
- esac
-      elif test -d "$vpath"; then
-         XERCES_LIBPATH=$vpath
-         ncbi_fix_dir_tmp=`if cd $XERCES_LIBPATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
- case "$ncbi_fix_dir_tmp" in
-    /.*) ncbi_fix_dir_tmp2=`cd $XERCES_LIBPATH && $smart_pwd 2>/dev/null`
-         if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
-            XERCES_LIBPATH=$ncbi_fix_dir_tmp2
+ncbi_rp_L_flags=
+ ncbi_rp_L_sep=$CONF_f_libpath
+ if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
+    for x in $SQLITE3_LIBDIR; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+    done
+    SQLITE3_LIBPATH="${ncbi_rp_L_flags}"
          else
-            case "$XERCES_LIBPATH" in
-               /*) ;;
-               * ) XERCES_LIBPATH=$ncbi_fix_dir_tmp ;;
-            esac
+    ncbi_rp_R_flags=
+    ncbi_rp_R_sep=" $CONF_f_runpath"
+    for x in $SQLITE3_LIBDIR; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+       x=`echo $x | sed -e "$ncbi_rpath_sed"`
+       ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
+       ncbi_rp_R_sep=:
+    done
+    SQLITE3_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
          fi
-         ;;
-    /*) XERCES_LIBPATH=$ncbi_fix_dir_tmp ;;
+if test "$with_sqlite3" != "no"; then
+    case "$with_sqlite3" in
+       yes | "" ) ;;
+       *        ) SQLITE3_PATH=$with_sqlite3 ;;
  esac
+    if test -d "$SQLITE3_PATH"; then
+       in_path=" in $SQLITE3_PATH"
+       if test -z "$SQLITE3_INCLUDE" -a -d "$SQLITE3_PATH/include"; then
+          SQLITE3_INCLUDE="-I$SQLITE3_PATH/include"
       fi
-   fi
-   if test -d $XERCES_PATH; then
-      in_path=" in $XERCES_PATH"
-      : ${XERCES_INCLUDE=-I$XERCES_PATH/include}
-      : ${XERCES_LIBPATH=$XERCES_PATH/lib}
+       if test -n "$SQLITE3_LIBPATH"; then
+          :
+       elif test -d "$SQLITE3_PATH/lib${bit64_sfx}"; then
+          ncbi_rp_L_flags=
+ ncbi_rp_L_sep=$CONF_f_libpath
+ if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
+    for x in $SQLITE3_PATH/lib${bit64_sfx}; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+    done
+    SQLITE3_LIBPATH="${ncbi_rp_L_flags}"
    else
-      in_path=''
+    ncbi_rp_R_flags=
+    ncbi_rp_R_sep=" $CONF_f_runpath"
+    for x in $SQLITE3_PATH/lib${bit64_sfx}; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+       x=`echo $x | sed -e "$ncbi_rpath_sed"`
+       ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
+       ncbi_rp_R_sep=:
+    done
+    SQLITE3_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
    fi
+       elif test -d "$SQLITE3_PATH/lib"; then
    ncbi_rp_L_flags=
  ncbi_rp_L_sep=$CONF_f_libpath
  if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $XERCES_LIBPATH; do
+    for x in $SQLITE3_PATH/lib; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
     done
-    XERCES_LIBPATH_="${ncbi_rp_L_flags}"
+    SQLITE3_LIBPATH="${ncbi_rp_L_flags}"
  else
     ncbi_rp_R_flags=
     ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $XERCES_LIBPATH; do
+    for x in $SQLITE3_PATH/lib; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
        x=`echo $x | sed -e "$ncbi_rpath_sed"`
        ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
        ncbi_rp_R_sep=:
     done
-    XERCES_LIBPATH_="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+    SQLITE3_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
  fi
-   XERCES_LIBS="$XERCES_LIBPATH_ -lxerces-c"
-   echo "$as_me:$LINENO: checking for Xerces-C++$in_path" >&5
-echo $ECHO_N "checking for Xerces-C++$in_path... $ECHO_C" >&6
-if test "${ncbi_cv_lib_xerces_c+set}" = set; then
+       fi
+       SQLITE3_LIBS="$SQLITE3_LIBPATH -lsqlite3 "
+    else
+       SQLITE3_INCLUDE=""
+       SQLITE3_LIBS="-lsqlite3 "
+       in_path=
+    fi
+    { echo "$as_me:$LINENO: checking for libsqlite3$in_path" >&5
+echo $ECHO_N "checking for libsqlite3$in_path... $ECHO_C" >&6; }
+if test "${ncbi_cv_lib_sqlite3+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  CPPFLAGS="$XERCES_INCLUDE $orig_CPPFLAGS"
-       LIBS="$XERCES_LIBS $ICU_LIBS $orig_LIBS"
+  CPPFLAGS=" $SQLITE3_INCLUDE $orig_CPPFLAGS"
+       LIBS="$SQLITE3_LIBS  $orig_LIBS"
        cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-#include <xercesc/dom/DOM.hpp>
+#include <sqlite3.h>
 int
 main ()
 {
-xercesc::DOMImplementation* impl
-               = xercesc::DOMImplementationRegistry::getDOMImplementation
-                 (xercesc::XMLString::transcode("XML 1.0"));
+sqlite3_pcache_methods m;
+     int status = sqlite3_config(SQLITE_CONFIG_GETPCACHE, &m);
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ncbi_cv_lib_xerces_c=yes
+  ncbi_cv_lib_sqlite3=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-ncbi_cv_lib_xerces_c=no
+	ncbi_cv_lib_sqlite3=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_xerces_c" >&5
-echo "${ECHO_T}$ncbi_cv_lib_xerces_c" >&6
-   if test $ncbi_cv_lib_xerces_c = yes; then
-      if test -f "$XERCES_LIBPATH/libxerces-c-static.a"; then
-         XERCES_STATIC_LIBS="-L$XERCES_LIBPATH -lxerces-c-static $CURL_LIBS"
-      else
-         XERCES_STATIC_LIBS=$XERCES_LIBS
-      fi
-   else
-      if test "${with_xerces:=no}" != no; then
-       { { echo "$as_me:$LINENO: error: --with-xerces explicitly specified, but no usable version found." >&5
-echo "$as_me: error: --with-xerces explicitly specified, but no usable version found." >&2;}
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_sqlite3" >&5
+echo "${ECHO_T}$ncbi_cv_lib_sqlite3" >&6; }
+    if test "$ncbi_cv_lib_sqlite3" = "no"; then
+       if test "${with_sqlite3:=no}" != no; then
+       { { echo "$as_me:$LINENO: error: --with-sqlite3 explicitly specified, but no usable version found." >&5
+echo "$as_me: error: --with-sqlite3 explicitly specified, but no usable version found." >&2;}
    { (exit 1); exit 1; }; }
     fi
    fi
 fi
-if test "$with_xerces" != no; then
-             WithPackages="$WithPackages${WithPackagesSep}Xerces"; WithPackagesSep=" "
+ if test "$with_sqlite3" = "no"; then
+    SQLITE3_PATH="No_SQLITE3"
+    SQLITE3_INCLUDE=
+    SQLITE3_LIBS=
+ else
+              WithPackages="$WithPackages${WithPackagesSep}SQLITE3"; WithPackagesSep=" "
+    SQLITE3_INCLUDE=" $SQLITE3_INCLUDE"
 
 cat >>confdefs.h <<\_ACEOF
-#define HAVE_XERCES 1
+#define HAVE_LIBSQLITE3 1
 _ACEOF
 
-else
-   XERCES_INCLUDE=
-   XERCES_LIBS=
-   XERCES_STATIC_LIBS=
 fi
 
-: ${XALAN_PATH=$NCBI/xalan}
-if test "$with_xalan" != no; then
-   if test "${with_xalan-yes}" != yes; then
-      XALAN_PATH=$with_xalan
+
+
+if test -n "$SQLITE3_LIBS"; then
+   CPPFLAGS="$SQLITE3_INCLUDE $orig_CPPFLAGS"
+   if test "${ac_cv_header_sqlite3async_h+set}" = set; then
+  { echo "$as_me:$LINENO: checking for sqlite3async.h" >&5
+echo $ECHO_N "checking for sqlite3async.h... $ECHO_C" >&6; }
+if test "${ac_cv_header_sqlite3async_h+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
    fi
-   if test -d "$XALAN_PATH"; then
-      ncbi_fix_dir_tmp=`if cd $XALAN_PATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
- case "$ncbi_fix_dir_tmp" in
-    /.*) ncbi_fix_dir_tmp2=`cd $XALAN_PATH && $smart_pwd 2>/dev/null`
-         if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
-            XALAN_PATH=$ncbi_fix_dir_tmp2
+{ echo "$as_me:$LINENO: result: $ac_cv_header_sqlite3async_h" >&5
+echo "${ECHO_T}$ac_cv_header_sqlite3async_h" >&6; }
          else
-            case "$XALAN_PATH" in
-               /*) ;;
-               * ) XALAN_PATH=$ncbi_fix_dir_tmp ;;
-            esac
-         fi
-         ;;
-    /*) XALAN_PATH=$ncbi_fix_dir_tmp ;;
+  # Is the header compilable?
+{ echo "$as_me:$LINENO: checking sqlite3async.h usability" >&5
+echo $ECHO_N "checking sqlite3async.h usability... $ECHO_C" >&6; }
+cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+$ac_includes_default
+#include <sqlite3async.h>
+_ACEOF
+rm -f conftest.$ac_objext
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
  esac
-   fi
-   vpath="$XALAN_PATH/${compiler_vpfx}${DEBUG_SFX}${bit64_sfx}${mt_sfx}"
-   if test -d "$vpath/lib"; then
-      XALAN_PATH=$vpath
-      ncbi_fix_dir_tmp=`if cd $XALAN_PATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
- case "$ncbi_fix_dir_tmp" in
-    /.*) ncbi_fix_dir_tmp2=`cd $XALAN_PATH && $smart_pwd 2>/dev/null`
-         if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
-            XALAN_PATH=$ncbi_fix_dir_tmp2
-         else
-            case "$XALAN_PATH" in
-               /*) ;;
-               * ) XALAN_PATH=$ncbi_fix_dir_tmp ;;
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } &&
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
             esac
-         fi
-         ;;
-    /*) XALAN_PATH=$ncbi_fix_dir_tmp ;;
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest.$ac_objext'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
  esac
-   elif test -d "$vpath"; then
-      : ${XALAN_LIBPATH=$vpath}
-      ncbi_fix_dir_tmp=`if cd $XALAN_LIBPATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
- case "$ncbi_fix_dir_tmp" in
-    /.*) ncbi_fix_dir_tmp2=`cd $XALAN_LIBPATH && $smart_pwd 2>/dev/null`
-         if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
-            XALAN_LIBPATH=$ncbi_fix_dir_tmp2
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; }; then
+  ac_header_compiler=yes
          else
-            case "$XALAN_LIBPATH" in
-               /*) ;;
-               * ) XALAN_LIBPATH=$ncbi_fix_dir_tmp ;;
-            esac
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+	ac_header_compiler=no
          fi
-         ;;
-    /*) XALAN_LIBPATH=$ncbi_fix_dir_tmp ;;
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+{ echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
+echo "${ECHO_T}$ac_header_compiler" >&6; }
+
+# Is the header present?
+{ echo "$as_me:$LINENO: checking sqlite3async.h presence" >&5
+echo $ECHO_N "checking sqlite3async.h presence... $ECHO_C" >&6; }
+cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+#include <sqlite3async.h>
+_ACEOF
+if { (ac_try="$ac_cpp conftest.$ac_ext"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
  esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } >/dev/null; then
+  if test -s conftest.err; then
+    ac_cpp_err=$ac_cxx_preproc_warn_flag
+    ac_cpp_err=$ac_cpp_err$ac_cxx_werror_flag
    else
-      vpath="$XALAN_PATH/${compiler_pfx}${DEBUG_SFX}${bit64_sfx}${mt_sfx}"
-      if test -d "$vpath/lib"; then
-         XALAN_PATH=$vpath
-         ncbi_fix_dir_tmp=`if cd $XALAN_PATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
- case "$ncbi_fix_dir_tmp" in
-    /.*) ncbi_fix_dir_tmp2=`cd $XALAN_PATH && $smart_pwd 2>/dev/null`
-         if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
-            XALAN_PATH=$ncbi_fix_dir_tmp2
-         else
-            case "$XALAN_PATH" in
-               /*) ;;
-               * ) XALAN_PATH=$ncbi_fix_dir_tmp ;;
-            esac
+    ac_cpp_err=
          fi
-         ;;
-    /*) XALAN_PATH=$ncbi_fix_dir_tmp ;;
- esac
-      elif test -d "$vpath"; then
-         XALAN_LIBPATH=$vpath
-         ncbi_fix_dir_tmp=`if cd $XALAN_LIBPATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
- case "$ncbi_fix_dir_tmp" in
-    /.*) ncbi_fix_dir_tmp2=`cd $XALAN_LIBPATH && $smart_pwd 2>/dev/null`
-         if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
-            XALAN_LIBPATH=$ncbi_fix_dir_tmp2
          else
-            case "$XALAN_LIBPATH" in
-               /*) ;;
-               * ) XALAN_LIBPATH=$ncbi_fix_dir_tmp ;;
-            esac
-         fi
-         ;;
-    /*) XALAN_LIBPATH=$ncbi_fix_dir_tmp ;;
- esac
-      fi
+  ac_cpp_err=yes
    fi
-   if test -d $XALAN_PATH; then
-      in_path=" in $XALAN_PATH"
-      : ${XALAN_INCLUDE=-I$XALAN_PATH/include}
-      : ${XALAN_LIBPATH=$XALAN_PATH/lib}
+if test -z "$ac_cpp_err"; then
+  ac_header_preproc=yes
    else
-      in_path=''
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+  ac_header_preproc=no
    fi
-   ncbi_rp_L_flags=
- ncbi_rp_L_sep=$CONF_f_libpath
- if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $XALAN_LIBPATH; do
-       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
-       ncbi_rp_L_sep=" $CONF_f_libpath"
-    done
-    XALAN_LIBPATH_="${ncbi_rp_L_flags}"
- else
-    ncbi_rp_R_flags=
-    ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $XALAN_LIBPATH; do
-       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
-       ncbi_rp_L_sep=" $CONF_f_libpath"
-       x=`echo $x | sed -e "$ncbi_rpath_sed"`
-       ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
-       ncbi_rp_R_sep=:
-    done
-    XALAN_LIBPATH_="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+
+rm -f conftest.err conftest.$ac_ext
+{ echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
+echo "${ECHO_T}$ac_header_preproc" >&6; }
+
+# So?  What about this header?
+case $ac_header_compiler:$ac_header_preproc:$ac_cxx_preproc_warn_flag in
+  yes:no: )
+    { echo "$as_me:$LINENO: WARNING: sqlite3async.h: accepted by the compiler, rejected by the preprocessor!" >&5
+echo "$as_me: WARNING: sqlite3async.h: accepted by the compiler, rejected by the preprocessor!" >&2;}
+    { echo "$as_me:$LINENO: WARNING: sqlite3async.h: proceeding with the compiler's result" >&5
+echo "$as_me: WARNING: sqlite3async.h: proceeding with the compiler's result" >&2;}
+    ac_header_preproc=yes
+    ;;
+  no:yes:* )
+    { echo "$as_me:$LINENO: WARNING: sqlite3async.h: present but cannot be compiled" >&5
+echo "$as_me: WARNING: sqlite3async.h: present but cannot be compiled" >&2;}
+    { echo "$as_me:$LINENO: WARNING: sqlite3async.h:     check for missing prerequisite headers?" >&5
+echo "$as_me: WARNING: sqlite3async.h:     check for missing prerequisite headers?" >&2;}
+    { echo "$as_me:$LINENO: WARNING: sqlite3async.h: see the Autoconf documentation" >&5
+echo "$as_me: WARNING: sqlite3async.h: see the Autoconf documentation" >&2;}
+    { echo "$as_me:$LINENO: WARNING: sqlite3async.h:     section \"Present But Cannot Be Compiled\"" >&5
+echo "$as_me: WARNING: sqlite3async.h:     section \"Present But Cannot Be Compiled\"" >&2;}
+    { echo "$as_me:$LINENO: WARNING: sqlite3async.h: proceeding with the preprocessor's result" >&5
+echo "$as_me: WARNING: sqlite3async.h: proceeding with the preprocessor's result" >&2;}
+    { echo "$as_me:$LINENO: WARNING: sqlite3async.h: in the future, the compiler will take precedence" >&5
+echo "$as_me: WARNING: sqlite3async.h: in the future, the compiler will take precedence" >&2;}
+    ( cat <<\_ASBOX
+## ---------------------------------------- ##
+## Report this to cpp-core@ncbi.nlm.nih.gov ##
+## ---------------------------------------- ##
+_ASBOX
+     ) | sed "s/^/$as_me: WARNING:     /" >&2
+    ;;
+esac
+{ echo "$as_me:$LINENO: checking for sqlite3async.h" >&5
+echo $ECHO_N "checking for sqlite3async.h... $ECHO_C" >&6; }
+if test "${ac_cv_header_sqlite3async_h+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  ac_cv_header_sqlite3async_h=$ac_header_preproc
  fi
-   XALAN_LIBS="$XALAN_LIBPATH_ -lxalan-c -lxalanMsg"
-   echo "$as_me:$LINENO: checking for Xalan-C++$in_path" >&5
-echo $ECHO_N "checking for Xalan-C++$in_path... $ECHO_C" >&6
-if test "${ncbi_cv_lib_xalan_c+set}" = set; then
+{ echo "$as_me:$LINENO: result: $ac_cv_header_sqlite3async_h" >&5
+echo "${ECHO_T}$ac_cv_header_sqlite3async_h" >&6; }
+
+fi
+if test $ac_cv_header_sqlite3async_h = yes; then
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_SQLITE3ASYNC_H 1
+_ACEOF
+
+                 WithPackages="$WithPackages${WithPackagesSep}SQLITE3ASYNC"; WithPackagesSep=" "
+fi
+
+
+   LIBS="$SQLITE3_LIBS $orig_LIBS"
+
+for ac_func in sqlite3_unlock_notify
+do
+as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
+{ echo "$as_me:$LINENO: checking for $ac_func" >&5
+echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6; }
+if { as_var=$as_ac_var; eval "test \"\${$as_var+set}\" = set"; }; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  CPPFLAGS="$XALAN_INCLUDE $XERCES_INCLUDE $orig_CPPFLAGS"
-       LIBS="$XALAN_LIBS $XERCES_LIBS $ICU_LIBS $orig_LIBS"
        cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-#include <xalanc/XalanTransformer/XalanTransformer.hpp>
+/* Define $ac_func to an innocuous variant, in case <limits.h> declares $ac_func.
+   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
+#define $ac_func innocuous_$ac_func
+
+/* System header to define __stub macros and hopefully few prototypes,
+    which can conflict with char $ac_func (); below.
+    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
+    <limits.h> exists even on freestanding compilers.  */
+
+#ifdef __STDC__
+# include <limits.h>
+#else
+# include <assert.h>
+#endif
+
+#undef $ac_func
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char $ac_func ();
+/* The GNU C library defines this for functions which it implements
+    to always fail with ENOSYS.  Some functions are actually named
+    something starting with __ and the normal name is an alias.  */
+#if defined __stub_$ac_func || defined __stub___$ac_func
+choke me
+#endif
+
 int
 main ()
 {
-xalanc::XalanTransformer::initialize();
+return $ac_func ();
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ncbi_cv_lib_xalan_c=yes
+  eval "$as_ac_var=yes"
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-ncbi_cv_lib_xalan_c=no
+	eval "$as_ac_var=no"
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_xalan_c" >&5
-echo "${ECHO_T}$ncbi_cv_lib_xalan_c" >&6
-   if test $ncbi_cv_lib_xalan_c = yes; then
-      if test -f "$XALAN_LIBPATH/libxalan-c-static.a"; then
-         XALAN_STATIC_LIBS="-L$XALAN_LIBPATH -lxalan-c-static -lxalanMsg-static"
-      else
-         XALAN_STATIC_LIBS=$XALAN_LIBS
-      fi
-   else
-      if test "${with_xalan:=no}" != no; then
-       { { echo "$as_me:$LINENO: error: --with-xalan explicitly specified, but no usable version found." >&5
-echo "$as_me: error: --with-xalan explicitly specified, but no usable version found." >&2;}
-   { (exit 1); exit 1; }; }
-    fi
-   fi
-fi
-if test "$with_xalan" != no; then
-             WithPackages="$WithPackages${WithPackagesSep}Xalan"; WithPackagesSep=" "
-
-cat >>confdefs.h <<\_ACEOF
-#define HAVE_XALAN 1
+ac_res=`eval echo '${'$as_ac_var'}'`
+	       { echo "$as_me:$LINENO: result: $ac_res" >&5
+echo "${ECHO_T}$ac_res" >&6; }
+if test `eval echo '${'$as_ac_var'}'` = yes; then
+  cat >>confdefs.h <<_ACEOF
+#define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
 _ACEOF
 
-else
-   XALAN_INCLUDE=
-   XALAN_LIBS=
-   XALAN_STATIC_LIBS=
 fi
+done
 
-test -d SunWS_cache  &&  rm -r SunWS_cache
-
-: ${ZORBA_PATH=$NCBI/zorba}
-if test "$with_zorba" != no; then
-   if test "${with_zorba-yes}" != yes; then
-      ZORBA_PATH=$with_zorba
-   fi
-   if test -d "$ZORBA_PATH"; then
-      ncbi_fix_dir_tmp=`if cd $ZORBA_PATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
- case "$ncbi_fix_dir_tmp" in
-    /.*) ncbi_fix_dir_tmp2=`cd $ZORBA_PATH && $smart_pwd 2>/dev/null`
-         if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
-            ZORBA_PATH=$ncbi_fix_dir_tmp2
-         else
-            case "$ZORBA_PATH" in
-               /*) ;;
-               * ) ZORBA_PATH=$ncbi_fix_dir_tmp ;;
-            esac
-         fi
-         ;;
-    /*) ZORBA_PATH=$ncbi_fix_dir_tmp ;;
- esac
-   fi
-   vpath="$ZORBA_PATH/${compiler_vpfx}${DEBUG_SFX}${mt_sfx}${bit64_sfx}"
-   if test -d "$vpath/lib"; then
-      ZORBA_PATH=$vpath
-      ncbi_fix_dir_tmp=`if cd $ZORBA_PATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
- case "$ncbi_fix_dir_tmp" in
-    /.*) ncbi_fix_dir_tmp2=`cd $ZORBA_PATH && $smart_pwd 2>/dev/null`
-         if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
-            ZORBA_PATH=$ncbi_fix_dir_tmp2
-         else
-            case "$ZORBA_PATH" in
-               /*) ;;
-               * ) ZORBA_PATH=$ncbi_fix_dir_tmp ;;
-            esac
-         fi
-         ;;
-    /*) ZORBA_PATH=$ncbi_fix_dir_tmp ;;
- esac
-   elif test -d "$vpath"; then
-      : ${ZORBA_LIBPATH=$vpath}
-      ncbi_fix_dir_tmp=`if cd $ZORBA_LIBPATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
- case "$ncbi_fix_dir_tmp" in
-    /.*) ncbi_fix_dir_tmp2=`cd $ZORBA_LIBPATH && $smart_pwd 2>/dev/null`
-         if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
-            ZORBA_LIBPATH=$ncbi_fix_dir_tmp2
-         else
-            case "$ZORBA_LIBPATH" in
-               /*) ;;
-               * ) ZORBA_LIBPATH=$ncbi_fix_dir_tmp ;;
-            esac
-         fi
-         ;;
-    /*) ZORBA_LIBPATH=$ncbi_fix_dir_tmp ;;
- esac
-   else
-      vpath="$ZORBA_PATH/${compiler_pfx}${DEBUG_SFX}${mt_sfx}${bit64_sfx}"
-      if test -d "$vpath/lib"; then
-         ZORBA_PATH=$vpath
-         ncbi_fix_dir_tmp=`if cd $ZORBA_PATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
- case "$ncbi_fix_dir_tmp" in
-    /.*) ncbi_fix_dir_tmp2=`cd $ZORBA_PATH && $smart_pwd 2>/dev/null`
-         if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
-            ZORBA_PATH=$ncbi_fix_dir_tmp2
-         else
-            case "$ZORBA_PATH" in
-               /*) ;;
-               * ) ZORBA_PATH=$ncbi_fix_dir_tmp ;;
-            esac
          fi
-         ;;
-    /*) ZORBA_PATH=$ncbi_fix_dir_tmp ;;
- esac
-      elif test -d "$vpath"; then
-         ZORBA_LIBPATH=$vpath
-         ncbi_fix_dir_tmp=`if cd $ZORBA_LIBPATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
- case "$ncbi_fix_dir_tmp" in
-    /.*) ncbi_fix_dir_tmp2=`cd $ZORBA_LIBPATH && $smart_pwd 2>/dev/null`
-         if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
-            ZORBA_LIBPATH=$ncbi_fix_dir_tmp2
+if test -n "$SQLITE3_LIBS" -a -f "$SQLITE3_LIBDIR/libsqlite3-static.a"; then
+   SQLITE3_STATIC_LIBS="-L$SQLITE3_LIBDIR -lsqlite3-static"
          else
-            case "$ZORBA_LIBPATH" in
-               /*) ;;
-               * ) ZORBA_LIBPATH=$ncbi_fix_dir_tmp ;;
-            esac
+   SQLITE3_STATIC_LIBS=$SQLITE3_LIBS
          fi
-         ;;
-    /*) ZORBA_LIBPATH=$ncbi_fix_dir_tmp ;;
+
+
+### OEChem
+# somewhat kludgish, as we now wanto to add in oeiupac and oedepict,
+# which depend on oechem....
+if test "$with_oechem" != "no"; then
+    case "$with_oechem" in
+       yes | "" ) ;;
+       *        ) OECHEM_PATH=$with_oechem ;;
  esac
+    if test -d "$OECHEM_PATH"; then
+       in_path=" in $OECHEM_PATH"
+       if test -z "$OECHEM_INCLUDE" -a -d "$OECHEM_PATH/include"; then
+          OECHEM_INCLUDE="-I$OECHEM_PATH/include"
       fi
-   fi
-   ZORBA_CONFIG="$ZORBA_PATH/bin/zorba-config"
-   if test -x "$ZORBA_CONFIG"; then
-      ZORBA_PATH=`$ZORBA_CONFIG --prefix`
-      : ${ZORBA_INCLUDE=`$ZORBA_CONFIG --cppflags`}
-   fi
-   if test -d $ZORBA_PATH; then
-      in_path=" in $ZORBA_PATH"
-      : ${ZORBA_INCLUDE=-I$ZORBA_PATH/include}
-      : ${ZORBA_LIBPATH=$ZORBA_PATH/lib}
+       if test -n "$OECHEM_LIBPATH"; then
+          :
+       elif test -d "$OECHEM_PATH/lib${bit64_sfx}"; then
+          ncbi_rp_L_flags=
+ ncbi_rp_L_sep=$CONF_f_libpath
+ if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
+    for x in $OECHEM_PATH/lib${bit64_sfx}; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+    done
+    OECHEM_LIBPATH="${ncbi_rp_L_flags}"
    else
-      in_path=''
+    ncbi_rp_R_flags=
+    ncbi_rp_R_sep=" $CONF_f_runpath"
+    for x in $OECHEM_PATH/lib${bit64_sfx}; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+       x=`echo $x | sed -e "$ncbi_rpath_sed"`
+       ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
+       ncbi_rp_R_sep=:
+    done
+    OECHEM_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
    fi
-   if test -x "$ZORBA_CONFIG"; then
-      ZORBA_LIBS=`$ZORBA_CONFIG --libs`
-   else
+       elif test -d "$OECHEM_PATH/lib"; then
       ncbi_rp_L_flags=
  ncbi_rp_L_sep=$CONF_f_libpath
  if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $ZORBA_LIBPATH; do
+    for x in $OECHEM_PATH/lib; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
     done
-    ZORBA_LIBPATH_="${ncbi_rp_L_flags}"
+    OECHEM_LIBPATH="${ncbi_rp_L_flags}"
  else
     ncbi_rp_R_flags=
     ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $ZORBA_LIBPATH; do
+    for x in $OECHEM_PATH/lib; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
        x=`echo $x | sed -e "$ncbi_rpath_sed"`
        ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
        ncbi_rp_R_sep=:
     done
-    ZORBA_LIBPATH_="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+    OECHEM_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
  fi
-      ZORBA_LIBS="$ZORBA_LIBPATH_ -lzorba_simplestore"
    fi
-   echo "$as_me:$LINENO: checking for Zorba$in_path" >&5
-echo $ECHO_N "checking for Zorba$in_path... $ECHO_C" >&6
-if test "${ncbi_cv_lib_zorba+set}" = set; then
+       OECHEM_LIBS="$OECHEM_LIBPATH -loechem -loeiupac -loedepict -loechem -loesystem -loeplatform -lz"
+    else
+       OECHEM_INCLUDE=""
+       OECHEM_LIBS="-loechem -loeiupac -loedepict -loechem -loesystem -loeplatform -lz"
+       in_path=
+    fi
+    { echo "$as_me:$LINENO: checking for liboechem$in_path" >&5
+echo $ECHO_N "checking for liboechem$in_path... $ECHO_C" >&6; }
+if test "${ncbi_cv_lib_oechem+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  CPPFLAGS="$ZORBA_INCLUDE $orig_CPPFLAGS"
-       LIBS="$ZORBA_LIBS $orig_LIBS"
+  CPPFLAGS=" $OECHEM_INCLUDE $orig_CPPFLAGS"
+       LIBS="$OECHEM_LIBS $NETWORK_LIBS $orig_LIBS"
        cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-#include <zorba/zorba.h>
+#include <oechem.h>
 int
 main ()
 {
-zorba::Version v = zorba::Zorba::version();
+OEChem::OEMol mol; OEChem::OEConfBase* c = mol.GetActive();
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ncbi_cv_lib_zorba=yes
+  ncbi_cv_lib_oechem=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-ncbi_cv_lib_zorba=no
+	ncbi_cv_lib_oechem=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_zorba" >&5
-echo "${ECHO_T}$ncbi_cv_lib_zorba" >&6
-   if test $ncbi_cv_lib_zorba = yes; then
-      if test -x "$ZORBA_CONFIG"; then
-         ZORBA_STATIC_LIBS=`$ZORBA_CONFIG --static-libs`
-      elif test -f "$ZORBA_LIBPATH/libzorba_simplestore-static.a"; then
-         ZORBA_STATIC_LIBS="-L$ZORBA_LIBPATH -lzorba_simplestore-static $XERCES_STATIC_LIBS $ICU_STATIC_LIBS $LIBXSLT_STATIC_LIBS $LIBXML_STATIC_LIBS"
-      else
-         ZORBA_STATIC_LIBS=$ZORBA_LIBS
-      fi
-   else
-      if test "${with_zorba:=no}" != no; then
-       { { echo "$as_me:$LINENO: error: --with-zorba explicitly specified, but no usable version found." >&5
-echo "$as_me: error: --with-zorba explicitly specified, but no usable version found." >&2;}
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_oechem" >&5
+echo "${ECHO_T}$ncbi_cv_lib_oechem" >&6; }
+    if test "$ncbi_cv_lib_oechem" = "no"; then
+       if test "${with_oechem:=no}" != no; then
+       { { echo "$as_me:$LINENO: error: --with-oechem explicitly specified, but no usable version found." >&5
+echo "$as_me: error: --with-oechem explicitly specified, but no usable version found." >&2;}
    { (exit 1); exit 1; }; }
     fi
    fi
 fi
-if test "$with_zorba" != no; then
-             WithPackages="$WithPackages${WithPackagesSep}Zorba"; WithPackagesSep=" "
+ if test "$with_oechem" = "no"; then
+    OECHEM_PATH="No_OECHEM"
+    OECHEM_INCLUDE=
+    OECHEM_LIBS=
+ else
+              WithPackages="$WithPackages${WithPackagesSep}OECHEM"; WithPackagesSep=" "
+    OECHEM_INCLUDE=" $OECHEM_INCLUDE"
 
 cat >>confdefs.h <<\_ACEOF
-#define HAVE_ZORBA 1
+#define HAVE_LIBOECHEM 1
 _ACEOF
 
-else
-   ZORBA_INCLUDE=
-   ZORBA_LIBS=
-   ZORBA_STATIC_LIBS=
 fi
 
-### SQLite
-case "$with_sqlite3" in
-   yes | '' ) : ${SQLITE3_PATH=$NCBI/sqlite3} ;;
-   *        ) SQLITE3_PATH=$with_sqlite3 ;;
-esac
 
-if test -d "$SQLITE3_PATH"; then
-   ncbi_fix_dir_tmp=`if cd $SQLITE3_PATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
- case "$ncbi_fix_dir_tmp" in
-    /.*) ncbi_fix_dir_tmp2=`cd $SQLITE3_PATH && $smart_pwd 2>/dev/null`
-         if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
-            SQLITE3_PATH=$ncbi_fix_dir_tmp2
-         else
-            case "$SQLITE3_PATH" in
-               /*) ;;
-               * ) SQLITE3_PATH=$ncbi_fix_dir_tmp ;;
-            esac
+
+if test -n "$OECHEM_LIBS"; then
+   OECHEM_LIBS=`echo $OECHEM_LIBS | sed -e 's/-loechem \(.*-loechem .*\)/\1/'`
          fi
-         ;;
-    /*) SQLITE3_PATH=$ncbi_fix_dir_tmp ;;
+test -d SunWS_cache  &&  rm -r SunWS_cache
+
+
+### Sun/Univa Grid Engine
+case "$with_sge" in
+   yes | "" ) ;;
+   *        ) SGE_PATH=$with_sge ;;
  esac
+if test -d "$SGE_PATH" -a -z "$SGE_LIBPATH"; then
+   case "$host:$NCBI_PLATFORM_BITS" in
+      i?86-*-darwin*      ) SGE_PLATFORMS='darwin-x86'          ;;
+      i?86-*-linux*       ) SGE_PLATFORMS='lx24-x86 lx-x86'     ;;
+      i?86-*-solaris*:32  ) SGE_PLATFORMS='sol-x86'             ;;
+      i?86-*-solaris*:64  ) SGE_PLATFORMS='sol-amd64'           ;;
+      powerpc-*-darwin*   ) SGE_PLATFORMS='darwin-ppc'          ;;
+      sparc-*-solaris*:32 ) SGE_PLATFORMS='sol-sparc'           ;;
+      sparc-*-solaris*:64 ) SGE_PLATFORMS='sol-sparc64'         ;;
+      x86_64-*-linux*     ) SGE_PLATFORMS='lx24-amd64 lx-amd64' ;;
+   esac
+   for x in $SGE_PLATFORMS; do
+      if test -d "$SGE_PATH/lib/$x"; then
+         SGE_LIBPATH="$SGE_PATH/lib/$x"
+         break
 fi
-if test -d "$SQLITE3_PATH/${compiler_pfx}${DEBUG_SFX}${MT_SFX}${bit64_sfx}/lib"; then
-   SQLITE3_LIBDIR=$SQLITE3_PATH/${compiler_pfx}${DEBUG_SFX}${MT_SFX}${bit64_sfx}/lib
-elif test -d $SQLITE3_PATH/lib${bit64_sfx}; then
-   SQLITE3_LIBDIR=$SQLITE3_PATH/lib${bit64_sfx}
-else
-   SQLITE3_LIBDIR=$SQLITE3_PATH/lib
-fi
+   done
 ncbi_rp_L_flags=
  ncbi_rp_L_sep=$CONF_f_libpath
  if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $SQLITE3_LIBDIR; do
+    for x in $SGE_LIBPATH; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
     done
-    SQLITE3_LIBPATH="${ncbi_rp_L_flags}"
+    SGE_LIBPATH="${ncbi_rp_L_flags}"
  else
     ncbi_rp_R_flags=
     ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $SQLITE3_LIBDIR; do
+    for x in $SGE_LIBPATH; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
        x=`echo $x | sed -e "$ncbi_rpath_sed"`
        ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
        ncbi_rp_R_sep=:
     done
-    SQLITE3_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+    SGE_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
  fi
-if test "$with_sqlite3" != "no"; then
-    case "$with_sqlite3" in
+fi
+if test "$with_sge" != "no"; then
+    case "$with_sge" in
        yes | "" ) ;;
-       *        ) SQLITE3_PATH=$with_sqlite3 ;;
+       *        ) SGE_PATH=$with_sge ;;
     esac
-    if test -d "$SQLITE3_PATH"; then
-       in_path=" in $SQLITE3_PATH"
-       if test -z "$SQLITE3_INCLUDE" -a -d "$SQLITE3_PATH/include"; then
-          SQLITE3_INCLUDE="-I$SQLITE3_PATH/include"
+    if test -d "$SGE_PATH"; then
+       in_path=" in $SGE_PATH"
+       if test -z "$SGE_INCLUDE" -a -d "$SGE_PATH/include"; then
+          SGE_INCLUDE="-I$SGE_PATH/include"
        fi
-       if test -n "$SQLITE3_LIBPATH"; then
+       if test -n "$SGE_LIBPATH"; then
           :
-       elif test -d "$SQLITE3_PATH/lib${bit64_sfx}"; then
+       elif test -d "$SGE_PATH/lib${bit64_sfx}"; then
           ncbi_rp_L_flags=
  ncbi_rp_L_sep=$CONF_f_libpath
  if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $SQLITE3_PATH/lib${bit64_sfx}; do
+    for x in $SGE_PATH/lib${bit64_sfx}; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
     done
-    SQLITE3_LIBPATH="${ncbi_rp_L_flags}"
+    SGE_LIBPATH="${ncbi_rp_L_flags}"
  else
     ncbi_rp_R_flags=
     ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $SQLITE3_PATH/lib${bit64_sfx}; do
+    for x in $SGE_PATH/lib${bit64_sfx}; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
        x=`echo $x | sed -e "$ncbi_rpath_sed"`
        ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
        ncbi_rp_R_sep=:
     done
-    SQLITE3_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+    SGE_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
  fi
-       elif test -d "$SQLITE3_PATH/lib"; then
+       elif test -d "$SGE_PATH/lib"; then
           ncbi_rp_L_flags=
  ncbi_rp_L_sep=$CONF_f_libpath
  if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $SQLITE3_PATH/lib; do
+    for x in $SGE_PATH/lib; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
     done
-    SQLITE3_LIBPATH="${ncbi_rp_L_flags}"
+    SGE_LIBPATH="${ncbi_rp_L_flags}"
  else
     ncbi_rp_R_flags=
     ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $SQLITE3_PATH/lib; do
+    for x in $SGE_PATH/lib; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
        x=`echo $x | sed -e "$ncbi_rpath_sed"`
        ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
        ncbi_rp_R_sep=:
     done
-    SQLITE3_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+    SGE_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
  fi
        fi
-       SQLITE3_LIBS="$SQLITE3_LIBPATH -lsqlite3 "
+       SGE_LIBS="$SGE_LIBPATH -ldrmaa "
     else
-       SQLITE3_INCLUDE=""
-       SQLITE3_LIBS="-lsqlite3 "
+       SGE_INCLUDE=""
+       SGE_LIBS="-ldrmaa "
        in_path=
     fi
-    echo "$as_me:$LINENO: checking for libsqlite3$in_path" >&5
-echo $ECHO_N "checking for libsqlite3$in_path... $ECHO_C" >&6
-if test "${ncbi_cv_lib_sqlite3+set}" = set; then
+    { echo "$as_me:$LINENO: checking for libdrmaa$in_path" >&5
+echo $ECHO_N "checking for libdrmaa$in_path... $ECHO_C" >&6; }
+if test "${ncbi_cv_lib_sge+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  CPPFLAGS=" $SQLITE3_INCLUDE $orig_CPPFLAGS"
-       LIBS="$SQLITE3_LIBS  $orig_LIBS"
+  CPPFLAGS=" $SGE_INCLUDE $orig_CPPFLAGS"
+       LIBS="$SGE_LIBS  $orig_LIBS"
        cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-#include <sqlite3.h>
+#include <sys/types.h>
+                      #include <drmaa.h>
 int
 main ()
 {
-sqlite3_pcache_methods m;
-     int status = sqlite3_config(SQLITE_CONFIG_GETPCACHE, &m);
+char buf[1024]; drmaa_init("SGE", buf, sizeof(buf));
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
-  ac_status=$?
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); }; } &&
-	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
-  ac_status=$?
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); }; }; then
-  ncbi_cv_lib_sqlite3=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-ncbi_cv_lib_sqlite3=no
-fi
-rm -f conftest.err conftest.$ac_objext \
-      conftest$ac_exeext conftest.$ac_ext
-fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_sqlite3" >&5
-echo "${ECHO_T}$ncbi_cv_lib_sqlite3" >&6
-    if test "$ncbi_cv_lib_sqlite3" = "no"; then
-       if test "${with_sqlite3:=no}" != no; then
-       { { echo "$as_me:$LINENO: error: --with-sqlite3 explicitly specified, but no usable version found." >&5
-echo "$as_me: error: --with-sqlite3 explicitly specified, but no usable version found." >&2;}
-   { (exit 1); exit 1; }; }
-    fi
-    fi
- fi
- if test "$with_sqlite3" = "no"; then
-    SQLITE3_PATH="No_SQLITE3"
-    SQLITE3_INCLUDE=
-    SQLITE3_LIBS=
- else
-              WithPackages="$WithPackages${WithPackagesSep}SQLITE3"; WithPackagesSep=" "
-    SQLITE3_INCLUDE=" $SQLITE3_INCLUDE"
-
-cat >>confdefs.h <<\_ACEOF
-#define HAVE_LIBSQLITE3 1
-_ACEOF
-
- fi
-
-
-
-if test -n "$SQLITE3_LIBS"; then
-   CPPFLAGS="$SQLITE3_INCLUDE $orig_CPPFLAGS"
-   if test "${ac_cv_header_sqlite3async_h+set}" = set; then
-  echo "$as_me:$LINENO: checking for sqlite3async.h" >&5
-echo $ECHO_N "checking for sqlite3async.h... $ECHO_C" >&6
-if test "${ac_cv_header_sqlite3async_h+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-fi
-echo "$as_me:$LINENO: result: $ac_cv_header_sqlite3async_h" >&5
-echo "${ECHO_T}$ac_cv_header_sqlite3async_h" >&6
-else
-  # Is the header compilable?
-echo "$as_me:$LINENO: checking sqlite3async.h usability" >&5
-echo $ECHO_N "checking sqlite3async.h usability... $ECHO_C" >&6
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-$ac_includes_default
-#include <sqlite3async.h>
-_ACEOF
-rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
-  ac_status=$?
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); }; } &&
-	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
-  ac_status=$?
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); }; }; then
-  ac_header_compiler=yes
-else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-ac_header_compiler=no
-fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
-echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
-echo "${ECHO_T}$ac_header_compiler" >&6
-
-# Is the header present?
-echo "$as_me:$LINENO: checking sqlite3async.h presence" >&5
-echo $ECHO_N "checking sqlite3async.h presence... $ECHO_C" >&6
-cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <sqlite3async.h>
-_ACEOF
-if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
-  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
-  if test -s conftest.err; then
-    ac_cpp_err=$ac_cxx_preproc_warn_flag
-    ac_cpp_err=$ac_cpp_err$ac_cxx_werror_flag
-  else
-    ac_cpp_err=
-  fi
-else
-  ac_cpp_err=yes
-fi
-if test -z "$ac_cpp_err"; then
-  ac_header_preproc=yes
+  (exit $ac_status); }; } &&
+	 { ac_try='test -s conftest$ac_exeext'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; }; then
+  ncbi_cv_lib_sge=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-  ac_header_preproc=no
+	ncbi_cv_lib_sge=no
 fi
-rm -f conftest.err conftest.$ac_ext
-echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
-echo "${ECHO_T}$ac_header_preproc" >&6
 
-# So?  What about this header?
-case $ac_header_compiler:$ac_header_preproc:$ac_cxx_preproc_warn_flag in
-  yes:no: )
-    { echo "$as_me:$LINENO: WARNING: sqlite3async.h: accepted by the compiler, rejected by the preprocessor!" >&5
-echo "$as_me: WARNING: sqlite3async.h: accepted by the compiler, rejected by the preprocessor!" >&2;}
-    { echo "$as_me:$LINENO: WARNING: sqlite3async.h: proceeding with the compiler's result" >&5
-echo "$as_me: WARNING: sqlite3async.h: proceeding with the compiler's result" >&2;}
-    ac_header_preproc=yes
-    ;;
-  no:yes:* )
-    { echo "$as_me:$LINENO: WARNING: sqlite3async.h: present but cannot be compiled" >&5
-echo "$as_me: WARNING: sqlite3async.h: present but cannot be compiled" >&2;}
-    { echo "$as_me:$LINENO: WARNING: sqlite3async.h:     check for missing prerequisite headers?" >&5
-echo "$as_me: WARNING: sqlite3async.h:     check for missing prerequisite headers?" >&2;}
-    { echo "$as_me:$LINENO: WARNING: sqlite3async.h: see the Autoconf documentation" >&5
-echo "$as_me: WARNING: sqlite3async.h: see the Autoconf documentation" >&2;}
-    { echo "$as_me:$LINENO: WARNING: sqlite3async.h:     section \"Present But Cannot Be Compiled\"" >&5
-echo "$as_me: WARNING: sqlite3async.h:     section \"Present But Cannot Be Compiled\"" >&2;}
-    { echo "$as_me:$LINENO: WARNING: sqlite3async.h: proceeding with the preprocessor's result" >&5
-echo "$as_me: WARNING: sqlite3async.h: proceeding with the preprocessor's result" >&2;}
-    { echo "$as_me:$LINENO: WARNING: sqlite3async.h: in the future, the compiler will take precedence" >&5
-echo "$as_me: WARNING: sqlite3async.h: in the future, the compiler will take precedence" >&2;}
-    (
-      cat <<\_ASBOX
-## ---------------------------------------- ##
-## Report this to cpp-core@ncbi.nlm.nih.gov ##
-## ---------------------------------------- ##
-_ASBOX
-    ) |
-      sed "s/^/$as_me: WARNING:     /" >&2
-    ;;
-esac
-echo "$as_me:$LINENO: checking for sqlite3async.h" >&5
-echo $ECHO_N "checking for sqlite3async.h... $ECHO_C" >&6
-if test "${ac_cv_header_sqlite3async_h+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  ac_cv_header_sqlite3async_h=$ac_header_preproc
+rm -f core conftest.err conftest.$ac_objext \
+      conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ac_cv_header_sqlite3async_h" >&5
-echo "${ECHO_T}$ac_cv_header_sqlite3async_h" >&6
-
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_sge" >&5
+echo "${ECHO_T}$ncbi_cv_lib_sge" >&6; }
+    if test "$ncbi_cv_lib_sge" = "no"; then
+       if test "${with_sge:=no}" != no; then
+       { { echo "$as_me:$LINENO: error: --with-sge explicitly specified, but no usable version found." >&5
+echo "$as_me: error: --with-sge explicitly specified, but no usable version found." >&2;}
+   { (exit 1); exit 1; }; }
 fi
-if test $ac_cv_header_sqlite3async_h = yes; then
+    fi
+ fi
+ if test "$with_sge" = "no"; then
+    SGE_PATH="No_SGE"
+    SGE_INCLUDE=
+    SGE_LIBS=
+ else
+              WithPackages="$WithPackages${WithPackagesSep}SGE"; WithPackagesSep=" "
+    SGE_INCLUDE=" $SGE_INCLUDE"
 
 cat >>confdefs.h <<\_ACEOF
-#define HAVE_SQLITE3ASYNC_H 1
+#define HAVE_LIBSGE 1
 _ACEOF
 
-                 WithPackages="$WithPackages${WithPackagesSep}SQLITE3ASYNC"; WithPackagesSep=" "
 fi
 
 
-   LIBS="$SQLITE3_LIBS $orig_LIBS"
 
-for ac_func in sqlite3_unlock_notify
-do
-as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
-echo "$as_me:$LINENO: checking for $ac_func" >&5
-echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6
-if eval "test \"\${$as_ac_var+set}\" = set"; then
+
+
+### muParser
+case "$with_muparser" in
+   yes | '' ) ;;
+   *        ) MUPARSER_PATH=$with_muparser ;;
+esac
+
+if test -d "$MUPARSER_PATH"; then
+   ncbi_fix_dir_tmp=`if cd $MUPARSER_PATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
+ case "$ncbi_fix_dir_tmp" in
+    /.*) ncbi_fix_dir_tmp2=`cd $MUPARSER_PATH && $smart_pwd 2>/dev/null`
+         if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
+            MUPARSER_PATH=$ncbi_fix_dir_tmp2
+         else
+            case "$MUPARSER_PATH" in
+               /*) ;;
+               * ) MUPARSER_PATH=$ncbi_fix_dir_tmp ;;
+            esac
+         fi
+         ;;
+    /*) MUPARSER_PATH=$ncbi_fix_dir_tmp ;;
+ esac
+fi
+if test -d "$MUPARSER_PATH/${compiler_vpfx}${DEBUG_SFX}${bit64_sfx}/lib"; then
+   MUPARSER_LIBPATH=-L$MUPARSER_PATH/${compiler_vpfx}${DEBUG_SFX}${bit64_sfx}/lib
+elif test -d "$MUPARSER_PATH/${compiler_pfx}${DEBUG_SFX}${bit64_sfx}/lib"; then
+   MUPARSER_LIBPATH=-L$MUPARSER_PATH/${compiler_pfx}${DEBUG_SFX}${bit64_sfx}/lib
+fi
+
+if test "$with_muparser" != "no"; then
+    case "$with_muparser" in
+       yes | "" ) ;;
+       *        ) MUPARSER_PATH=$with_muparser ;;
+    esac
+    if test -d "$MUPARSER_PATH"; then
+       in_path=" in $MUPARSER_PATH"
+       if test -z "$MUPARSER_INCLUDE" -a -d "$MUPARSER_PATH/include"; then
+          MUPARSER_INCLUDE="-I$MUPARSER_PATH/include"
+       fi
+       if test -n "$MUPARSER_LIBPATH"; then
+          :
+       elif test -d "$MUPARSER_PATH/lib${bit64_sfx}"; then
+          ncbi_rp_L_flags=
+ ncbi_rp_L_sep=$CONF_f_libpath
+ if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
+    for x in $MUPARSER_PATH/lib${bit64_sfx}; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+    done
+    MUPARSER_LIBPATH="${ncbi_rp_L_flags}"
+ else
+    ncbi_rp_R_flags=
+    ncbi_rp_R_sep=" $CONF_f_runpath"
+    for x in $MUPARSER_PATH/lib${bit64_sfx}; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+       x=`echo $x | sed -e "$ncbi_rpath_sed"`
+       ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
+       ncbi_rp_R_sep=:
+    done
+    MUPARSER_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+ fi
+       elif test -d "$MUPARSER_PATH/lib"; then
+          ncbi_rp_L_flags=
+ ncbi_rp_L_sep=$CONF_f_libpath
+ if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
+    for x in $MUPARSER_PATH/lib; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+    done
+    MUPARSER_LIBPATH="${ncbi_rp_L_flags}"
+ else
+    ncbi_rp_R_flags=
+    ncbi_rp_R_sep=" $CONF_f_runpath"
+    for x in $MUPARSER_PATH/lib; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+       x=`echo $x | sed -e "$ncbi_rpath_sed"`
+       ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
+       ncbi_rp_R_sep=:
+    done
+    MUPARSER_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+ fi
+       fi
+       MUPARSER_LIBS="$MUPARSER_LIBPATH -lmuparser "
+    else
+       MUPARSER_INCLUDE=""
+       MUPARSER_LIBS="-lmuparser "
+       in_path=
+    fi
+    { echo "$as_me:$LINENO: checking for libmuparser$in_path" >&5
+echo $ECHO_N "checking for libmuparser$in_path... $ECHO_C" >&6; }
+if test "${ncbi_cv_lib_muparser+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
+  CPPFLAGS=" $MUPARSER_INCLUDE $orig_CPPFLAGS"
+       LIBS="$MUPARSER_LIBS  $orig_LIBS"
   cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-/* Define $ac_func to an innocuous variant, in case <limits.h> declares $ac_func.
-   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
-#define $ac_func innocuous_$ac_func
-
-/* System header to define __stub macros and hopefully few prototypes,
-    which can conflict with char $ac_func (); below.
-    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
-    <limits.h> exists even on freestanding compilers.  */
-
-#ifdef __STDC__
-# include <limits.h>
-#else
-# include <assert.h>
-#endif
-
-#undef $ac_func
-
-/* Override any gcc2 internal prototype to avoid an error.  */
-#ifdef __cplusplus
-extern "C"
-{
-#endif
-/* We use char because int might match the return type of a gcc2
-   builtin and then its argument prototype would still apply.  */
-char $ac_func ();
-/* The GNU C library defines this for functions which it implements
-    to always fail with ENOSYS.  Some functions are actually named
-    something starting with __ and the normal name is an alias.  */
-#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
-choke me
-#else
-char (*f) () = $ac_func;
-#endif
-#ifdef __cplusplus
-}
-#endif
-
+#include <muParser.h>
 int
 main ()
 {
-return f != $ac_func;
+mu::Parser parser;
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  eval "$as_ac_var=yes"
+  ncbi_cv_lib_muparser=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-eval "$as_ac_var=no"
+	ncbi_cv_lib_muparser=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_var'}'`" >&5
-echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
-if test `eval echo '${'$as_ac_var'}'` = yes; then
-  cat >>confdefs.h <<_ACEOF
-#define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_muparser" >&5
+echo "${ECHO_T}$ncbi_cv_lib_muparser" >&6; }
+    if test "$ncbi_cv_lib_muparser" = "no"; then
+       if test "${with_muparser:=no}" != no; then
+       { { echo "$as_me:$LINENO: error: --with-muparser explicitly specified, but no usable version found." >&5
+echo "$as_me: error: --with-muparser explicitly specified, but no usable version found." >&2;}
+   { (exit 1); exit 1; }; }
+    fi
+    fi
+ fi
+ if test "$with_muparser" = "no"; then
+    MUPARSER_PATH="No_MUPARSER"
+    MUPARSER_INCLUDE=
+    MUPARSER_LIBS=
+ else
+              WithPackages="$WithPackages${WithPackagesSep}MUPARSER"; WithPackagesSep=" "
+    MUPARSER_INCLUDE=" $MUPARSER_INCLUDE"
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_LIBMUPARSER 1
 _ACEOF
 
 fi
-done
 
+
+
+
+
+### hdf5
+case "$with_hdf5" in
+   yes | '' ) ;;
+   *        ) HDF5_PATH=$with_hdf5 ;;
+esac
+
+if test -d "$HDF5_PATH/${compiler_vpfx}${DEBUG_SFX}${bit64_sfx}"; then
+   HDF5_PATH=$HDF5_PATH/${compiler_vpfx}${DEBUG_SFX}${bit64_sfx}
+elif test -d "$HDF5_PATH/${compiler_pfx}${DEBUG_SFX}${bit64_sfx}"; then
+   HDF5_PATH=$HDF5_PATH/${compiler_pfx}${DEBUG_SFX}${bit64_sfx}
 fi
-if test -n "$SQLITE3_LIBS" -a -f "$SQLITE3_LIBDIR/libsqlite3-static.a"; then
-   SQLITE3_STATIC_LIBS="-L$SQLITE3_LIBDIR -lsqlite3-static"
+if test -d "$HDF5_PATH"; then
+   ncbi_fix_dir_tmp=`if cd $HDF5_PATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
+ case "$ncbi_fix_dir_tmp" in
+    /.*) ncbi_fix_dir_tmp2=`cd $HDF5_PATH && $smart_pwd 2>/dev/null`
+         if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
+            HDF5_PATH=$ncbi_fix_dir_tmp2
 else
-   SQLITE3_STATIC_LIBS=$SQLITE3_LIBS
+            case "$HDF5_PATH" in
+               /*) ;;
+               * ) HDF5_PATH=$ncbi_fix_dir_tmp ;;
+            esac
+         fi
+         ;;
+    /*) HDF5_PATH=$ncbi_fix_dir_tmp ;;
+ esac
 fi
 
-
-### OEChem
-# somewhat kludgish, as we now wanto to add in oeiupac and oedepict,
-# which depend on oechem....
-: ${OECHEM_PATH=$NCBI/oechem}
-if test "$with_oechem" != "no"; then
-    case "$with_oechem" in
+if test "$with_hdf5" != "no"; then
+    case "$with_hdf5" in
        yes | "" ) ;;
-       *        ) OECHEM_PATH=$with_oechem ;;
+       *        ) HDF5_PATH=$with_hdf5 ;;
     esac
-    if test -d "$OECHEM_PATH"; then
-       in_path=" in $OECHEM_PATH"
-       if test -z "$OECHEM_INCLUDE" -a -d "$OECHEM_PATH/include"; then
-          OECHEM_INCLUDE="-I$OECHEM_PATH/include"
+    if test -d "$HDF5_PATH"; then
+       in_path=" in $HDF5_PATH"
+       if test -z "$HDF5_INCLUDE" -a -d "$HDF5_PATH/include"; then
+          HDF5_INCLUDE="-I$HDF5_PATH/include"
        fi
-       if test -n "$OECHEM_LIBPATH"; then
+       if test -n "$HDF5_LIBPATH"; then
           :
-       elif test -d "$OECHEM_PATH/lib${bit64_sfx}"; then
+       elif test -d "$HDF5_PATH/lib${bit64_sfx}"; then
           ncbi_rp_L_flags=
  ncbi_rp_L_sep=$CONF_f_libpath
  if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $OECHEM_PATH/lib${bit64_sfx}; do
+    for x in $HDF5_PATH/lib${bit64_sfx}; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
     done
-    OECHEM_LIBPATH="${ncbi_rp_L_flags}"
+    HDF5_LIBPATH="${ncbi_rp_L_flags}"
  else
     ncbi_rp_R_flags=
     ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $OECHEM_PATH/lib${bit64_sfx}; do
+    for x in $HDF5_PATH/lib${bit64_sfx}; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
        x=`echo $x | sed -e "$ncbi_rpath_sed"`
        ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
        ncbi_rp_R_sep=:
     done
-    OECHEM_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+    HDF5_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
  fi
-       elif test -d "$OECHEM_PATH/lib"; then
+       elif test -d "$HDF5_PATH/lib"; then
           ncbi_rp_L_flags=
  ncbi_rp_L_sep=$CONF_f_libpath
  if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $OECHEM_PATH/lib; do
+    for x in $HDF5_PATH/lib; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
     done
-    OECHEM_LIBPATH="${ncbi_rp_L_flags}"
+    HDF5_LIBPATH="${ncbi_rp_L_flags}"
  else
     ncbi_rp_R_flags=
     ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $OECHEM_PATH/lib; do
+    for x in $HDF5_PATH/lib; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
        x=`echo $x | sed -e "$ncbi_rpath_sed"`
        ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
        ncbi_rp_R_sep=:
     done
-    OECHEM_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+    HDF5_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
  fi
        fi
-       OECHEM_LIBS="$OECHEM_LIBPATH -loechem -loeiupac -loedepict -loechem -loesystem -loeplatform -lz"
+       HDF5_LIBS="$HDF5_LIBPATH -lhdf5_cpp -lhdf5"
     else
-       OECHEM_INCLUDE=""
-       OECHEM_LIBS="-loechem -loeiupac -loedepict -loechem -loesystem -loeplatform -lz"
+       HDF5_INCLUDE=""
+       HDF5_LIBS="-lhdf5_cpp -lhdf5"
        in_path=
     fi
-    echo "$as_me:$LINENO: checking for liboechem$in_path" >&5
-echo $ECHO_N "checking for liboechem$in_path... $ECHO_C" >&6
-if test "${ncbi_cv_lib_oechem+set}" = set; then
+    { echo "$as_me:$LINENO: checking for libhdf5_cpp$in_path" >&5
+echo $ECHO_N "checking for libhdf5_cpp$in_path... $ECHO_C" >&6; }
+if test "${ncbi_cv_lib_hdf5+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  CPPFLAGS=" $OECHEM_INCLUDE $orig_CPPFLAGS"
-       LIBS="$OECHEM_LIBS $NETWORK_LIBS $orig_LIBS"
+  CPPFLAGS=" $HDF5_INCLUDE $orig_CPPFLAGS"
+       LIBS="$HDF5_LIBS  $orig_LIBS"
        cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-#include <oechem.h>
+#include <H5Cpp.h>
 int
 main ()
 {
-OEChem::OEMol mol; OEChem::OEConfBase* c = mol.GetActive();
+H5::H5Library::open();
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ncbi_cv_lib_oechem=yes
+  ncbi_cv_lib_hdf5=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-ncbi_cv_lib_oechem=no
+	ncbi_cv_lib_hdf5=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_oechem" >&5
-echo "${ECHO_T}$ncbi_cv_lib_oechem" >&6
-    if test "$ncbi_cv_lib_oechem" = "no"; then
-       if test "${with_oechem:=no}" != no; then
-       { { echo "$as_me:$LINENO: error: --with-oechem explicitly specified, but no usable version found." >&5
-echo "$as_me: error: --with-oechem explicitly specified, but no usable version found." >&2;}
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_hdf5" >&5
+echo "${ECHO_T}$ncbi_cv_lib_hdf5" >&6; }
+    if test "$ncbi_cv_lib_hdf5" = "no"; then
+       if test "${with_hdf5:=no}" != no; then
+       { { echo "$as_me:$LINENO: error: --with-hdf5 explicitly specified, but no usable version found." >&5
+echo "$as_me: error: --with-hdf5 explicitly specified, but no usable version found." >&2;}
    { (exit 1); exit 1; }; }
     fi
     fi
  fi
- if test "$with_oechem" = "no"; then
-    OECHEM_PATH="No_OECHEM"
-    OECHEM_INCLUDE=
-    OECHEM_LIBS=
+ if test "$with_hdf5" = "no"; then
+    HDF5_PATH="No_HDF5"
+    HDF5_INCLUDE=
+    HDF5_LIBS=
  else
-              WithPackages="$WithPackages${WithPackagesSep}OECHEM"; WithPackagesSep=" "
-    OECHEM_INCLUDE=" $OECHEM_INCLUDE"
+              WithPackages="$WithPackages${WithPackagesSep}HDF5"; WithPackagesSep=" "
+    HDF5_INCLUDE=" $HDF5_INCLUDE"
 
 cat >>confdefs.h <<\_ACEOF
-#define HAVE_LIBOECHEM 1
+#define HAVE_LIBHDF5 1
 _ACEOF
 
  fi
 
 
 
-if test -n "$OECHEM_LIBS"; then
-   OECHEM_LIBS=`echo $OECHEM_LIBS | sed -e 's/-loechem \(.*-loechem .*\)/\1/'`
-fi
-test -d SunWS_cache  &&  rm -r SunWS_cache
 
 
-### Sun/Univa Grid Engine
-case "$with_sge" in
-   yes | "" ) ;;
-   *        ) SGE_PATH=$with_sge ;;
-esac
-if test -d "$SGE_PATH" -a -z "$SGE_LIBPATH"; then
-   case "$host:$NCBI_PLATFORM_BITS" in
-      i?86-*-darwin*      ) SGE_PLATFORMS='darwin-x86'          ;;
-      i?86-*-linux*       ) SGE_PLATFORMS='lx24-x86 lx-x86'     ;;
-      i?86-*-solaris*:32  ) SGE_PLATFORMS='sol-x86'             ;;
-      i?86-*-solaris*:64  ) SGE_PLATFORMS='sol-amd64'           ;;
-      powerpc-*-darwin*   ) SGE_PLATFORMS='darwin-ppc'          ;;
-      sparc-*-solaris*:32 ) SGE_PLATFORMS='sol-sparc'           ;;
-      sparc-*-solaris*:64 ) SGE_PLATFORMS='sol-sparc64'         ;;
-      x86_64-*-linux*     ) SGE_PLATFORMS='lx24-amd64 lx-amd64' ;;
-   esac
-   for x in $SGE_PLATFORMS; do
-      if test -d "$SGE_PATH/lib/$x"; then
-         SGE_LIBPATH="$SGE_PATH/lib/$x"
-         break
-      fi
-   done
-   ncbi_rp_L_flags=
- ncbi_rp_L_sep=$CONF_f_libpath
- if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $SGE_LIBPATH; do
-       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
-       ncbi_rp_L_sep=" $CONF_f_libpath"
-    done
-    SGE_LIBPATH="${ncbi_rp_L_flags}"
- else
-    ncbi_rp_R_flags=
-    ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $SGE_LIBPATH; do
-       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
-       ncbi_rp_L_sep=" $CONF_f_libpath"
-       x=`echo $x | sed -e "$ncbi_rpath_sed"`
-       ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
-       ncbi_rp_R_sep=:
-    done
-    SGE_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
- fi
-fi
-if test "$with_sge" != "no"; then
-    case "$with_sge" in
+### Image libraries
+# : ${JPEG_PATH=/usr/sfw}
+# Grr... jpeglib.h isn't especially well-behaved.
+if test "$with_jpeg" != "no"; then
+    case "$with_jpeg" in
        yes | "" ) ;;
-       *        ) SGE_PATH=$with_sge ;;
+       *        ) JPEG_PATH=$with_jpeg ;;
     esac
-    if test -d "$SGE_PATH"; then
-       in_path=" in $SGE_PATH"
-       if test -z "$SGE_INCLUDE" -a -d "$SGE_PATH/include"; then
-          SGE_INCLUDE="-I$SGE_PATH/include"
+    if test -d "$JPEG_PATH"; then
+       in_path=" in $JPEG_PATH"
+       if test -z "$JPEG_INCLUDE" -a -d "$JPEG_PATH/include"; then
+          JPEG_INCLUDE="-I$JPEG_PATH/include"
        fi
-       if test -n "$SGE_LIBPATH"; then
+       if test -n "$JPEG_LIBPATH"; then
           :
-       elif test -d "$SGE_PATH/lib${bit64_sfx}"; then
+       elif test -d "$JPEG_PATH/lib${bit64_sfx}"; then
           ncbi_rp_L_flags=
  ncbi_rp_L_sep=$CONF_f_libpath
  if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $SGE_PATH/lib${bit64_sfx}; do
+    for x in $JPEG_PATH/lib${bit64_sfx}; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
     done
-    SGE_LIBPATH="${ncbi_rp_L_flags}"
+    JPEG_LIBPATH="${ncbi_rp_L_flags}"
  else
     ncbi_rp_R_flags=
     ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $SGE_PATH/lib${bit64_sfx}; do
+    for x in $JPEG_PATH/lib${bit64_sfx}; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
        x=`echo $x | sed -e "$ncbi_rpath_sed"`
        ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
        ncbi_rp_R_sep=:
     done
-    SGE_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+    JPEG_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
  fi
-       elif test -d "$SGE_PATH/lib"; then
+       elif test -d "$JPEG_PATH/lib"; then
           ncbi_rp_L_flags=
  ncbi_rp_L_sep=$CONF_f_libpath
  if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $SGE_PATH/lib; do
+    for x in $JPEG_PATH/lib; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
     done
-    SGE_LIBPATH="${ncbi_rp_L_flags}"
+    JPEG_LIBPATH="${ncbi_rp_L_flags}"
  else
     ncbi_rp_R_flags=
     ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $SGE_PATH/lib; do
+    for x in $JPEG_PATH/lib; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
        x=`echo $x | sed -e "$ncbi_rpath_sed"`
        ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
        ncbi_rp_R_sep=:
     done
-    SGE_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+    JPEG_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
  fi
        fi
-       SGE_LIBS="$SGE_LIBPATH -ldrmaa "
+       JPEG_LIBS="$JPEG_LIBPATH -ljpeg "
     else
-       SGE_INCLUDE=""
-       SGE_LIBS="-ldrmaa "
+       JPEG_INCLUDE=""
+       JPEG_LIBS="-ljpeg "
        in_path=
     fi
-    echo "$as_me:$LINENO: checking for libdrmaa$in_path" >&5
-echo $ECHO_N "checking for libdrmaa$in_path... $ECHO_C" >&6
-if test "${ncbi_cv_lib_sge+set}" = set; then
+    { echo "$as_me:$LINENO: checking for libjpeg$in_path" >&5
+echo $ECHO_N "checking for libjpeg$in_path... $ECHO_C" >&6; }
+if test "${ncbi_cv_lib_jpeg+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  CPPFLAGS=" $SGE_INCLUDE $orig_CPPFLAGS"
-       LIBS="$SGE_LIBS  $orig_LIBS"
+  CPPFLAGS=" $JPEG_INCLUDE $orig_CPPFLAGS"
+       LIBS="$JPEG_LIBS  $orig_LIBS"
        cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -31964,67 +36915,86 @@
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 #include <sys/types.h>
-                      #include <drmaa.h>
+                  #include <stdio.h>
+                  extern "C" {
+                  #include <jpeglib.h>
+                  }
 int
 main ()
 {
-char buf[1024]; drmaa_init("SGE", buf, sizeof(buf));
+struct jpeg_decompress_struct cinfo;
+     struct jpeg_error_mgr         jerr;
+     cinfo.err = jpeg_std_error(&jerr);
+
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ncbi_cv_lib_sge=yes
+  ncbi_cv_lib_jpeg=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-ncbi_cv_lib_sge=no
+	ncbi_cv_lib_jpeg=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_sge" >&5
-echo "${ECHO_T}$ncbi_cv_lib_sge" >&6
-    if test "$ncbi_cv_lib_sge" = "no"; then
-       if test "${with_sge:=no}" != no; then
-       { { echo "$as_me:$LINENO: error: --with-sge explicitly specified, but no usable version found." >&5
-echo "$as_me: error: --with-sge explicitly specified, but no usable version found." >&2;}
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_jpeg" >&5
+echo "${ECHO_T}$ncbi_cv_lib_jpeg" >&6; }
+    if test "$ncbi_cv_lib_jpeg" = "no"; then
+       if test "${with_jpeg:=no}" != no; then
+       { { echo "$as_me:$LINENO: error: --with-jpeg explicitly specified, but no usable version found." >&5
+echo "$as_me: error: --with-jpeg explicitly specified, but no usable version found." >&2;}
    { (exit 1); exit 1; }; }
     fi
     fi
  fi
- if test "$with_sge" = "no"; then
-    SGE_PATH="No_SGE"
-    SGE_INCLUDE=
-    SGE_LIBS=
+ if test "$with_jpeg" = "no"; then
+    JPEG_PATH="No_JPEG"
+    JPEG_INCLUDE=
+    JPEG_LIBS=
  else
-              WithPackages="$WithPackages${WithPackagesSep}SGE"; WithPackagesSep=" "
-    SGE_INCLUDE=" $SGE_INCLUDE"
+              WithPackages="$WithPackages${WithPackagesSep}JPEG"; WithPackagesSep=" "
+    JPEG_INCLUDE=" $JPEG_INCLUDE"
 
 cat >>confdefs.h <<\_ACEOF
-#define HAVE_LIBSGE 1
+#define HAVE_LIBJPEG 1
 _ACEOF
 
  fi
@@ -32032,170 +37002,157 @@
 
 
 
-
-### muParser
-case "$with_muparser" in
-   yes | '' ) : ${MUPARSER_PATH=$NCBI/muParser} ;;
-   *        ) MUPARSER_PATH=$with_muparser ;;
-esac
-
-if test -d "$MUPARSER_PATH"; then
-   ncbi_fix_dir_tmp=`if cd $MUPARSER_PATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
- case "$ncbi_fix_dir_tmp" in
-    /.*) ncbi_fix_dir_tmp2=`cd $MUPARSER_PATH && $smart_pwd 2>/dev/null`
-         if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
-            MUPARSER_PATH=$ncbi_fix_dir_tmp2
-         else
-            case "$MUPARSER_PATH" in
-               /*) ;;
-               * ) MUPARSER_PATH=$ncbi_fix_dir_tmp ;;
-            esac
-         fi
-         ;;
-    /*) MUPARSER_PATH=$ncbi_fix_dir_tmp ;;
- esac
-fi
-if test -d "$MUPARSER_PATH/${compiler_vpfx}${DEBUG_SFX}${bit64_sfx}/lib"; then
-   MUPARSER_LIBPATH=-L$MUPARSER_PATH/${compiler_vpfx}${DEBUG_SFX}${bit64_sfx}/lib
-elif test -d "$MUPARSER_PATH/${compiler_pfx}${DEBUG_SFX}${bit64_sfx}/lib"; then
-   MUPARSER_LIBPATH=-L$MUPARSER_PATH/${compiler_pfx}${DEBUG_SFX}${bit64_sfx}/lib
-fi
-
-if test "$with_muparser" != "no"; then
-    case "$with_muparser" in
+# : ${PNG_PATH=/usr/sfw}
+if test "$with_png" != "no"; then
+    case "$with_png" in
        yes | "" ) ;;
-       *        ) MUPARSER_PATH=$with_muparser ;;
+       *        ) PNG_PATH=$with_png ;;
     esac
-    if test -d "$MUPARSER_PATH"; then
-       in_path=" in $MUPARSER_PATH"
-       if test -z "$MUPARSER_INCLUDE" -a -d "$MUPARSER_PATH/include"; then
-          MUPARSER_INCLUDE="-I$MUPARSER_PATH/include"
+    if test -d "$PNG_PATH"; then
+       in_path=" in $PNG_PATH"
+       if test -z "$PNG_INCLUDE" -a -d "$PNG_PATH/include"; then
+          PNG_INCLUDE="-I$PNG_PATH/include"
        fi
-       if test -n "$MUPARSER_LIBPATH"; then
+       if test -n "$PNG_LIBPATH"; then
           :
-       elif test -d "$MUPARSER_PATH/lib${bit64_sfx}"; then
+       elif test -d "$PNG_PATH/lib${bit64_sfx}"; then
           ncbi_rp_L_flags=
  ncbi_rp_L_sep=$CONF_f_libpath
  if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $MUPARSER_PATH/lib${bit64_sfx}; do
+    for x in $PNG_PATH/lib${bit64_sfx}; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
     done
-    MUPARSER_LIBPATH="${ncbi_rp_L_flags}"
+    PNG_LIBPATH="${ncbi_rp_L_flags}"
  else
     ncbi_rp_R_flags=
     ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $MUPARSER_PATH/lib${bit64_sfx}; do
+    for x in $PNG_PATH/lib${bit64_sfx}; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
        x=`echo $x | sed -e "$ncbi_rpath_sed"`
        ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
        ncbi_rp_R_sep=:
     done
-    MUPARSER_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+    PNG_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
  fi
-       elif test -d "$MUPARSER_PATH/lib"; then
+       elif test -d "$PNG_PATH/lib"; then
           ncbi_rp_L_flags=
  ncbi_rp_L_sep=$CONF_f_libpath
  if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $MUPARSER_PATH/lib; do
+    for x in $PNG_PATH/lib; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
     done
-    MUPARSER_LIBPATH="${ncbi_rp_L_flags}"
+    PNG_LIBPATH="${ncbi_rp_L_flags}"
  else
     ncbi_rp_R_flags=
     ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $MUPARSER_PATH/lib; do
+    for x in $PNG_PATH/lib; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
        x=`echo $x | sed -e "$ncbi_rpath_sed"`
        ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
        ncbi_rp_R_sep=:
     done
-    MUPARSER_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+    PNG_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
  fi
        fi
-       MUPARSER_LIBS="$MUPARSER_LIBPATH -lmuparser "
+       PNG_LIBS="$PNG_LIBPATH -lpng $Z_LIBS"
     else
-       MUPARSER_INCLUDE=""
-       MUPARSER_LIBS="-lmuparser "
+       PNG_INCLUDE=""
+       PNG_LIBS="-lpng $Z_LIBS"
        in_path=
     fi
-    echo "$as_me:$LINENO: checking for libmuparser$in_path" >&5
-echo $ECHO_N "checking for libmuparser$in_path... $ECHO_C" >&6
-if test "${ncbi_cv_lib_muparser+set}" = set; then
+    { echo "$as_me:$LINENO: checking for libpng$in_path" >&5
+echo $ECHO_N "checking for libpng$in_path... $ECHO_C" >&6; }
+if test "${ncbi_cv_lib_png+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  CPPFLAGS=" $MUPARSER_INCLUDE $orig_CPPFLAGS"
-       LIBS="$MUPARSER_LIBS  $orig_LIBS"
+  CPPFLAGS="$Z_INCLUDE $PNG_INCLUDE $orig_CPPFLAGS"
+       LIBS="$PNG_LIBS  $orig_LIBS"
        cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-#include <muParser.h>
+#include <png.h>
 int
 main ()
 {
-mu::Parser parser;
+png_structp png_ptr
+      = png_create_read_struct(PNG_LIBPNG_VER_STRING, NULL, NULL, NULL);
+
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ncbi_cv_lib_muparser=yes
+  ncbi_cv_lib_png=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-ncbi_cv_lib_muparser=no
+	ncbi_cv_lib_png=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_muparser" >&5
-echo "${ECHO_T}$ncbi_cv_lib_muparser" >&6
-    if test "$ncbi_cv_lib_muparser" = "no"; then
-       if test "${with_muparser:=no}" != no; then
-       { { echo "$as_me:$LINENO: error: --with-muparser explicitly specified, but no usable version found." >&5
-echo "$as_me: error: --with-muparser explicitly specified, but no usable version found." >&2;}
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_png" >&5
+echo "${ECHO_T}$ncbi_cv_lib_png" >&6; }
+    if test "$ncbi_cv_lib_png" = "no"; then
+       if test "${with_png:=no}" != no; then
+       { { echo "$as_me:$LINENO: error: --with-png explicitly specified, but no usable version found." >&5
+echo "$as_me: error: --with-png explicitly specified, but no usable version found." >&2;}
    { (exit 1); exit 1; }; }
     fi
     fi
  fi
- if test "$with_muparser" = "no"; then
-    MUPARSER_PATH="No_MUPARSER"
-    MUPARSER_INCLUDE=
-    MUPARSER_LIBS=
+ if test "$with_png" = "no"; then
+    PNG_PATH="No_PNG"
+    PNG_INCLUDE=
+    PNG_LIBS=
  else
-              WithPackages="$WithPackages${WithPackagesSep}MUPARSER"; WithPackagesSep=" "
-    MUPARSER_INCLUDE=" $MUPARSER_INCLUDE"
+              WithPackages="$WithPackages${WithPackagesSep}PNG"; WithPackagesSep=" "
+    PNG_INCLUDE="$Z_INCLUDE $PNG_INCLUDE"
 
 cat >>confdefs.h <<\_ACEOF
-#define HAVE_LIBMUPARSER 1
+#define HAVE_LIBPNG 1
 _ACEOF
 
  fi
@@ -32203,1627 +37160,1799 @@
 
 
 
-
-### hdf5
-case "$with_hdf5" in
-   yes | '' ) : ${HDF5_PATH=$NCBI/hdf5} ;;
-   *        ) HDF5_PATH=$with_hdf5 ;;
-esac
-
-if test -d "$HDF5_PATH/${compiler_vpfx}${DEBUG_SFX}${bit64_sfx}"; then
-   HDF5_PATH=$HDF5_PATH/${compiler_vpfx}${DEBUG_SFX}${bit64_sfx}
-elif test -d "$HDF5_PATH/${compiler_pfx}${DEBUG_SFX}${bit64_sfx}"; then
-   HDF5_PATH=$HDF5_PATH/${compiler_pfx}${DEBUG_SFX}${bit64_sfx}
-fi
-if test -d "$HDF5_PATH"; then
-   ncbi_fix_dir_tmp=`if cd $HDF5_PATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
- case "$ncbi_fix_dir_tmp" in
-    /.*) ncbi_fix_dir_tmp2=`cd $HDF5_PATH && $smart_pwd 2>/dev/null`
-         if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
-            HDF5_PATH=$ncbi_fix_dir_tmp2
-         else
-            case "$HDF5_PATH" in
-               /*) ;;
-               * ) HDF5_PATH=$ncbi_fix_dir_tmp ;;
-            esac
-         fi
-         ;;
-    /*) HDF5_PATH=$ncbi_fix_dir_tmp ;;
- esac
-fi
-
-if test "$with_hdf5" != "no"; then
-    case "$with_hdf5" in
+# : ${TIFF_PATH=/usr/sfw}
+if test "$with_tiff" != "no"; then
+    case "$with_tiff" in
        yes | "" ) ;;
-       *        ) HDF5_PATH=$with_hdf5 ;;
+       *        ) TIFF_PATH=$with_tiff ;;
     esac
-    if test -d "$HDF5_PATH"; then
-       in_path=" in $HDF5_PATH"
-       if test -z "$HDF5_INCLUDE" -a -d "$HDF5_PATH/include"; then
-          HDF5_INCLUDE="-I$HDF5_PATH/include"
+    if test -d "$TIFF_PATH"; then
+       in_path=" in $TIFF_PATH"
+       if test -z "$TIFF_INCLUDE" -a -d "$TIFF_PATH/include"; then
+          TIFF_INCLUDE="-I$TIFF_PATH/include"
        fi
-       if test -n "$HDF5_LIBPATH"; then
+       if test -n "$TIFF_LIBPATH"; then
           :
-       elif test -d "$HDF5_PATH/lib${bit64_sfx}"; then
+       elif test -d "$TIFF_PATH/lib${bit64_sfx}"; then
           ncbi_rp_L_flags=
  ncbi_rp_L_sep=$CONF_f_libpath
  if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $HDF5_PATH/lib${bit64_sfx}; do
+    for x in $TIFF_PATH/lib${bit64_sfx}; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
     done
-    HDF5_LIBPATH="${ncbi_rp_L_flags}"
+    TIFF_LIBPATH="${ncbi_rp_L_flags}"
  else
     ncbi_rp_R_flags=
     ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $HDF5_PATH/lib${bit64_sfx}; do
+    for x in $TIFF_PATH/lib${bit64_sfx}; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
        x=`echo $x | sed -e "$ncbi_rpath_sed"`
        ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
        ncbi_rp_R_sep=:
     done
-    HDF5_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+    TIFF_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
  fi
-       elif test -d "$HDF5_PATH/lib"; then
+       elif test -d "$TIFF_PATH/lib"; then
           ncbi_rp_L_flags=
  ncbi_rp_L_sep=$CONF_f_libpath
  if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $HDF5_PATH/lib; do
+    for x in $TIFF_PATH/lib; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
     done
-    HDF5_LIBPATH="${ncbi_rp_L_flags}"
+    TIFF_LIBPATH="${ncbi_rp_L_flags}"
  else
     ncbi_rp_R_flags=
     ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $HDF5_PATH/lib; do
+    for x in $TIFF_PATH/lib; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
        x=`echo $x | sed -e "$ncbi_rpath_sed"`
        ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
        ncbi_rp_R_sep=:
     done
-    HDF5_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+    TIFF_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
  fi
        fi
-       HDF5_LIBS="$HDF5_LIBPATH -lhdf5_cpp -lhdf5"
+       TIFF_LIBS="$TIFF_LIBPATH -ltiff $Z_LIBS"
     else
-       HDF5_INCLUDE=""
-       HDF5_LIBS="-lhdf5_cpp -lhdf5"
+       TIFF_INCLUDE=""
+       TIFF_LIBS="-ltiff $Z_LIBS"
        in_path=
     fi
-    echo "$as_me:$LINENO: checking for libhdf5_cpp$in_path" >&5
-echo $ECHO_N "checking for libhdf5_cpp$in_path... $ECHO_C" >&6
-if test "${ncbi_cv_lib_hdf5+set}" = set; then
+    { echo "$as_me:$LINENO: checking for libtiff$in_path" >&5
+echo $ECHO_N "checking for libtiff$in_path... $ECHO_C" >&6; }
+if test "${ncbi_cv_lib_tiff+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  CPPFLAGS=" $HDF5_INCLUDE $orig_CPPFLAGS"
-       LIBS="$HDF5_LIBS  $orig_LIBS"
+  CPPFLAGS=" $TIFF_INCLUDE $orig_CPPFLAGS"
+       LIBS="$TIFF_LIBS $JPEG_LIBS $orig_LIBS"
        cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-#include <H5Cpp.h>
+#include <tiffio.h>
 int
 main ()
 {
-H5::H5Library::open();
+TIFF* tiff = TIFFOpen("foo", "r");
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ncbi_cv_lib_hdf5=yes
+  ncbi_cv_lib_tiff=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-ncbi_cv_lib_hdf5=no
+	ncbi_cv_lib_tiff=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_hdf5" >&5
-echo "${ECHO_T}$ncbi_cv_lib_hdf5" >&6
-    if test "$ncbi_cv_lib_hdf5" = "no"; then
-       if test "${with_hdf5:=no}" != no; then
-       { { echo "$as_me:$LINENO: error: --with-hdf5 explicitly specified, but no usable version found." >&5
-echo "$as_me: error: --with-hdf5 explicitly specified, but no usable version found." >&2;}
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_tiff" >&5
+echo "${ECHO_T}$ncbi_cv_lib_tiff" >&6; }
+    if test "$ncbi_cv_lib_tiff" = "no"; then
+       if test "${with_tiff:=no}" != no; then
+       { { echo "$as_me:$LINENO: error: --with-tiff explicitly specified, but no usable version found." >&5
+echo "$as_me: error: --with-tiff explicitly specified, but no usable version found." >&2;}
    { (exit 1); exit 1; }; }
     fi
     fi
  fi
- if test "$with_hdf5" = "no"; then
-    HDF5_PATH="No_HDF5"
-    HDF5_INCLUDE=
-    HDF5_LIBS=
+ if test "$with_tiff" = "no"; then
+    TIFF_PATH="No_TIFF"
+    TIFF_INCLUDE=
+    TIFF_LIBS=
  else
-              WithPackages="$WithPackages${WithPackagesSep}HDF5"; WithPackagesSep=" "
-    HDF5_INCLUDE=" $HDF5_INCLUDE"
+              WithPackages="$WithPackages${WithPackagesSep}TIFF"; WithPackagesSep=" "
+    TIFF_INCLUDE=" $TIFF_INCLUDE"
 
 cat >>confdefs.h <<\_ACEOF
-#define HAVE_LIBHDF5 1
+#define HAVE_LIBTIFF 1
 _ACEOF
 
  fi
 
 
 
+## etc.
 
-
-### Image libraries
-# : ${JPEG_PATH=/usr/sfw}
-# Grr... jpeglib.h isn't especially well-behaved.
-if test "$with_jpeg" != "no"; then
-    case "$with_jpeg" in
+# Paths?
+with_ungif=$with_gif
+if test "$with_ungif" != "no"; then
+    case "$with_ungif" in
        yes | "" ) ;;
-       *        ) JPEG_PATH=$with_jpeg ;;
+       *        ) UNGIF_PATH=$with_ungif ;;
     esac
-    if test -d "$JPEG_PATH"; then
-       in_path=" in $JPEG_PATH"
-       if test -z "$JPEG_INCLUDE" -a -d "$JPEG_PATH/include"; then
-          JPEG_INCLUDE="-I$JPEG_PATH/include"
+    if test -d "$UNGIF_PATH"; then
+       in_path=" in $UNGIF_PATH"
+       if test -z "$UNGIF_INCLUDE" -a -d "$UNGIF_PATH/include"; then
+          UNGIF_INCLUDE="-I$UNGIF_PATH/include"
        fi
-       if test -n "$JPEG_LIBPATH"; then
+       if test -n "$UNGIF_LIBPATH"; then
           :
-       elif test -d "$JPEG_PATH/lib${bit64_sfx}"; then
+       elif test -d "$UNGIF_PATH/lib${bit64_sfx}"; then
           ncbi_rp_L_flags=
  ncbi_rp_L_sep=$CONF_f_libpath
  if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $JPEG_PATH/lib${bit64_sfx}; do
+    for x in $UNGIF_PATH/lib${bit64_sfx}; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
     done
-    JPEG_LIBPATH="${ncbi_rp_L_flags}"
+    UNGIF_LIBPATH="${ncbi_rp_L_flags}"
  else
     ncbi_rp_R_flags=
     ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $JPEG_PATH/lib${bit64_sfx}; do
+    for x in $UNGIF_PATH/lib${bit64_sfx}; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
        x=`echo $x | sed -e "$ncbi_rpath_sed"`
        ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
        ncbi_rp_R_sep=:
     done
-    JPEG_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+    UNGIF_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
  fi
-       elif test -d "$JPEG_PATH/lib"; then
+       elif test -d "$UNGIF_PATH/lib"; then
           ncbi_rp_L_flags=
  ncbi_rp_L_sep=$CONF_f_libpath
  if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $JPEG_PATH/lib; do
+    for x in $UNGIF_PATH/lib; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
     done
-    JPEG_LIBPATH="${ncbi_rp_L_flags}"
+    UNGIF_LIBPATH="${ncbi_rp_L_flags}"
  else
     ncbi_rp_R_flags=
     ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $JPEG_PATH/lib; do
+    for x in $UNGIF_PATH/lib; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
        x=`echo $x | sed -e "$ncbi_rpath_sed"`
        ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
        ncbi_rp_R_sep=:
     done
-    JPEG_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+    UNGIF_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
  fi
        fi
-       JPEG_LIBS="$JPEG_LIBPATH -ljpeg "
+       UNGIF_LIBS="$UNGIF_LIBPATH -lungif $X_LIBS -lX11"
     else
-       JPEG_INCLUDE=""
-       JPEG_LIBS="-ljpeg "
+       UNGIF_INCLUDE=""
+       UNGIF_LIBS="-lungif $X_LIBS -lX11"
        in_path=
     fi
-    echo "$as_me:$LINENO: checking for libjpeg$in_path" >&5
-echo $ECHO_N "checking for libjpeg$in_path... $ECHO_C" >&6
-if test "${ncbi_cv_lib_jpeg+set}" = set; then
+    { echo "$as_me:$LINENO: checking for libungif$in_path" >&5
+echo $ECHO_N "checking for libungif$in_path... $ECHO_C" >&6; }
+if test "${ncbi_cv_lib_ungif+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  CPPFLAGS=" $JPEG_INCLUDE $orig_CPPFLAGS"
-       LIBS="$JPEG_LIBS  $orig_LIBS"
+  CPPFLAGS=" $UNGIF_INCLUDE $orig_CPPFLAGS"
+       LIBS="$UNGIF_LIBS  $orig_LIBS"
        cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-#include <sys/types.h>
-                  #include <stdio.h>
                   extern "C" {
-                  #include <jpeglib.h>
+                  #include <gif_lib.h>
                   }
 int
 main ()
 {
-struct jpeg_decompress_struct cinfo;
-     struct jpeg_error_mgr         jerr;
-     cinfo.err = jpeg_std_error(&jerr);
-
+GifFileType* fp = DGifOpenFileName("foo");
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ncbi_cv_lib_jpeg=yes
+  ncbi_cv_lib_ungif=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-ncbi_cv_lib_jpeg=no
+	ncbi_cv_lib_ungif=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_jpeg" >&5
-echo "${ECHO_T}$ncbi_cv_lib_jpeg" >&6
-    if test "$ncbi_cv_lib_jpeg" = "no"; then
-       if test "${with_jpeg:=no}" != no; then
-       { { echo "$as_me:$LINENO: error: --with-jpeg explicitly specified, but no usable version found." >&5
-echo "$as_me: error: --with-jpeg explicitly specified, but no usable version found." >&2;}
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_ungif" >&5
+echo "${ECHO_T}$ncbi_cv_lib_ungif" >&6; }
+    if test "$ncbi_cv_lib_ungif" = "no"; then
+       if test "${with_ungif:=no}" != no; then
+       { { echo "$as_me:$LINENO: error: --with-ungif explicitly specified, but no usable version found." >&5
+echo "$as_me: error: --with-ungif explicitly specified, but no usable version found." >&2;}
    { (exit 1); exit 1; }; }
     fi
     fi
  fi
- if test "$with_jpeg" = "no"; then
-    JPEG_PATH="No_JPEG"
-    JPEG_INCLUDE=
-    JPEG_LIBS=
+ if test "$with_ungif" = "no"; then
+    UNGIF_PATH="No_UNGIF"
+    UNGIF_INCLUDE=
+    UNGIF_LIBS=
  else
-              WithPackages="$WithPackages${WithPackagesSep}JPEG"; WithPackagesSep=" "
-    JPEG_INCLUDE=" $JPEG_INCLUDE"
+              WithPackages="$WithPackages${WithPackagesSep}UNGIF"; WithPackagesSep=" "
+    UNGIF_INCLUDE=" $UNGIF_INCLUDE"
 
 cat >>confdefs.h <<\_ACEOF
-#define HAVE_LIBJPEG 1
+#define HAVE_LIBUNGIF 1
 _ACEOF
 
  fi
 
 
 
-
-# : ${PNG_PATH=/usr/sfw}
-if test "$with_png" != "no"; then
-    case "$with_png" in
+if test "$with_ungif" = "no"; then
+   if test "$with_gif" != "no"; then
+    case "$with_gif" in
        yes | "" ) ;;
-       *        ) PNG_PATH=$with_png ;;
+       *        ) GIF_PATH=$with_gif ;;
     esac
-    if test -d "$PNG_PATH"; then
-       in_path=" in $PNG_PATH"
-       if test -z "$PNG_INCLUDE" -a -d "$PNG_PATH/include"; then
-          PNG_INCLUDE="-I$PNG_PATH/include"
+    if test -d "$GIF_PATH"; then
+       in_path=" in $GIF_PATH"
+       if test -z "$GIF_INCLUDE" -a -d "$GIF_PATH/include"; then
+          GIF_INCLUDE="-I$GIF_PATH/include"
        fi
-       if test -n "$PNG_LIBPATH"; then
+       if test -n "$GIF_LIBPATH"; then
           :
-       elif test -d "$PNG_PATH/lib${bit64_sfx}"; then
+       elif test -d "$GIF_PATH/lib${bit64_sfx}"; then
           ncbi_rp_L_flags=
  ncbi_rp_L_sep=$CONF_f_libpath
  if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $PNG_PATH/lib${bit64_sfx}; do
+    for x in $GIF_PATH/lib${bit64_sfx}; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
     done
-    PNG_LIBPATH="${ncbi_rp_L_flags}"
+    GIF_LIBPATH="${ncbi_rp_L_flags}"
  else
     ncbi_rp_R_flags=
     ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $PNG_PATH/lib${bit64_sfx}; do
+    for x in $GIF_PATH/lib${bit64_sfx}; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
        x=`echo $x | sed -e "$ncbi_rpath_sed"`
        ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
        ncbi_rp_R_sep=:
     done
-    PNG_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+    GIF_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
  fi
-       elif test -d "$PNG_PATH/lib"; then
+       elif test -d "$GIF_PATH/lib"; then
           ncbi_rp_L_flags=
  ncbi_rp_L_sep=$CONF_f_libpath
  if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $PNG_PATH/lib; do
+    for x in $GIF_PATH/lib; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
     done
-    PNG_LIBPATH="${ncbi_rp_L_flags}"
+    GIF_LIBPATH="${ncbi_rp_L_flags}"
  else
     ncbi_rp_R_flags=
     ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $PNG_PATH/lib; do
+    for x in $GIF_PATH/lib; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
        x=`echo $x | sed -e "$ncbi_rpath_sed"`
        ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
        ncbi_rp_R_sep=:
     done
-    PNG_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+    GIF_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
  fi
        fi
-       PNG_LIBS="$PNG_LIBPATH -lpng $Z_LIBS"
+       GIF_LIBS="$GIF_LIBPATH -lgif $X_LIBS -lX11"
     else
-       PNG_INCLUDE=""
-       PNG_LIBS="-lpng $Z_LIBS"
+       GIF_INCLUDE=""
+       GIF_LIBS="-lgif $X_LIBS -lX11"
        in_path=
     fi
-    echo "$as_me:$LINENO: checking for libpng$in_path" >&5
-echo $ECHO_N "checking for libpng$in_path... $ECHO_C" >&6
-if test "${ncbi_cv_lib_png+set}" = set; then
+    { echo "$as_me:$LINENO: checking for libgif$in_path" >&5
+echo $ECHO_N "checking for libgif$in_path... $ECHO_C" >&6; }
+if test "${ncbi_cv_lib_gif+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  CPPFLAGS="$Z_INCLUDE $PNG_INCLUDE $orig_CPPFLAGS"
-       LIBS="$PNG_LIBS  $orig_LIBS"
+  CPPFLAGS=" $GIF_INCLUDE $orig_CPPFLAGS"
+       LIBS="$GIF_LIBS  $orig_LIBS"
        cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-#include <png.h>
+extern "C" {
+                     #include <gif_lib.h>
+                     }
 int
 main ()
 {
-png_structp png_ptr
-      = png_create_read_struct(PNG_LIBPNG_VER_STRING, NULL, NULL, NULL);
-
+GifFileType* fp = DGifOpenFileName("foo");
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ncbi_cv_lib_png=yes
+  ncbi_cv_lib_gif=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-ncbi_cv_lib_png=no
+	ncbi_cv_lib_gif=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_png" >&5
-echo "${ECHO_T}$ncbi_cv_lib_png" >&6
-    if test "$ncbi_cv_lib_png" = "no"; then
-       if test "${with_png:=no}" != no; then
-       { { echo "$as_me:$LINENO: error: --with-png explicitly specified, but no usable version found." >&5
-echo "$as_me: error: --with-png explicitly specified, but no usable version found." >&2;}
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_gif" >&5
+echo "${ECHO_T}$ncbi_cv_lib_gif" >&6; }
+    if test "$ncbi_cv_lib_gif" = "no"; then
+       if test "${with_gif:=no}" != no; then
+       { { echo "$as_me:$LINENO: error: --with-gif explicitly specified, but no usable version found." >&5
+echo "$as_me: error: --with-gif explicitly specified, but no usable version found." >&2;}
    { (exit 1); exit 1; }; }
     fi
     fi
  fi
- if test "$with_png" = "no"; then
-    PNG_PATH="No_PNG"
-    PNG_INCLUDE=
-    PNG_LIBS=
+ if test "$with_gif" = "no"; then
+    GIF_PATH="No_GIF"
+    GIF_INCLUDE=
+    GIF_LIBS=
  else
-              WithPackages="$WithPackages${WithPackagesSep}PNG"; WithPackagesSep=" "
-    PNG_INCLUDE="$Z_INCLUDE $PNG_INCLUDE"
+              WithPackages="$WithPackages${WithPackagesSep}GIF"; WithPackagesSep=" "
+    GIF_INCLUDE=" $GIF_INCLUDE"
 
 cat >>confdefs.h <<\_ACEOF
-#define HAVE_LIBPNG 1
+#define HAVE_LIBGIF 1
 _ACEOF
 
  fi
 
 
 
+else
 
-# : ${TIFF_PATH=/usr/sfw}
-if test "$with_tiff" != "no"; then
-    case "$with_tiff" in
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_LIBGIF 1
+_ACEOF
+
+   GIF_INCLUDE=$UNGIF_INCLUDE
+   GIF_LIBS=$UNGIF_LIBS
+fi
+
+case "$x_libraries" in */*) : ${XPM_PATH=`dirname "$x_libraries"`} ;; esac
+if test "$with_xpm" != "no"; then
+    case "$with_xpm" in
        yes | "" ) ;;
-       *        ) TIFF_PATH=$with_tiff ;;
+       *        ) XPM_PATH=$with_xpm ;;
     esac
-    if test -d "$TIFF_PATH"; then
-       in_path=" in $TIFF_PATH"
-       if test -z "$TIFF_INCLUDE" -a -d "$TIFF_PATH/include"; then
-          TIFF_INCLUDE="-I$TIFF_PATH/include"
+    if test -d "$XPM_PATH"; then
+       in_path=" in $XPM_PATH"
+       if test -z "$XPM_INCLUDE" -a -d "$XPM_PATH/include"; then
+          XPM_INCLUDE="-I$XPM_PATH/include"
        fi
-       if test -n "$TIFF_LIBPATH"; then
+       if test -n "$XPM_LIBPATH"; then
           :
-       elif test -d "$TIFF_PATH/lib${bit64_sfx}"; then
+       elif test -d "$XPM_PATH/lib${bit64_sfx}"; then
           ncbi_rp_L_flags=
  ncbi_rp_L_sep=$CONF_f_libpath
  if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $TIFF_PATH/lib${bit64_sfx}; do
+    for x in $XPM_PATH/lib${bit64_sfx}; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
     done
-    TIFF_LIBPATH="${ncbi_rp_L_flags}"
+    XPM_LIBPATH="${ncbi_rp_L_flags}"
  else
     ncbi_rp_R_flags=
     ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $TIFF_PATH/lib${bit64_sfx}; do
+    for x in $XPM_PATH/lib${bit64_sfx}; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
        x=`echo $x | sed -e "$ncbi_rpath_sed"`
        ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
        ncbi_rp_R_sep=:
     done
-    TIFF_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+    XPM_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
  fi
-       elif test -d "$TIFF_PATH/lib"; then
+       elif test -d "$XPM_PATH/lib"; then
           ncbi_rp_L_flags=
  ncbi_rp_L_sep=$CONF_f_libpath
  if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $TIFF_PATH/lib; do
+    for x in $XPM_PATH/lib; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
     done
-    TIFF_LIBPATH="${ncbi_rp_L_flags}"
+    XPM_LIBPATH="${ncbi_rp_L_flags}"
  else
     ncbi_rp_R_flags=
     ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $TIFF_PATH/lib; do
+    for x in $XPM_PATH/lib; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
        x=`echo $x | sed -e "$ncbi_rpath_sed"`
        ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
        ncbi_rp_R_sep=:
     done
-    TIFF_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+    XPM_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
  fi
        fi
-       TIFF_LIBS="$TIFF_LIBPATH -ltiff $Z_LIBS"
+       XPM_LIBS="$XPM_LIBPATH -lXpm $X_LIBS -lX11"
     else
-       TIFF_INCLUDE=""
-       TIFF_LIBS="-ltiff $Z_LIBS"
+       XPM_INCLUDE=""
+       XPM_LIBS="-lXpm $X_LIBS -lX11"
        in_path=
     fi
-    echo "$as_me:$LINENO: checking for libtiff$in_path" >&5
-echo $ECHO_N "checking for libtiff$in_path... $ECHO_C" >&6
-if test "${ncbi_cv_lib_tiff+set}" = set; then
+    { echo "$as_me:$LINENO: checking for libXpm$in_path" >&5
+echo $ECHO_N "checking for libXpm$in_path... $ECHO_C" >&6; }
+if test "${ncbi_cv_lib_xpm+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  CPPFLAGS=" $TIFF_INCLUDE $orig_CPPFLAGS"
-       LIBS="$TIFF_LIBS $JPEG_LIBS $orig_LIBS"
+  CPPFLAGS="$X_CFLAGS $XPM_INCLUDE $orig_CPPFLAGS"
+       LIBS="$XPM_LIBS  $orig_LIBS"
        cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-#include <tiffio.h>
+#include <X11/xpm.h>
 int
 main ()
 {
-TIFF* tiff = TIFFOpen("foo", "r");
+XpmImage image; XpmInfo info;
+     XpmReadFileToXpmImage("foo", &image, &info);
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ncbi_cv_lib_tiff=yes
+  ncbi_cv_lib_xpm=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-ncbi_cv_lib_tiff=no
+	ncbi_cv_lib_xpm=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_tiff" >&5
-echo "${ECHO_T}$ncbi_cv_lib_tiff" >&6
-    if test "$ncbi_cv_lib_tiff" = "no"; then
-       if test "${with_tiff:=no}" != no; then
-       { { echo "$as_me:$LINENO: error: --with-tiff explicitly specified, but no usable version found." >&5
-echo "$as_me: error: --with-tiff explicitly specified, but no usable version found." >&2;}
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_xpm" >&5
+echo "${ECHO_T}$ncbi_cv_lib_xpm" >&6; }
+    if test "$ncbi_cv_lib_xpm" = "no"; then
+       if test "${with_xpm:=no}" != no; then
+       { { echo "$as_me:$LINENO: error: --with-xpm explicitly specified, but no usable version found." >&5
+echo "$as_me: error: --with-xpm explicitly specified, but no usable version found." >&2;}
    { (exit 1); exit 1; }; }
     fi
     fi
  fi
- if test "$with_tiff" = "no"; then
-    TIFF_PATH="No_TIFF"
-    TIFF_INCLUDE=
-    TIFF_LIBS=
+ if test "$with_xpm" = "no"; then
+    XPM_PATH="No_XPM"
+    XPM_INCLUDE=
+    XPM_LIBS=
  else
-              WithPackages="$WithPackages${WithPackagesSep}TIFF"; WithPackagesSep=" "
-    TIFF_INCLUDE=" $TIFF_INCLUDE"
+              WithPackages="$WithPackages${WithPackagesSep}XPM"; WithPackagesSep=" "
+    XPM_INCLUDE="$X_CFLAGS $XPM_INCLUDE"
 
 cat >>confdefs.h <<\_ACEOF
-#define HAVE_LIBTIFF 1
+#define HAVE_LIBXPM 1
 _ACEOF
 
  fi
 
 
 
-## etc.
+# The use of X_CFLAGS is probably redundant, but shouldn't hurt.
 
-# Paths?
-with_ungif=$with_gif
-if test "$with_ungif" != "no"; then
-    case "$with_ungif" in
-       yes | "" ) ;;
-       *        ) UNGIF_PATH=$with_ungif ;;
-    esac
-    if test -d "$UNGIF_PATH"; then
-       in_path=" in $UNGIF_PATH"
-       if test -z "$UNGIF_INCLUDE" -a -d "$UNGIF_PATH/include"; then
-          UNGIF_INCLUDE="-I$UNGIF_PATH/include"
-       fi
-       if test -n "$UNGIF_LIBPATH"; then
-          :
-       elif test -d "$UNGIF_PATH/lib${bit64_sfx}"; then
-          ncbi_rp_L_flags=
- ncbi_rp_L_sep=$CONF_f_libpath
- if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $UNGIF_PATH/lib${bit64_sfx}; do
-       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
-       ncbi_rp_L_sep=" $CONF_f_libpath"
+## FreeType and FTGL
+if test "$with_freetype" != "no" ; then
+   : ${FREETYPE_BINPATH=$FREETYPE_PATH/bin}
+   # Extract the first word of "freetype-config", so it can be a program name with args.
+set dummy freetype-config; ac_word=$2
+{ echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
+if test "${ac_cv_path_freetype_config+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  case $freetype_config in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_freetype_config="$freetype_config" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+as_dummy="$FREETYPE_BINPATH:$PATH"
+for as_dir in $as_dummy
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+  for ac_exec_ext in '' $ac_executable_extensions; do
+  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; }; then
+    ac_cv_path_freetype_config="$as_dir/$ac_word$ac_exec_ext"
+    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
     done
-    UNGIF_LIBPATH="${ncbi_rp_L_flags}"
- else
-    ncbi_rp_R_flags=
-    ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $UNGIF_PATH/lib${bit64_sfx}; do
-       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
-       ncbi_rp_L_sep=" $CONF_f_libpath"
-       x=`echo $x | sed -e "$ncbi_rpath_sed"`
-       ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
-       ncbi_rp_R_sep=:
     done
-    UNGIF_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+IFS=$as_save_IFS
+
+  ;;
+esac
  fi
-       elif test -d "$UNGIF_PATH/lib"; then
-          ncbi_rp_L_flags=
- ncbi_rp_L_sep=$CONF_f_libpath
+freetype_config=$ac_cv_path_freetype_config
+if test -n "$freetype_config"; then
+  { echo "$as_me:$LINENO: result: $freetype_config" >&5
+echo "${ECHO_T}$freetype_config" >&6; }
+else
+  { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
+fi
+
+
+   if test -n "$freetype_config" ; then
+      : ${FREETYPE_BINPATH=`dirname $freetype_config`}
+      : ${FREETYPE_INCLUDE=`$freetype_config --cflags`}
+      if test -z "${FREETYPE_LIBS+set}"; then
  if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $UNGIF_PATH/lib; do
-       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
-       ncbi_rp_L_sep=" $CONF_f_libpath"
-    done
-    UNGIF_LIBPATH="${ncbi_rp_L_flags}"
+    FREETYPE_LIBS=`$freetype_config --libs | sed -e "$no_usr_lib"`
  else
+    FREETYPE_LIBS=
+    ncbi_rp_L_sep=
     ncbi_rp_R_flags=
     ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $UNGIF_PATH/lib; do
-       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
-       ncbi_rp_L_sep=" $CONF_f_libpath"
-       x=`echo $x | sed -e "$ncbi_rpath_sed"`
+    for x in `$freetype_config --libs | sed -e "$no_usr_lib"`; do
+       case "$x" in
+          -L*)
+             FREETYPE_LIBS="$FREETYPE_LIBS${ncbi_rp_L_sep}$x"
+             x=`echo $x | sed -e "s/^-L//; $ncbi_rpath_sed"`
        ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
        ncbi_rp_R_sep=:
+             ;;
+          *)
+             FREETYPE_LIBS="$FREETYPE_LIBS${ncbi_rp_R_flags}${ncbi_rp_L_sep}$x"
+             ncbi_rp_R_flags=
+             ncbi_rp_R_sep=" $CONF_f_runpath"
+             ;;
+       esac
+       ncbi_rp_L_sep=" "
     done
-    UNGIF_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+    FREETYPE_LIBS="$FREETYPE_LIBS${ncbi_rp_R_flags}"
  fi
        fi
-       UNGIF_LIBS="$UNGIF_LIBPATH -lungif $X_LIBS -lX11"
-    else
-       UNGIF_INCLUDE=""
-       UNGIF_LIBS="-lungif $X_LIBS -lX11"
-       in_path=
+      case "$host_os:$bit64_sfx" in
+         solaris*:64 )
+            ftprefix=`$freetype_config --exec-prefix`
+            if test -d "$ftprefix/lib/64"; then
+               FREETYPE_LIBS=`echo $FREETYPE_LIBS \
+                   | sed -e "s,$ftprefix/lib ,$ftprefix/lib/64 ,g"`
     fi
-    echo "$as_me:$LINENO: checking for libungif$in_path" >&5
-echo $ECHO_N "checking for libungif$in_path... $ECHO_C" >&6
-if test "${ncbi_cv_lib_ungif+set}" = set; then
+            ;;
+      esac
+      { echo "$as_me:$LINENO: checking whether FREETYPE_INCLUDE needs doctoring" >&5
+echo $ECHO_N "checking whether FREETYPE_INCLUDE needs doctoring... $ECHO_C" >&6; }
+if test "${ncbi_cv_lib_freetype_fix_include+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  CPPFLAGS=" $UNGIF_INCLUDE $orig_CPPFLAGS"
-       LIBS="$UNGIF_LIBS  $orig_LIBS"
+  CPPFLAGS="$FREETYPE_INCLUDE $orig_CPPFLAGS"
        cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-extern "C" {
-                  #include <gif_lib.h>
-                  }
+#include <ft2build.h>
 int
 main ()
 {
-GifFileType* fp = DGifOpenFileName("foo");
+
   ;
   return 0;
 }
 _ACEOF
-rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+rm -f conftest.$ac_objext
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
-	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -s conftest.$ac_objext'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ncbi_cv_lib_ungif=yes
+  ncbi_cv_lib_freetype_fix_include=no
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-ncbi_cv_lib_ungif=no
-fi
-rm -f conftest.err conftest.$ac_objext \
-      conftest$ac_exeext conftest.$ac_ext
-fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_ungif" >&5
-echo "${ECHO_T}$ncbi_cv_lib_ungif" >&6
-    if test "$ncbi_cv_lib_ungif" = "no"; then
-       if test "${with_ungif:=no}" != no; then
-       { { echo "$as_me:$LINENO: error: --with-ungif explicitly specified, but no usable version found." >&5
-echo "$as_me: error: --with-ungif explicitly specified, but no usable version found." >&2;}
-   { (exit 1); exit 1; }; }
-    fi
-    fi
- fi
- if test "$with_ungif" = "no"; then
-    UNGIF_PATH="No_UNGIF"
-    UNGIF_INCLUDE=
-    UNGIF_LIBS=
- else
-              WithPackages="$WithPackages${WithPackagesSep}UNGIF"; WithPackagesSep=" "
-    UNGIF_INCLUDE=" $UNGIF_INCLUDE"
-
-cat >>confdefs.h <<\_ACEOF
-#define HAVE_LIBUNGIF 1
-_ACEOF
-
+	ncbi_cv_lib_freetype_fix_include=yes
  fi
 
-
-
-if test "$with_ungif" = "no"; then
-   if test "$with_gif" != "no"; then
-    case "$with_gif" in
-       yes | "" ) ;;
-       *        ) GIF_PATH=$with_gif ;;
-    esac
-    if test -d "$GIF_PATH"; then
-       in_path=" in $GIF_PATH"
-       if test -z "$GIF_INCLUDE" -a -d "$GIF_PATH/include"; then
-          GIF_INCLUDE="-I$GIF_PATH/include"
-       fi
-       if test -n "$GIF_LIBPATH"; then
-          :
-       elif test -d "$GIF_PATH/lib${bit64_sfx}"; then
-          ncbi_rp_L_flags=
- ncbi_rp_L_sep=$CONF_f_libpath
- if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $GIF_PATH/lib${bit64_sfx}; do
-       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
-       ncbi_rp_L_sep=" $CONF_f_libpath"
-    done
-    GIF_LIBPATH="${ncbi_rp_L_flags}"
- else
-    ncbi_rp_R_flags=
-    ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $GIF_PATH/lib${bit64_sfx}; do
-       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
-       ncbi_rp_L_sep=" $CONF_f_libpath"
-       x=`echo $x | sed -e "$ncbi_rpath_sed"`
-       ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
-       ncbi_rp_R_sep=:
-    done
-    GIF_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
- fi
-       elif test -d "$GIF_PATH/lib"; then
-          ncbi_rp_L_flags=
- ncbi_rp_L_sep=$CONF_f_libpath
- if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $GIF_PATH/lib; do
-       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
-       ncbi_rp_L_sep=" $CONF_f_libpath"
-    done
-    GIF_LIBPATH="${ncbi_rp_L_flags}"
- else
-    ncbi_rp_R_flags=
-    ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $GIF_PATH/lib; do
-       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
-       ncbi_rp_L_sep=" $CONF_f_libpath"
-       x=`echo $x | sed -e "$ncbi_rpath_sed"`
-       ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
-       ncbi_rp_R_sep=:
-    done
-    GIF_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
- fi
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
        fi
-       GIF_LIBS="$GIF_LIBPATH -lgif $X_LIBS -lX11"
-    else
-       GIF_INCLUDE=""
-       GIF_LIBS="-lgif $X_LIBS -lX11"
-       in_path=
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_freetype_fix_include" >&5
+echo "${ECHO_T}$ncbi_cv_lib_freetype_fix_include" >&6; }
+      if test "$ncbi_cv_lib_freetype_fix_include" = yes; then
+         FREETYPE_INCLUDE=`echo "$FREETYPE_INCLUDE" |\
+             sed -e 's:\(-I[^ ]*\)\(/freetype2\):\1 \1\2:g'`
     fi
-    echo "$as_me:$LINENO: checking for libgif$in_path" >&5
-echo $ECHO_N "checking for libgif$in_path... $ECHO_C" >&6
-if test "${ncbi_cv_lib_gif+set}" = set; then
+      { echo "$as_me:$LINENO: checking whether FreeType works" >&5
+echo $ECHO_N "checking whether FreeType works... $ECHO_C" >&6; }
+if test "${ncbi_cv_lib_freetype+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  CPPFLAGS=" $GIF_INCLUDE $orig_CPPFLAGS"
-       LIBS="$GIF_LIBS  $orig_LIBS"
+  CPPFLAGS="$FREETYPE_INCLUDE $orig_CPPFLAGS"
+          LIBS="$FREETYPE_LIBS $orig_LIBS"
        cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-extern "C" {
-                     #include <gif_lib.h>
-                     }
+#include <ft2build.h>
+                   #include FT_FREETYPE_H
 int
 main ()
 {
-GifFileType* fp = DGifOpenFileName("foo");
+FT_Select_Charmap(NULL, ft_encoding_unicode);
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ncbi_cv_lib_gif=yes
+  ncbi_cv_lib_freetype=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-ncbi_cv_lib_gif=no
+	ncbi_cv_lib_freetype=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_gif" >&5
-echo "${ECHO_T}$ncbi_cv_lib_gif" >&6
-    if test "$ncbi_cv_lib_gif" = "no"; then
-       if test "${with_gif:=no}" != no; then
-       { { echo "$as_me:$LINENO: error: --with-gif explicitly specified, but no usable version found." >&5
-echo "$as_me: error: --with-gif explicitly specified, but no usable version found." >&2;}
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_freetype" >&5
+echo "${ECHO_T}$ncbi_cv_lib_freetype" >&6; }
+      if test "$ncbi_cv_lib_freetype" = no; then
+         if test "${with_freetype:=no}" != no; then
+       { { echo "$as_me:$LINENO: error: --with-freetype explicitly specified, but no usable version found." >&5
+echo "$as_me: error: --with-freetype explicitly specified, but no usable version found." >&2;}
+   { (exit 1); exit 1; }; }
+    fi
+      fi
+   else
+      if test "${with_freetype:=no}" != no; then
+       { { echo "$as_me:$LINENO: error: --with-freetype explicitly specified, but no usable version found." >&5
+echo "$as_me: error: --with-freetype explicitly specified, but no usable version found." >&2;}
    { (exit 1); exit 1; }; }
     fi
     fi
  fi
- if test "$with_gif" = "no"; then
-    GIF_PATH="No_GIF"
-    GIF_INCLUDE=
-    GIF_LIBS=
+if test "$with_freetype" = "no" ; then
+   FREETYPE_PATH="No_FREETYPE"
+   FREETYPE_INCLUDE=
+   FREETYPE_LIBS=
+else
+             WithPackages="$WithPackages${WithPackagesSep}FreeType"; WithPackagesSep=" "
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_FREETYPE 1
+_ACEOF
+
+fi
+
+case "$with_ftgl" in
+   yes | '' ) ;;
+   *        ) FTGL_PATH=$with_ftgl ;;
+esac
+
+if test -d "$FTGL_PATH"; then
+   ncbi_fix_dir_tmp=`if cd $FTGL_PATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
+ case "$ncbi_fix_dir_tmp" in
+    /.*) ncbi_fix_dir_tmp2=`cd $FTGL_PATH && $smart_pwd 2>/dev/null`
+         if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
+            FTGL_PATH=$ncbi_fix_dir_tmp2
+         else
+            case "$FTGL_PATH" in
+               /*) ;;
+               * ) FTGL_PATH=$ncbi_fix_dir_tmp ;;
+            esac
+         fi
+         ;;
+    /*) FTGL_PATH=$ncbi_fix_dir_tmp ;;
+ esac
+fi
+if test -d "$FTGL_PATH/${compiler_vpfx}${DEBUG_SFX}${bit64_sfx}/lib"; then
+   FTGL_LIBDIR=$FTGL_PATH/${compiler_vpfx}${DEBUG_SFX}${bit64_sfx}/lib
+elif test -d "$FTGL_PATH/${compiler_pfx}${DEBUG_SFX}${bit64_sfx}/lib"; then
+   FTGL_LIBDIR=$FTGL_PATH/${compiler_pfx}${DEBUG_SFX}${bit64_sfx}/lib
+fi
+ncbi_fix_dir_tmp=`if cd $FTGL_LIBDIR; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
+ case "$ncbi_fix_dir_tmp" in
+    /.*) ncbi_fix_dir_tmp2=`cd $FTGL_LIBDIR && $smart_pwd 2>/dev/null`
+         if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
+            FTGL_LIBDIR=$ncbi_fix_dir_tmp2
  else
-              WithPackages="$WithPackages${WithPackagesSep}GIF"; WithPackagesSep=" "
-    GIF_INCLUDE=" $GIF_INCLUDE"
-
-cat >>confdefs.h <<\_ACEOF
-#define HAVE_LIBGIF 1
-_ACEOF
-
+            case "$FTGL_LIBDIR" in
+               /*) ;;
+               * ) FTGL_LIBDIR=$ncbi_fix_dir_tmp ;;
+            esac
  fi
-
-
-
+         ;;
+    /*) FTGL_LIBDIR=$ncbi_fix_dir_tmp ;;
+ esac
+ncbi_rp_L_flags=
+ ncbi_rp_L_sep=$CONF_f_libpath
+ if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
+    for x in $FTGL_LIBDIR; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+    done
+    FTGL_LIBPATH="${ncbi_rp_L_flags}"
 else
-
-cat >>confdefs.h <<\_ACEOF
-#define HAVE_LIBGIF 1
-_ACEOF
-
-   GIF_INCLUDE=$UNGIF_INCLUDE
-   GIF_LIBS=$UNGIF_LIBS
+    ncbi_rp_R_flags=
+    ncbi_rp_R_sep=" $CONF_f_runpath"
+    for x in $FTGL_LIBDIR; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+       x=`echo $x | sed -e "$ncbi_rpath_sed"`
+       ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
+       ncbi_rp_R_sep=:
+    done
+    FTGL_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
 fi
 
-test -n "$x_libraries"  &&  : ${XPM_PATH=`dirname "$x_libraries"`}
-if test "$with_xpm" != "no"; then
-    case "$with_xpm" in
+if test "$with_ftgl" != "no"; then
+    case "$with_ftgl" in
        yes | "" ) ;;
-       *        ) XPM_PATH=$with_xpm ;;
+       *        ) FTGL_PATH=$with_ftgl ;;
     esac
-    if test -d "$XPM_PATH"; then
-       in_path=" in $XPM_PATH"
-       if test -z "$XPM_INCLUDE" -a -d "$XPM_PATH/include"; then
-          XPM_INCLUDE="-I$XPM_PATH/include"
+    if test -d "$FTGL_PATH"; then
+       in_path=" in $FTGL_PATH"
+       if test -z "$FTGL_INCLUDE" -a -d "$FTGL_PATH/include"; then
+          FTGL_INCLUDE="-I$FTGL_PATH/include"
        fi
-       if test -n "$XPM_LIBPATH"; then
+       if test -n "$FTGL_LIBPATH"; then
           :
-       elif test -d "$XPM_PATH/lib${bit64_sfx}"; then
+       elif test -d "$FTGL_PATH/lib${bit64_sfx}"; then
           ncbi_rp_L_flags=
  ncbi_rp_L_sep=$CONF_f_libpath
  if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $XPM_PATH/lib${bit64_sfx}; do
+    for x in $FTGL_PATH/lib${bit64_sfx}; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
     done
-    XPM_LIBPATH="${ncbi_rp_L_flags}"
+    FTGL_LIBPATH="${ncbi_rp_L_flags}"
  else
     ncbi_rp_R_flags=
     ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $XPM_PATH/lib${bit64_sfx}; do
+    for x in $FTGL_PATH/lib${bit64_sfx}; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
        x=`echo $x | sed -e "$ncbi_rpath_sed"`
        ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
        ncbi_rp_R_sep=:
     done
-    XPM_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+    FTGL_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
  fi
-       elif test -d "$XPM_PATH/lib"; then
+       elif test -d "$FTGL_PATH/lib"; then
           ncbi_rp_L_flags=
  ncbi_rp_L_sep=$CONF_f_libpath
  if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $XPM_PATH/lib; do
+    for x in $FTGL_PATH/lib; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
     done
-    XPM_LIBPATH="${ncbi_rp_L_flags}"
+    FTGL_LIBPATH="${ncbi_rp_L_flags}"
  else
     ncbi_rp_R_flags=
     ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $XPM_PATH/lib; do
+    for x in $FTGL_PATH/lib; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
        x=`echo $x | sed -e "$ncbi_rpath_sed"`
        ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
        ncbi_rp_R_sep=:
     done
-    XPM_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+    FTGL_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
  fi
        fi
-       XPM_LIBS="$XPM_LIBPATH -lXpm $X_LIBS -lX11"
+       FTGL_LIBS="$FTGL_LIBPATH -lftgl $FREETYPE_LIBS"
     else
-       XPM_INCLUDE=""
-       XPM_LIBS="-lXpm $X_LIBS -lX11"
+       FTGL_INCLUDE=""
+       FTGL_LIBS="-lftgl $FREETYPE_LIBS"
        in_path=
     fi
-    echo "$as_me:$LINENO: checking for libXpm$in_path" >&5
-echo $ECHO_N "checking for libXpm$in_path... $ECHO_C" >&6
-if test "${ncbi_cv_lib_xpm+set}" = set; then
+    { echo "$as_me:$LINENO: checking for libftgl$in_path" >&5
+echo $ECHO_N "checking for libftgl$in_path... $ECHO_C" >&6; }
+if test "${ncbi_cv_lib_ftgl+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  CPPFLAGS="$X_CFLAGS $XPM_INCLUDE $orig_CPPFLAGS"
-       LIBS="$XPM_LIBS  $orig_LIBS"
+  CPPFLAGS="$FREETYPE_INCLUDE $FTGL_INCLUDE $orig_CPPFLAGS"
+       LIBS="$FTGL_LIBS  $orig_LIBS"
        cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-#include <X11/xpm.h>
+#include <FTGL/ftgl.h>
 int
 main ()
 {
-XpmImage image; XpmInfo info;
-     XpmReadFileToXpmImage("foo", &image, &info);
+FTSimpleLayout layout;
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ncbi_cv_lib_xpm=yes
+  ncbi_cv_lib_ftgl=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-ncbi_cv_lib_xpm=no
+	ncbi_cv_lib_ftgl=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_xpm" >&5
-echo "${ECHO_T}$ncbi_cv_lib_xpm" >&6
-    if test "$ncbi_cv_lib_xpm" = "no"; then
-       if test "${with_xpm:=no}" != no; then
-       { { echo "$as_me:$LINENO: error: --with-xpm explicitly specified, but no usable version found." >&5
-echo "$as_me: error: --with-xpm explicitly specified, but no usable version found." >&2;}
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_ftgl" >&5
+echo "${ECHO_T}$ncbi_cv_lib_ftgl" >&6; }
+    if test "$ncbi_cv_lib_ftgl" = "no"; then
+       if test "${with_ftgl:=no}" != no; then
+       { { echo "$as_me:$LINENO: error: --with-ftgl explicitly specified, but no usable version found." >&5
+echo "$as_me: error: --with-ftgl explicitly specified, but no usable version found." >&2;}
    { (exit 1); exit 1; }; }
     fi
     fi
  fi
- if test "$with_xpm" = "no"; then
-    XPM_PATH="No_XPM"
-    XPM_INCLUDE=
-    XPM_LIBS=
+ if test "$with_ftgl" = "no"; then
+    FTGL_PATH="No_FTGL"
+    FTGL_INCLUDE=
+    FTGL_LIBS=
  else
-              WithPackages="$WithPackages${WithPackagesSep}XPM"; WithPackagesSep=" "
-    XPM_INCLUDE="$X_CFLAGS $XPM_INCLUDE"
+              WithPackages="$WithPackages${WithPackagesSep}FTGL"; WithPackagesSep=" "
+    FTGL_INCLUDE="$FREETYPE_INCLUDE $FTGL_INCLUDE"
 
 cat >>confdefs.h <<\_ACEOF
-#define HAVE_LIBXPM 1
+#define HAVE_LIBFTGL 1
 _ACEOF
 
  fi
 
 
 
-# The use of X_CFLAGS is probably redundant, but shouldn't hurt.
 
-## FreeType and FTGL
-if test "$with_freetype" != "no" ; then
-   : ${FREETYPE_BINPATH=$FREETYPE_PATH/bin}
-   # Extract the first word of "freetype-config", so it can be a program name with args.
-set dummy freetype-config; ac_word=$2
-echo "$as_me:$LINENO: checking for $ac_word" >&5
-echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
-if test "${ac_cv_path_freetype_config+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  case $freetype_config in
-  [\\/]* | ?:[\\/]*)
-  ac_cv_path_freetype_config="$freetype_config" # Let the user override the test with a path.
-  ;;
-  *)
-  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
-as_dummy="$FREETYPE_BINPATH:$PATH"
-for as_dir in $as_dummy
-do
-  IFS=$as_save_IFS
-  test -z "$as_dir" && as_dir=.
-  for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
-    ac_cv_path_freetype_config="$as_dir/$ac_word$ac_exec_ext"
-    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
-    break 2
-  fi
-done
-done
 
-  ;;
+if test "$with_magic" != "no"; then
+    case "$with_magic" in
+       yes | "" ) ;;
+       *        ) MAGIC_PATH=$with_magic ;;
 esac
+    if test -d "$MAGIC_PATH"; then
+       in_path=" in $MAGIC_PATH"
+       if test -z "$MAGIC_INCLUDE" -a -d "$MAGIC_PATH/include"; then
+          MAGIC_INCLUDE="-I$MAGIC_PATH/include"
 fi
-freetype_config=$ac_cv_path_freetype_config
-
-if test -n "$freetype_config"; then
-  echo "$as_me:$LINENO: result: $freetype_config" >&5
-echo "${ECHO_T}$freetype_config" >&6
-else
-  echo "$as_me:$LINENO: result: no" >&5
-echo "${ECHO_T}no" >&6
-fi
-
-   if test -n "$freetype_config" ; then
-      : ${FREETYPE_BINPATH=`dirname $freetype_config`}
-      : ${FREETYPE_INCLUDE=`$freetype_config --cflags`}
-      if test -z "${FREETYPE_LIBS+set}"; then
+       if test -n "$MAGIC_LIBPATH"; then
+          :
+       elif test -d "$MAGIC_PATH/lib${bit64_sfx}"; then
+          ncbi_rp_L_flags=
+ ncbi_rp_L_sep=$CONF_f_libpath
     if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    FREETYPE_LIBS=`$freetype_config --libs | sed -e "$no_usr_lib"`
+    for x in $MAGIC_PATH/lib${bit64_sfx}; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+    done
+    MAGIC_LIBPATH="${ncbi_rp_L_flags}"
  else
-    FREETYPE_LIBS=
-    ncbi_rp_L_sep=
     ncbi_rp_R_flags=
     ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in `$freetype_config --libs | sed -e "$no_usr_lib"`; do
-       case "$x" in
-          -L*)
-             FREETYPE_LIBS="$FREETYPE_LIBS${ncbi_rp_L_sep}$x"
-             x=`echo $x | sed -e "s/^-L//; $ncbi_rpath_sed"`
+    for x in $MAGIC_PATH/lib${bit64_sfx}; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+       x=`echo $x | sed -e "$ncbi_rpath_sed"`
              ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
              ncbi_rp_R_sep=:
-             ;;
-          *)
-             FREETYPE_LIBS="$FREETYPE_LIBS${ncbi_rp_R_flags}${ncbi_rp_L_sep}$x"
-             ncbi_rp_R_flags=
-             ncbi_rp_R_sep=" $CONF_f_runpath"
-             ;;
-       esac
-       ncbi_rp_L_sep=" "
     done
-    FREETYPE_LIBS="$FREETYPE_LIBS${ncbi_rp_R_flags}"
- fi
- fi
-      case "$host_os:$bit64_sfx" in
-         solaris*:64 )
-            ftprefix=`$freetype_config --exec-prefix`
-            if test -d "$ftprefix/lib/64"; then
-               FREETYPE_LIBS=`echo $FREETYPE_LIBS \
-                   | sed -e "s,$ftprefix/lib ,$ftprefix/lib/64 ,g"`
-            fi
-            ;;
-      esac
-      echo "$as_me:$LINENO: checking whether FREETYPE_INCLUDE needs doctoring" >&5
-echo $ECHO_N "checking whether FREETYPE_INCLUDE needs doctoring... $ECHO_C" >&6
-if test "${ncbi_cv_lib_freetype_fix_include+set}" = set; then
-  echo $ECHO_N "(cached) $ECHO_C" >&6
-else
-  CPPFLAGS="$FREETYPE_INCLUDE $orig_CPPFLAGS"
-          cat >conftest.$ac_ext <<_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h >>conftest.$ac_ext
-cat >>conftest.$ac_ext <<_ACEOF
-/* end confdefs.h.  */
-#include <ft2build.h>
-int
-main ()
-{
-
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext
-if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
-  (eval $ac_compile) 2>conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
-  ac_status=$?
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); }; } &&
-	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
-  ac_status=$?
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); }; }; then
-  ncbi_cv_lib_freetype_fix_include=no
+    MAGIC_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+ fi
+       elif test -d "$MAGIC_PATH/lib"; then
+          ncbi_rp_L_flags=
+ ncbi_rp_L_sep=$CONF_f_libpath
+ if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
+    for x in $MAGIC_PATH/lib; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+    done
+    MAGIC_LIBPATH="${ncbi_rp_L_flags}"
 else
-  echo "$as_me: failed program was:" >&5
-sed 's/^/| /' conftest.$ac_ext >&5
-
-ncbi_cv_lib_freetype_fix_include=yes
+    ncbi_rp_R_flags=
+    ncbi_rp_R_sep=" $CONF_f_runpath"
+    for x in $MAGIC_PATH/lib; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+       x=`echo $x | sed -e "$ncbi_rpath_sed"`
+       ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
+       ncbi_rp_R_sep=:
+    done
+    MAGIC_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
 fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_freetype_fix_include" >&5
-echo "${ECHO_T}$ncbi_cv_lib_freetype_fix_include" >&6
-      if test "$ncbi_cv_lib_freetype_fix_include" = yes; then
-         FREETYPE_INCLUDE=`echo "$FREETYPE_INCLUDE" |\
-             sed -e 's:\(-I[^ ]*\)\(/freetype2\):\1 \1\2:g'`
+       MAGIC_LIBS="$MAGIC_LIBPATH -lmagic "
+    else
+       MAGIC_INCLUDE=""
+       MAGIC_LIBS="-lmagic "
+       in_path=
       fi
-      echo "$as_me:$LINENO: checking whether FreeType works" >&5
-echo $ECHO_N "checking whether FreeType works... $ECHO_C" >&6
-if test "${ncbi_cv_lib_freetype+set}" = set; then
+    { echo "$as_me:$LINENO: checking for libmagic$in_path" >&5
+echo $ECHO_N "checking for libmagic$in_path... $ECHO_C" >&6; }
+if test "${ncbi_cv_lib_magic+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  CPPFLAGS="$FREETYPE_INCLUDE $orig_CPPFLAGS"
-          LIBS="$FREETYPE_LIBS $orig_LIBS"
+  CPPFLAGS=" $MAGIC_INCLUDE $orig_CPPFLAGS"
+       LIBS="$MAGIC_LIBS  $orig_LIBS"
           cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-#include <ft2build.h>
-                   #include FT_FREETYPE_H
+#include <magic.h>
 int
 main ()
 {
-FT_Select_Charmap(NULL, ft_encoding_unicode);
+magic_t m = magic_open(17);
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ncbi_cv_lib_freetype=yes
+  ncbi_cv_lib_magic=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-ncbi_cv_lib_freetype=no
+	ncbi_cv_lib_magic=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_freetype" >&5
-echo "${ECHO_T}$ncbi_cv_lib_freetype" >&6
-      if test "$ncbi_cv_lib_freetype" = no; then
-         if test "${with_freetype:=no}" != no; then
-       { { echo "$as_me:$LINENO: error: --with-freetype explicitly specified, but no usable version found." >&5
-echo "$as_me: error: --with-freetype explicitly specified, but no usable version found." >&2;}
-   { (exit 1); exit 1; }; }
-    fi
-      fi
-   else
-      if test "${with_freetype:=no}" != no; then
-       { { echo "$as_me:$LINENO: error: --with-freetype explicitly specified, but no usable version found." >&5
-echo "$as_me: error: --with-freetype explicitly specified, but no usable version found." >&2;}
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_magic" >&5
+echo "${ECHO_T}$ncbi_cv_lib_magic" >&6; }
+    if test "$ncbi_cv_lib_magic" = "no"; then
+       if test "${with_magic:=no}" != no; then
+       { { echo "$as_me:$LINENO: error: --with-magic explicitly specified, but no usable version found." >&5
+echo "$as_me: error: --with-magic explicitly specified, but no usable version found." >&2;}
    { (exit 1); exit 1; }; }
     fi
    fi
 fi
-if test "$with_freetype" = "no" ; then
-   FREETYPE_PATH="No_FREETYPE"
-   FREETYPE_INCLUDE=
-   FREETYPE_LIBS=
+ if test "$with_magic" = "no"; then
+    MAGIC_PATH="No_MAGIC"
+    MAGIC_INCLUDE=
+    MAGIC_LIBS=
 else
-             WithPackages="$WithPackages${WithPackagesSep}FreeType"; WithPackagesSep=" "
+              WithPackages="$WithPackages${WithPackagesSep}MAGIC"; WithPackagesSep=" "
+    MAGIC_INCLUDE=" $MAGIC_INCLUDE"
 
 cat >>confdefs.h <<\_ACEOF
-#define HAVE_FREETYPE 1
+#define HAVE_LIBMAGIC 1
 _ACEOF
 
 fi
 
-case "$with_ftgl" in
-   yes | '' ) : ${FTGL_PATH=$NCBI/ftgl} ;;
-   *        ) FTGL_PATH=$with_ftgl ;;
-esac
 
-if test -d "$FTGL_PATH"; then
-   ncbi_fix_dir_tmp=`if cd $FTGL_PATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
+
+
+
+# Mimetic
+case "$with_mimetic" in
+   yes | '' ) ;;
+   *        ) MIMETIC_PATH=$with_mimetic ;;
+esac
+if test -d "$MIMETIC_PATH"; then
+   ncbi_fix_dir_tmp=`if cd $MIMETIC_PATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
  case "$ncbi_fix_dir_tmp" in
-    /.*) ncbi_fix_dir_tmp2=`cd $FTGL_PATH && $smart_pwd 2>/dev/null`
+    /.*) ncbi_fix_dir_tmp2=`cd $MIMETIC_PATH && $smart_pwd 2>/dev/null`
          if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
-            FTGL_PATH=$ncbi_fix_dir_tmp2
+            MIMETIC_PATH=$ncbi_fix_dir_tmp2
          else
-            case "$FTGL_PATH" in
+            case "$MIMETIC_PATH" in
                /*) ;;
-               * ) FTGL_PATH=$ncbi_fix_dir_tmp ;;
+               * ) MIMETIC_PATH=$ncbi_fix_dir_tmp ;;
             esac
          fi
          ;;
-    /*) FTGL_PATH=$ncbi_fix_dir_tmp ;;
+    /*) MIMETIC_PATH=$ncbi_fix_dir_tmp ;;
  esac
 fi
-if test -d "$FTGL_PATH/${compiler_vpfx}${DEBUG_SFX}${bit64_sfx}/lib"; then
-   FTGL_LIBDIR=$FTGL_PATH/${compiler_vpfx}${DEBUG_SFX}${bit64_sfx}/lib
-elif test -d "$FTGL_PATH/${compiler_pfx}${DEBUG_SFX}${bit64_sfx}/lib"; then
-   FTGL_LIBDIR=$FTGL_PATH/${compiler_pfx}${DEBUG_SFX}${bit64_sfx}/lib
-fi
-ncbi_fix_dir_tmp=`if cd $FTGL_LIBDIR; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
- case "$ncbi_fix_dir_tmp" in
-    /.*) ncbi_fix_dir_tmp2=`cd $FTGL_LIBDIR && $smart_pwd 2>/dev/null`
-         if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
-            FTGL_LIBDIR=$ncbi_fix_dir_tmp2
-         else
-            case "$FTGL_LIBDIR" in
-               /*) ;;
-               * ) FTGL_LIBDIR=$ncbi_fix_dir_tmp ;;
-            esac
+for d in "$MIMETIC_LIBDIR" \
+         "$MIMETIC_PATH/${compiler_vpfx}${DEBUG_SFX}${bit64_sfx}/lib" \
+         "$MIMETIC_PATH/${compiler_pfx}${DEBUG_SFX}${bit64_sfx}/lib" \
+         "$MIMETIC_PATH/lib${bit64_sfx}" \
+         "$MIMETIC_PATH/${compiler_vpfx}${DEBUG_SFX}/lib" \
+         "$MIMETIC_PATH/${compiler_pfx}${DEBUG_SFX}/lib" \
+         "$MIMETIC_PATH/lib"; do
+   if test -d "$d"; then
+      MIMETIC_LIBDIR=$d
+      break
          fi
-         ;;
-    /*) FTGL_LIBDIR=$ncbi_fix_dir_tmp ;;
- esac
+done
 ncbi_rp_L_flags=
  ncbi_rp_L_sep=$CONF_f_libpath
  if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $FTGL_LIBDIR; do
+    for x in $MIMETIC_LIBDIR; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
     done
-    FTGL_LIBPATH="${ncbi_rp_L_flags}"
+    MIMETIC_LIBPATH="${ncbi_rp_L_flags}"
  else
     ncbi_rp_R_flags=
     ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $FTGL_LIBDIR; do
+    for x in $MIMETIC_LIBDIR; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
        x=`echo $x | sed -e "$ncbi_rpath_sed"`
        ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
        ncbi_rp_R_sep=:
     done
-    FTGL_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+    MIMETIC_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
  fi
 
-if test "$with_ftgl" != "no"; then
-    case "$with_ftgl" in
+if test "$with_mimetic" != "no"; then
+    case "$with_mimetic" in
        yes | "" ) ;;
-       *        ) FTGL_PATH=$with_ftgl ;;
+       *        ) MIMETIC_PATH=$with_mimetic ;;
     esac
-    if test -d "$FTGL_PATH"; then
-       in_path=" in $FTGL_PATH"
-       if test -z "$FTGL_INCLUDE" -a -d "$FTGL_PATH/include"; then
-          FTGL_INCLUDE="-I$FTGL_PATH/include"
+    if test -d "$MIMETIC_PATH"; then
+       in_path=" in $MIMETIC_PATH"
+       if test -z "$MIMETIC_INCLUDE" -a -d "$MIMETIC_PATH/include"; then
+          MIMETIC_INCLUDE="-I$MIMETIC_PATH/include"
        fi
-       if test -n "$FTGL_LIBPATH"; then
+       if test -n "$MIMETIC_LIBPATH"; then
           :
-       elif test -d "$FTGL_PATH/lib${bit64_sfx}"; then
+       elif test -d "$MIMETIC_PATH/lib${bit64_sfx}"; then
           ncbi_rp_L_flags=
  ncbi_rp_L_sep=$CONF_f_libpath
  if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $FTGL_PATH/lib${bit64_sfx}; do
+    for x in $MIMETIC_PATH/lib${bit64_sfx}; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
     done
-    FTGL_LIBPATH="${ncbi_rp_L_flags}"
+    MIMETIC_LIBPATH="${ncbi_rp_L_flags}"
  else
     ncbi_rp_R_flags=
     ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $FTGL_PATH/lib${bit64_sfx}; do
+    for x in $MIMETIC_PATH/lib${bit64_sfx}; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
        x=`echo $x | sed -e "$ncbi_rpath_sed"`
        ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
        ncbi_rp_R_sep=:
     done
-    FTGL_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+    MIMETIC_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
  fi
-       elif test -d "$FTGL_PATH/lib"; then
+       elif test -d "$MIMETIC_PATH/lib"; then
           ncbi_rp_L_flags=
  ncbi_rp_L_sep=$CONF_f_libpath
  if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $FTGL_PATH/lib; do
+    for x in $MIMETIC_PATH/lib; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
     done
-    FTGL_LIBPATH="${ncbi_rp_L_flags}"
+    MIMETIC_LIBPATH="${ncbi_rp_L_flags}"
  else
     ncbi_rp_R_flags=
     ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $FTGL_PATH/lib; do
+    for x in $MIMETIC_PATH/lib; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
        x=`echo $x | sed -e "$ncbi_rpath_sed"`
        ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
        ncbi_rp_R_sep=:
     done
-    FTGL_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+    MIMETIC_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
  fi
        fi
-       FTGL_LIBS="$FTGL_LIBPATH -lftgl $FREETYPE_LIBS"
+       MIMETIC_LIBS="$MIMETIC_LIBPATH -lmimetic "
     else
-       FTGL_INCLUDE=""
-       FTGL_LIBS="-lftgl $FREETYPE_LIBS"
+       MIMETIC_INCLUDE=""
+       MIMETIC_LIBS="-lmimetic "
        in_path=
     fi
-    echo "$as_me:$LINENO: checking for libftgl$in_path" >&5
-echo $ECHO_N "checking for libftgl$in_path... $ECHO_C" >&6
-if test "${ncbi_cv_lib_ftgl+set}" = set; then
+    { echo "$as_me:$LINENO: checking for libmimetic$in_path" >&5
+echo $ECHO_N "checking for libmimetic$in_path... $ECHO_C" >&6; }
+if test "${ncbi_cv_lib_mimetic+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  CPPFLAGS="$FREETYPE_INCLUDE $FTGL_INCLUDE $orig_CPPFLAGS"
-       LIBS="$FTGL_LIBS  $orig_LIBS"
+  CPPFLAGS=" $MIMETIC_INCLUDE $orig_CPPFLAGS"
+       LIBS="$MIMETIC_LIBS  $orig_LIBS"
        cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-#include <FTGL/ftgl.h>
+#include <mimetic/mimetic.h>
 int
 main ()
 {
-FTSimpleLayout layout;
+mimetic::MimeEntity me;
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ncbi_cv_lib_ftgl=yes
+  ncbi_cv_lib_mimetic=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-ncbi_cv_lib_ftgl=no
+	ncbi_cv_lib_mimetic=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_ftgl" >&5
-echo "${ECHO_T}$ncbi_cv_lib_ftgl" >&6
-    if test "$ncbi_cv_lib_ftgl" = "no"; then
-       if test "${with_ftgl:=no}" != no; then
-       { { echo "$as_me:$LINENO: error: --with-ftgl explicitly specified, but no usable version found." >&5
-echo "$as_me: error: --with-ftgl explicitly specified, but no usable version found." >&2;}
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_mimetic" >&5
+echo "${ECHO_T}$ncbi_cv_lib_mimetic" >&6; }
+    if test "$ncbi_cv_lib_mimetic" = "no"; then
+       if test "${with_mimetic:=no}" != no; then
+       { { echo "$as_me:$LINENO: error: --with-mimetic explicitly specified, but no usable version found." >&5
+echo "$as_me: error: --with-mimetic explicitly specified, but no usable version found." >&2;}
    { (exit 1); exit 1; }; }
     fi
     fi
  fi
- if test "$with_ftgl" = "no"; then
-    FTGL_PATH="No_FTGL"
-    FTGL_INCLUDE=
-    FTGL_LIBS=
+ if test "$with_mimetic" = "no"; then
+    MIMETIC_PATH="No_MIMETIC"
+    MIMETIC_INCLUDE=
+    MIMETIC_LIBS=
+ else
+              WithPackages="$WithPackages${WithPackagesSep}MIMETIC"; WithPackagesSep=" "
+    MIMETIC_INCLUDE=" $MIMETIC_INCLUDE"
+
+cat >>confdefs.h <<\_ACEOF
+#define HAVE_LIBMIMETIC 1
+_ACEOF
+
+ fi
+
+
+
+
+
+# gSOAP++
+case "$with_gsoap" in
+   yes | '' ) ;;
+   *        ) GSOAP_PATH=$with_gsoap ;;
+esac
+if test -d "$GSOAP_PATH"; then
+   ncbi_fix_dir_tmp=`if cd $GSOAP_PATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
+ case "$ncbi_fix_dir_tmp" in
+    /.*) ncbi_fix_dir_tmp2=`cd $GSOAP_PATH && $smart_pwd 2>/dev/null`
+         if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
+            GSOAP_PATH=$ncbi_fix_dir_tmp2
+         else
+            case "$GSOAP_PATH" in
+               /*) ;;
+               * ) GSOAP_PATH=$ncbi_fix_dir_tmp ;;
+            esac
+         fi
+         ;;
+    /*) GSOAP_PATH=$ncbi_fix_dir_tmp ;;
+ esac
+fi
+for d in "$GSOAP_LIBDIR" \
+         "$GSOAP_PATH/${compiler_vpfx}${DEBUG_SFX}${mt_sfx}${bit64_sfx}/lib" \
+         "$GSOAP_PATH/${compiler_pfx}${DEBUG_SFX}${mt_sfx}${bit64_sfx}/lib" \
+         "$GSOAP_PATH/lib${bit64_sfx}" \
+         "$GSOAP_PATH/${compiler_vpfx}${DEBUG_SFX}${mt_sfx}/lib" \
+         "$GSOAP_PATH/${compiler_pfx}${DEBUG_SFX}${mt_sfx}/lib" \
+         "$GSOAP_PATH/lib"; do
+   if test -d "$d"; then
+      GSOAP_LIBDIR=$d
+      ncbi_fix_dir_tmp=`if cd $GSOAP_LIBDIR; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
+ case "$ncbi_fix_dir_tmp" in
+    /.*) ncbi_fix_dir_tmp2=`cd $GSOAP_LIBDIR && $smart_pwd 2>/dev/null`
+         if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
+            GSOAP_LIBDIR=$ncbi_fix_dir_tmp2
+         else
+            case "$GSOAP_LIBDIR" in
+               /*) ;;
+               * ) GSOAP_LIBDIR=$ncbi_fix_dir_tmp ;;
+            esac
+         fi
+         ;;
+    /*) GSOAP_LIBDIR=$ncbi_fix_dir_tmp ;;
+ esac
+      break
+   fi
+done
+ncbi_rp_L_flags=
+ ncbi_rp_L_sep=$CONF_f_libpath
+ if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
+    for x in $GSOAP_LIBDIR; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+    done
+    GSOAP_LIBPATH="${ncbi_rp_L_flags}"
+ else
+    ncbi_rp_R_flags=
+    ncbi_rp_R_sep=" $CONF_f_runpath"
+    for x in $GSOAP_LIBDIR; do
+       ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
+       ncbi_rp_L_sep=" $CONF_f_libpath"
+       x=`echo $x | sed -e "$ncbi_rpath_sed"`
+       ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
+       ncbi_rp_R_sep=:
+    done
+    GSOAP_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+ fi
+
+: ${GSOAP_BINDIR=`dirname "$GSOAP_LIBDIR"`/bin}
+# Extract the first word of "soapcpp2", so it can be a program name with args.
+set dummy soapcpp2; ac_word=$2
+{ echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
+if test "${ac_cv_path_GSOAP_SOAPCPP2+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  case $GSOAP_SOAPCPP2 in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_GSOAP_SOAPCPP2="$GSOAP_SOAPCPP2" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+as_dummy="$GSOAP_BINDIR:$PATH"
+for as_dir in $as_dummy
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+  for ac_exec_ext in '' $ac_executable_extensions; do
+  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; }; then
+    ac_cv_path_GSOAP_SOAPCPP2="$as_dir/$ac_word$ac_exec_ext"
+    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+done
+IFS=$as_save_IFS
+
+  ;;
+esac
+fi
+GSOAP_SOAPCPP2=$ac_cv_path_GSOAP_SOAPCPP2
+if test -n "$GSOAP_SOAPCPP2"; then
+  { echo "$as_me:$LINENO: result: $GSOAP_SOAPCPP2" >&5
+echo "${ECHO_T}$GSOAP_SOAPCPP2" >&6; }
  else
-              WithPackages="$WithPackages${WithPackagesSep}FTGL"; WithPackagesSep=" "
-    FTGL_INCLUDE="$FREETYPE_INCLUDE $FTGL_INCLUDE"
+  { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
+fi
 
-cat >>confdefs.h <<\_ACEOF
-#define HAVE_LIBFTGL 1
-_ACEOF
 
+# Extract the first word of "wsdl2h", so it can be a program name with args.
+set dummy wsdl2h; ac_word=$2
+{ echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
+if test "${ac_cv_path_GSOAP_WSDL2H+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  case $GSOAP_WSDL2H in
+  [\\/]* | ?:[\\/]*)
+  ac_cv_path_GSOAP_WSDL2H="$GSOAP_WSDL2H" # Let the user override the test with a path.
+  ;;
+  *)
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+as_dummy="$GSOAP_BINDIR:$PATH"
+for as_dir in $as_dummy
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+  for ac_exec_ext in '' $ac_executable_extensions; do
+  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; }; then
+    ac_cv_path_GSOAP_WSDL2H="$as_dir/$ac_word$ac_exec_ext"
+    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
+    break 2
  fi
+done
+done
+IFS=$as_save_IFS
 
+  ;;
+esac
+fi
+GSOAP_WSDL2H=$ac_cv_path_GSOAP_WSDL2H
+if test -n "$GSOAP_WSDL2H"; then
+  { echo "$as_me:$LINENO: result: $GSOAP_WSDL2H" >&5
+echo "${ECHO_T}$GSOAP_WSDL2H" >&6; }
+else
+  { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
+fi
 
 
 
-
-if test "$with_magic" != "no"; then
-    case "$with_magic" in
+if test "$with_gsoap" != "no"; then
+    case "$with_gsoap" in
        yes | "" ) ;;
-       *        ) MAGIC_PATH=$with_magic ;;
+       *        ) GSOAP_PATH=$with_gsoap ;;
     esac
-    if test -d "$MAGIC_PATH"; then
-       in_path=" in $MAGIC_PATH"
-       if test -z "$MAGIC_INCLUDE" -a -d "$MAGIC_PATH/include"; then
-          MAGIC_INCLUDE="-I$MAGIC_PATH/include"
+    if test -d "$GSOAP_PATH"; then
+       in_path=" in $GSOAP_PATH"
+       if test -z "$GSOAP_INCLUDE" -a -d "$GSOAP_PATH/include"; then
+          GSOAP_INCLUDE="-I$GSOAP_PATH/include"
        fi
-       if test -n "$MAGIC_LIBPATH"; then
+       if test -n "$GSOAP_LIBPATH"; then
           :
-       elif test -d "$MAGIC_PATH/lib${bit64_sfx}"; then
+       elif test -d "$GSOAP_PATH/lib${bit64_sfx}"; then
           ncbi_rp_L_flags=
  ncbi_rp_L_sep=$CONF_f_libpath
  if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $MAGIC_PATH/lib${bit64_sfx}; do
+    for x in $GSOAP_PATH/lib${bit64_sfx}; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
     done
-    MAGIC_LIBPATH="${ncbi_rp_L_flags}"
+    GSOAP_LIBPATH="${ncbi_rp_L_flags}"
  else
     ncbi_rp_R_flags=
     ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $MAGIC_PATH/lib${bit64_sfx}; do
+    for x in $GSOAP_PATH/lib${bit64_sfx}; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
        x=`echo $x | sed -e "$ncbi_rpath_sed"`
        ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
        ncbi_rp_R_sep=:
     done
-    MAGIC_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+    GSOAP_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
  fi
-       elif test -d "$MAGIC_PATH/lib"; then
+       elif test -d "$GSOAP_PATH/lib"; then
           ncbi_rp_L_flags=
  ncbi_rp_L_sep=$CONF_f_libpath
  if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $MAGIC_PATH/lib; do
+    for x in $GSOAP_PATH/lib; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
     done
-    MAGIC_LIBPATH="${ncbi_rp_L_flags}"
+    GSOAP_LIBPATH="${ncbi_rp_L_flags}"
  else
     ncbi_rp_R_flags=
     ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $MAGIC_PATH/lib; do
+    for x in $GSOAP_PATH/lib; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
        x=`echo $x | sed -e "$ncbi_rpath_sed"`
        ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
        ncbi_rp_R_sep=:
     done
-    MAGIC_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+    GSOAP_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
  fi
        fi
-       MAGIC_LIBS="$MAGIC_LIBPATH -lmagic "
+       GSOAP_LIBS="$GSOAP_LIBPATH -lgsoapssl++ $OPENSSL_LIBS $Z_LIBS"
     else
-       MAGIC_INCLUDE=""
-       MAGIC_LIBS="-lmagic "
+       GSOAP_INCLUDE=""
+       GSOAP_LIBS="-lgsoapssl++ $OPENSSL_LIBS $Z_LIBS"
        in_path=
     fi
-    echo "$as_me:$LINENO: checking for libmagic$in_path" >&5
-echo $ECHO_N "checking for libmagic$in_path... $ECHO_C" >&6
-if test "${ncbi_cv_lib_magic+set}" = set; then
+    { echo "$as_me:$LINENO: checking for libgsoapssl++$in_path" >&5
+echo $ECHO_N "checking for libgsoapssl++$in_path... $ECHO_C" >&6; }
+if test "${ncbi_cv_lib_gsoap+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  CPPFLAGS=" $MAGIC_INCLUDE $orig_CPPFLAGS"
-       LIBS="$MAGIC_LIBS  $orig_LIBS"
+  CPPFLAGS=" $GSOAP_INCLUDE $orig_CPPFLAGS"
+       LIBS="$GSOAP_LIBS  $orig_LIBS"
        cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-#include <magic.h>
+#include <stdsoap2.h>
+        SOAP_FMAC3 const char** SOAP_FMAC4 soap_faultcode(struct soap*)
+        { return NULL; }
+        SOAP_FMAC3 const char** SOAP_FMAC4 soap_faultsubcode(struct soap*)
+        { return NULL; }
+        SOAP_FMAC3 const char** SOAP_FMAC4 soap_faultstring(struct soap*)
+        { return NULL; }
+        SOAP_FMAC3 const char** SOAP_FMAC4 soap_faultdetail(struct soap*)
+        { return NULL; }
+        SOAP_FMAC3 const char* SOAP_FMAC4 soap_check_faultsubcode(struct soap*)
+        { return NULL; }
+        SOAP_FMAC3 const char* SOAP_FMAC4 soap_check_faultdetail(struct soap*)
+        { return NULL; }
+        SOAP_FMAC3 void SOAP_FMAC4 soap_serializeheader(struct soap*) { }
+        SOAP_FMAC3 int SOAP_FMAC4 soap_putheader(struct soap*) { return 0; }
+        SOAP_FMAC3 int SOAP_FMAC4 soap_getheader(struct soap*) { return 0; }
+        SOAP_FMAC3 void SOAP_FMAC4 soap_serializefault(struct soap*) { }
+        SOAP_FMAC3 int SOAP_FMAC4 soap_putfault(struct soap*) { return 0; }
+        SOAP_FMAC3 int SOAP_FMAC4 soap_getfault(struct soap*) { return 0; }
 int
 main ()
 {
-magic_t m = magic_open(17);
+soap s;
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ncbi_cv_lib_magic=yes
+  ncbi_cv_lib_gsoap=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-ncbi_cv_lib_magic=no
+	ncbi_cv_lib_gsoap=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_magic" >&5
-echo "${ECHO_T}$ncbi_cv_lib_magic" >&6
-    if test "$ncbi_cv_lib_magic" = "no"; then
-       if test "${with_magic:=no}" != no; then
-       { { echo "$as_me:$LINENO: error: --with-magic explicitly specified, but no usable version found." >&5
-echo "$as_me: error: --with-magic explicitly specified, but no usable version found." >&2;}
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_gsoap" >&5
+echo "${ECHO_T}$ncbi_cv_lib_gsoap" >&6; }
+    if test "$ncbi_cv_lib_gsoap" = "no"; then
+       if test "${with_gsoap:=no}" != no; then
+       { { echo "$as_me:$LINENO: error: --with-gsoap explicitly specified, but no usable version found." >&5
+echo "$as_me: error: --with-gsoap explicitly specified, but no usable version found." >&2;}
    { (exit 1); exit 1; }; }
     fi
     fi
  fi
- if test "$with_magic" = "no"; then
-    MAGIC_PATH="No_MAGIC"
-    MAGIC_INCLUDE=
-    MAGIC_LIBS=
+ if test "$with_gsoap" = "no"; then
+    GSOAP_PATH="No_GSOAP"
+    GSOAP_INCLUDE=
+    GSOAP_LIBS=
  else
-              WithPackages="$WithPackages${WithPackagesSep}MAGIC"; WithPackagesSep=" "
-    MAGIC_INCLUDE=" $MAGIC_INCLUDE"
+              WithPackages="$WithPackages${WithPackagesSep}GSOAP"; WithPackagesSep=" "
+    GSOAP_INCLUDE=" $GSOAP_INCLUDE"
 
 cat >>confdefs.h <<\_ACEOF
-#define HAVE_LIBMAGIC 1
+#define HAVE_LIBGSOAP 1
 _ACEOF
 
  fi
@@ -33831,203 +38960,218 @@
 
 
 
-
-# Mimetic
-case "$with_mimetic" in
-   yes | '' ) : ${MIMETIC_PATH=$NCBI/mimetic} ;;
-   *        ) MIMETIC_PATH=$with_mimetic ;;
+case "$with_sqlite3" in
+   yes | '' ) ;;
+   *        ) SQLITE3_PATH=$with_sqlite3 ;;
 esac
-if test -d "$MIMETIC_PATH"; then
-   ncbi_fix_dir_tmp=`if cd $MIMETIC_PATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
+
+
+# MongoDB
+if test -d "$MONGODB_PATH"; then
+   ncbi_fix_dir_tmp=`if cd $MONGODB_PATH; then $as_unset PWD || test "${PWD+set}" != set || { PWD=; export PWD; }; /bin/pwd; fi`
  case "$ncbi_fix_dir_tmp" in
-    /.*) ncbi_fix_dir_tmp2=`cd $MIMETIC_PATH && $smart_pwd 2>/dev/null`
+    /.*) ncbi_fix_dir_tmp2=`cd $MONGODB_PATH && $smart_pwd 2>/dev/null`
          if test -n "$ncbi_fix_dir_tmp2" -a -d "$ncbi_fix_dir_tmp2"; then
-            MIMETIC_PATH=$ncbi_fix_dir_tmp2
+            MONGODB_PATH=$ncbi_fix_dir_tmp2
          else
-            case "$MIMETIC_PATH" in
+            case "$MONGODB_PATH" in
                /*) ;;
-               * ) MIMETIC_PATH=$ncbi_fix_dir_tmp ;;
+               * ) MONGODB_PATH=$ncbi_fix_dir_tmp ;;
             esac
          fi
          ;;
-    /*) MIMETIC_PATH=$ncbi_fix_dir_tmp ;;
+    /*) MONGODB_PATH=$ncbi_fix_dir_tmp ;;
  esac
 fi
-for d in "$MIMETIC_LIBDIR" \
-         "$MIMETIC_PATH/${compiler_vpfx}${DEBUG_SFX}${bit64_sfx}/lib" \
-         "$MIMETIC_PATH/${compiler_pfx}${DEBUG_SFX}${bit64_sfx}/lib" \
-         "$MIMETIC_PATH/lib${bit64_sfx}" \
-         "$MIMETIC_PATH/${compiler_vpfx}${DEBUG_SFX}/lib" \
-         "$MIMETIC_PATH/${compiler_pfx}${DEBUG_SFX}/lib" \
-         "$MIMETIC_PATH/lib"; do
-   if test -d "$d"; then
-      MIMETIC_LIBDIR=$d
-      break
+if test -d $MONGODB_PATH/lib${bit64_sfx}; then
+   MONGODB_LIBDIR=$MONGODB_PATH/lib${bit64_sfx}
+else
+   MONGODB_LIBDIR=$MONGODB_PATH/lib
    fi
-done
+# need Boost rpath
 ncbi_rp_L_flags=
  ncbi_rp_L_sep=$CONF_f_libpath
  if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $MIMETIC_LIBDIR; do
+    for x in $MONGODB_LIBDIR; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
     done
-    MIMETIC_LIBPATH="${ncbi_rp_L_flags}"
+    MONGODB_LIBPATH="${ncbi_rp_L_flags}"
  else
     ncbi_rp_R_flags=
     ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $MIMETIC_LIBDIR; do
+    for x in $MONGODB_LIBDIR; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
        x=`echo $x | sed -e "$ncbi_rpath_sed"`
        ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
        ncbi_rp_R_sep=:
     done
-    MIMETIC_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+    MONGODB_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
  fi
-
-if test "$with_mimetic" != "no"; then
-    case "$with_mimetic" in
+if test "$with_mongodb" != "no"; then
+    case "$with_mongodb" in
        yes | "" ) ;;
-       *        ) MIMETIC_PATH=$with_mimetic ;;
+       *        ) MONGODB_PATH=$with_mongodb ;;
     esac
-    if test -d "$MIMETIC_PATH"; then
-       in_path=" in $MIMETIC_PATH"
-       if test -z "$MIMETIC_INCLUDE" -a -d "$MIMETIC_PATH/include"; then
-          MIMETIC_INCLUDE="-I$MIMETIC_PATH/include"
+    if test -d "$MONGODB_PATH"; then
+       in_path=" in $MONGODB_PATH"
+       if test -z "$MONGODB_INCLUDE" -a -d "$MONGODB_PATH/include"; then
+          MONGODB_INCLUDE="-I$MONGODB_PATH/include"
        fi
-       if test -n "$MIMETIC_LIBPATH"; then
+       if test -n "$MONGODB_LIBPATH"; then
           :
-       elif test -d "$MIMETIC_PATH/lib${bit64_sfx}"; then
+       elif test -d "$MONGODB_PATH/lib${bit64_sfx}"; then
           ncbi_rp_L_flags=
  ncbi_rp_L_sep=$CONF_f_libpath
  if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $MIMETIC_PATH/lib${bit64_sfx}; do
+    for x in $MONGODB_PATH/lib${bit64_sfx}; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
     done
-    MIMETIC_LIBPATH="${ncbi_rp_L_flags}"
+    MONGODB_LIBPATH="${ncbi_rp_L_flags}"
  else
     ncbi_rp_R_flags=
     ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $MIMETIC_PATH/lib${bit64_sfx}; do
+    for x in $MONGODB_PATH/lib${bit64_sfx}; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
        x=`echo $x | sed -e "$ncbi_rpath_sed"`
        ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
        ncbi_rp_R_sep=:
     done
-    MIMETIC_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+    MONGODB_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
  fi
-       elif test -d "$MIMETIC_PATH/lib"; then
+       elif test -d "$MONGODB_PATH/lib"; then
           ncbi_rp_L_flags=
  ncbi_rp_L_sep=$CONF_f_libpath
  if test "x${CONF_f_runpath}" = "x${CONF_f_libpath}"; then
-    for x in $MIMETIC_PATH/lib; do
+    for x in $MONGODB_PATH/lib; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
     done
-    MIMETIC_LIBPATH="${ncbi_rp_L_flags}"
+    MONGODB_LIBPATH="${ncbi_rp_L_flags}"
  else
     ncbi_rp_R_flags=
     ncbi_rp_R_sep=" $CONF_f_runpath"
-    for x in $MIMETIC_PATH/lib; do
+    for x in $MONGODB_PATH/lib; do
        ncbi_rp_L_flags="${ncbi_rp_L_flags}${ncbi_rp_L_sep}$x"
        ncbi_rp_L_sep=" $CONF_f_libpath"
        x=`echo $x | sed -e "$ncbi_rpath_sed"`
        ncbi_rp_R_flags="${ncbi_rp_R_flags}${ncbi_rp_R_sep}$x"
        ncbi_rp_R_sep=:
     done
-    MIMETIC_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
+    MONGODB_LIBPATH="${ncbi_rp_L_flags}${ncbi_rp_R_flags}"
  fi
        fi
-       MIMETIC_LIBS="$MIMETIC_LIBPATH -lmimetic "
+       MONGODB_LIBS="$MONGODB_LIBPATH -lmongoclient $BOOST_LIBPATH $boost_fs_lib $BOOST_THREAD_LIBS"
     else
-       MIMETIC_INCLUDE=""
-       MIMETIC_LIBS="-lmimetic "
+       MONGODB_INCLUDE=""
+       MONGODB_LIBS="-lmongoclient $BOOST_LIBPATH $boost_fs_lib $BOOST_THREAD_LIBS"
        in_path=
     fi
-    echo "$as_me:$LINENO: checking for libmimetic$in_path" >&5
-echo $ECHO_N "checking for libmimetic$in_path... $ECHO_C" >&6
-if test "${ncbi_cv_lib_mimetic+set}" = set; then
+    { echo "$as_me:$LINENO: checking for libmongoclient$in_path" >&5
+echo $ECHO_N "checking for libmongoclient$in_path... $ECHO_C" >&6; }
+if test "${ncbi_cv_lib_mongodb+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  CPPFLAGS=" $MIMETIC_INCLUDE $orig_CPPFLAGS"
-       LIBS="$MIMETIC_LIBS  $orig_LIBS"
+  CPPFLAGS="$BOOST_INCLUDE $MONGODB_INCLUDE $orig_CPPFLAGS"
+       LIBS="$MONGODB_LIBS  $orig_LIBS"
        cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-#include <mimetic/mimetic.h>
+#include <mongo/client/dbclient.h>
 int
 main ()
 {
-mimetic::MimeEntity me;
+std::vector<mongo::HostAndPort> v;
+       mongo::DBClientReplicaSet client("foo", v);
+       client.connect();
   ;
   return 0;
 }
 _ACEOF
 rm -f conftest.$ac_objext conftest$ac_exeext
-if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-  (eval $ac_link) 2>conftest.er1
+if { (ac_try="$ac_link"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_link") 2>conftest.er1
   ac_status=$?
   grep -v '^ *+' conftest.er1 >conftest.err
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } &&
-	 { ac_try='test -z "$ac_cxx_werror_flag"
-			 || test ! -s conftest.err'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+	 { ac_try='test -z "$ac_cxx_werror_flag" || test ! -s conftest.err'
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; } &&
 	 { ac_try='test -s conftest$ac_exeext'
-  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-  (eval $ac_try) 2>&5
+  { (case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_try") 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ncbi_cv_lib_mimetic=yes
+  ncbi_cv_lib_mongodb=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-ncbi_cv_lib_mimetic=no
+	ncbi_cv_lib_mongodb=no
 fi
-rm -f conftest.err conftest.$ac_objext \
+
+rm -f core conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 fi
-echo "$as_me:$LINENO: result: $ncbi_cv_lib_mimetic" >&5
-echo "${ECHO_T}$ncbi_cv_lib_mimetic" >&6
-    if test "$ncbi_cv_lib_mimetic" = "no"; then
-       if test "${with_mimetic:=no}" != no; then
-       { { echo "$as_me:$LINENO: error: --with-mimetic explicitly specified, but no usable version found." >&5
-echo "$as_me: error: --with-mimetic explicitly specified, but no usable version found." >&2;}
+{ echo "$as_me:$LINENO: result: $ncbi_cv_lib_mongodb" >&5
+echo "${ECHO_T}$ncbi_cv_lib_mongodb" >&6; }
+    if test "$ncbi_cv_lib_mongodb" = "no"; then
+       if test "${with_mongodb:=no}" != no; then
+       { { echo "$as_me:$LINENO: error: --with-mongodb explicitly specified, but no usable version found." >&5
+echo "$as_me: error: --with-mongodb explicitly specified, but no usable version found." >&2;}
    { (exit 1); exit 1; }; }
     fi
     fi
  fi
- if test "$with_mimetic" = "no"; then
-    MIMETIC_PATH="No_MIMETIC"
-    MIMETIC_INCLUDE=
-    MIMETIC_LIBS=
+ if test "$with_mongodb" = "no"; then
+    MONGODB_PATH="No_MONGODB"
+    MONGODB_INCLUDE=
+    MONGODB_LIBS=
  else
-              WithPackages="$WithPackages${WithPackagesSep}MIMETIC"; WithPackagesSep=" "
-    MIMETIC_INCLUDE=" $MIMETIC_INCLUDE"
+              WithPackages="$WithPackages${WithPackagesSep}MONGODB"; WithPackagesSep=" "
+    MONGODB_INCLUDE="$BOOST_INCLUDE $MONGODB_INCLUDE"
 
 cat >>confdefs.h <<\_ACEOF
-#define HAVE_LIBMIMETIC 1
+#define HAVE_LIBMONGODB 1
 _ACEOF
 
  fi
 
 
 
-
+# MongoDB's own library is normally static, but its supporting Boost
+# libraries might not be by default.
+if test -n "$MONGODB_LIBS"; then
+   MONGODB_STATIC_LIBS="$MONGODB_LIBPATH -lmongodb $BOOST_LIBPATH $boost_fs_static_lib $BOOST_THREAD_STATIC_LIBS"
+else
+   MONGODB_STATIC_LIBS=
+fi
 
 ### Restore original compiler/linker flags
 LIBS="$orig_LIBS"
@@ -34263,16 +39407,6 @@
 fi
 
 
-## Sequence Read Archive SDK, which may be attached on either the
-## public or the internal side
-
-if test -f "${real_srcdir}/src/sra/sdk/Makefile.sra_macros.mk"; then
-   sra=sra
-else
-   sra=
-fi
-
-
 ## `internal' project cluster
 
 if test "$with_internal" = "no"  \
@@ -34445,7 +39579,7 @@
           ;;
       esac
    done
-  for x in UUID FUSE Z LocalZ BZ2 LocalBZ2 LZO PCRE LocalPCRE GCRYPT GNUTLS OPENSSL KRB5 CURL Sybase DBLib FreeTDS MySQL BerkeleyDB BerkeleyDB++ ODBC PYTHON PYTHON23 PYTHON24 PYTHON25 PERL Boost.Regex Boost.Spirit Boost.System Boost.Test Boost.Test.Included Boost.Threads C-Toolkit OpenGL MESA GLUT GLEW wxWidgets wx2.8 Fast-CGI LocalSSS LocalMSGMAIL2 SSSUTILS LocalNCBILS NCBILS2 SSSDB SP ORBacus ICU EXPAT SABLOT LIBXML LIBXSLT LIBEXSLT Xerces Xalan Zorba SQLITE3 SQLITE3ASYNC OECHEM SGE MUPARSER HDF5 JPEG PNG TIFF UNGIF GIF XPM FreeType FTGL MAGIC MIMETIC; do
+  for x in UUID FUSE Z LocalZ BZ2 LocalBZ2 LZO PCRE LocalPCRE GCRYPT GNUTLS OPENSSL KRB5 CURL Sybase DBLib FreeTDS MySQL BerkeleyDB BerkeleyDB++ ODBC PYTHON PYTHON23 PYTHON24 PYTHON25 PERL Boost.Filesystem Boost.Regex Boost.Spirit Boost.System Boost.Test Boost.Test.Included Boost.Threads C-Toolkit OpenGL MESA GLUT GLEW wxWidgets wx2.8 Fast-CGI LocalSSS LocalMSGMAIL2 SSSUTILS LocalNCBILS NCBILS2 SSSDB SP ORBacus ICU EXPAT SABLOT LIBXML LIBXSLT LIBEXSLT Xerces Xalan Zorba SQLITE3 SQLITE3ASYNC OECHEM SGE MUPARSER HDF5 JPEG PNG TIFF UNGIF GIF XPM FreeType FTGL MAGIC MIMETIC GSOAP MONGODB; do
       case " $WithPackages " in
          *" $x "*) ;;
          *) WithoutPackages="$WithoutPackages$WithoutPackagesSep$x"
@@ -34802,6 +39936,11 @@
 
 
 
+
+
+
+
+
 #############################################################################
 ### Create output files and do some post-configuration
 
@@ -34852,39 +39991,58 @@
 
 # The following way of writing the cache mishandles newlines in values,
 # but we know of no workaround that is simple, portable, and efficient.
-# So, don't put newlines in cache variables' values.
+# So, we kill variables containing newlines.
 # Ultrix sh set writes to stderr and can't be redirected directly,
 # and sets the high bit in the cache file unless we assign to the vars.
-{
+(
+  for ac_var in `(set) 2>&1 | sed -n 's/^\([a-zA-Z_][a-zA-Z0-9_]*\)=.*/\1/p'`; do
+    eval ac_val=\$$ac_var
+    case $ac_val in #(
+    *${as_nl}*)
+      case $ac_var in #(
+      *_cv_*) { echo "$as_me:$LINENO: WARNING: Cache variable $ac_var contains a newline." >&5
+echo "$as_me: WARNING: Cache variable $ac_var contains a newline." >&2;} ;;
+      esac
+      case $ac_var in #(
+      _ | IFS | as_nl) ;; #(
+      *) $as_unset $ac_var ;;
+      esac ;;
+    esac
+  done
+
   (set) 2>&1 |
-    case `(ac_space=' '; set | grep ac_space) 2>&1` in
-    *ac_space=\ *)
+    case $as_nl`(ac_space=' '; set) 2>&1` in #(
+    *${as_nl}ac_space=\ *)
       # `set' does not quote correctly, so add quotes (double-quote
       # substitution turns \\\\ into \\, and sed turns \\ into \).
       sed -n \
 	"s/'/'\\\\''/g;
 	  s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1='\\2'/p"
-      ;;
+      ;; #(
     *)
       # `set' quotes correctly as required by POSIX, so do not add quotes.
-      sed -n \
-	"s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1=\\2/p"
+      sed -n "/^[_$as_cr_alnum]*_cv_[_$as_cr_alnum]*=/p"
       ;;
-    esac;
-} |
+    esac |
+    sort
+) |
   sed '
+     /^ac_cv_env_/b end
      t clear
      : clear
      s/^\([^=]*\)=\(.*[{}].*\)$/test "${\1+set}" = set || &/
      t end
-     /^ac_cv_env/!s/^\([^=]*\)=\(.*\)$/\1=${\1=\2}/
+     s/^\([^=]*\)=\(.*\)$/\1=${\1=\2}/
      : end' >>confcache
-if diff $cache_file confcache >/dev/null 2>&1; then :; else
-  if test -w $cache_file; then
-    test "x$cache_file" != "x/dev/null" && echo "updating cache $cache_file"
+if diff "$cache_file" confcache >/dev/null 2>&1; then :; else
+  if test -w "$cache_file"; then
+    test "x$cache_file" != "x/dev/null" &&
+      { echo "$as_me:$LINENO: updating cache $cache_file" >&5
+echo "$as_me: updating cache $cache_file" >&6;}
     cat confcache >$cache_file
   else
-    echo "not updating unwritable cache $cache_file"
+    { echo "$as_me:$LINENO: not updating unwritable cache $cache_file" >&5
+echo "$as_me: not updating unwritable cache $cache_file" >&6;}
   fi
 fi
 rm -f confcache
@@ -34893,32 +40051,18 @@
 # Let make expand exec_prefix.
 test "x$exec_prefix" = xNONE && exec_prefix='${prefix}'
 
-# VPATH may cause trouble with some makes, so we remove $(srcdir),
-# ${srcdir} and @srcdir@ from VPATH if srcdir is ".", strip leading and
-# trailing colons and then remove the whole line if VPATH becomes empty
-# (actually we leave an empty line to preserve line numbers).
-if test "x$srcdir" = x.; then
-  ac_vpsub='/^[	 ]*VPATH[	 ]*=/{
-s/:*\$(srcdir):*/:/;
-s/:*\${srcdir}:*/:/;
-s/:*@srcdir@:*/:/;
-s/^\([^=]*=[	 ]*\):*/\1/;
-s/:*$//;
-s/^[^=]*=[	 ]*$//;
-}'
-fi
-
 DEFS=-DHAVE_CONFIG_H
 
 ac_libobjs=
 ac_ltlibobjs=
 for ac_i in : $LIBOBJS; do test "x$ac_i" = x: && continue
   # 1. Remove the extension, and $U if already installed.
-  ac_i=`echo "$ac_i" |
-	 sed 's/\$U\././;s/\.o$//;s/\.obj$//'`
-  # 2. Add them.
-  ac_libobjs="$ac_libobjs $ac_i\$U.$ac_objext"
-  ac_ltlibobjs="$ac_ltlibobjs $ac_i"'$U.lo'
+  ac_script='s/\$U\././;s/\.o$//;s/\.obj$//'
+  ac_i=`echo "$ac_i" | sed "$ac_script"`
+  # 2. Prepend LIBOBJDIR.  When used with automake>=1.10 LIBOBJDIR
+  #    will be set to the directory where LIBOBJS objects are built.
+  ac_libobjs="$ac_libobjs \${LIBOBJDIR}$ac_i\$U.$ac_objext"
+  ac_ltlibobjs="$ac_ltlibobjs \${LIBOBJDIR}$ac_i"'$U.lo'
 done
 LIBOBJS=$ac_libobjs
 
@@ -34956,66 +40100,15 @@
   # Zsh 3.x and 4.x performs word splitting on ${1+"$@"}, which
   # is contrary to our usage.  Disable this feature.
   alias -g '${1+"$@"}'='"$@"'
-elif test -n "${BASH_VERSION+set}" && (set -o posix) >/dev/null 2>&1; then
-  set -o posix
-fi
-DUALCASE=1; export DUALCASE # for MKS sh
-
-# Support unset when possible.
-if ( (MAIL=60; unset MAIL) || exit) >/dev/null 2>&1; then
-  as_unset=unset
-else
-  as_unset=false
-fi
-
-
-# Work around bugs in pre-3.0 UWIN ksh.
-$as_unset ENV MAIL MAILPATH
-PS1='$ '
-PS2='> '
-PS4='+ '
-
-# NLS nuisances.
-for as_var in \
-  LANG LANGUAGE LC_ADDRESS LC_ALL LC_COLLATE LC_CTYPE LC_IDENTIFICATION \
-  LC_MEASUREMENT LC_MESSAGES LC_MONETARY LC_NAME LC_NUMERIC LC_PAPER \
-  LC_TELEPHONE LC_TIME
-do
-  if (set +x; test -z "`(eval $as_var=C; export $as_var) 2>&1`"); then
-    eval $as_var=C; export $as_var
-  else
-    $as_unset $as_var
-  fi
-done
-
-# Required to use basename.
-if expr a : '\(a\)' >/dev/null 2>&1; then
-  as_expr=expr
-else
-  as_expr=false
-fi
-
-if (basename /) >/dev/null 2>&1 && test "X`basename / 2>&1`" = "X/"; then
-  as_basename=basename
+  setopt NO_GLOB_SUBST
 else
-  as_basename=false
+  case `(set -o) 2>/dev/null` in *posix*) set -o posix;; esac
 fi
+BIN_SH=xpg4; export BIN_SH # for Tru64
+DUALCASE=1; export DUALCASE # for MKS sh
 
 
-# Name of the executable.
-as_me=`$as_basename "$0" ||
-$as_expr X/"$0" : '.*/\([^/][^/]*\)/*$' \| \
-	 X"$0" : 'X\(//\)$' \| \
-	 X"$0" : 'X\(/\)$' \| \
-	 .     : '\(.\)' 2>/dev/null ||
-echo X/"$0" |
-    sed '/^.*\/\([^/][^/]*\)\/*$/{ s//\1/; q; }
-  	  /^X\/\(\/\/\)$/{ s//\1/; q; }
-  	  /^X\/\(\/\).*/{ s//\1/; q; }
-  	  s/.*/./; q'`
-
-
-# PATH needs CR, and LINENO needs CR and PATH.
+# PATH needs CR
 # Avoid depending upon Character Ranges.
 as_cr_letters='abcdefghijklmnopqrstuvwxyz'
 as_cr_LETTERS='ABCDEFGHIJKLMNOPQRSTUVWXYZ'
@@ -35036,14 +40129,24 @@
   rm -f conf$$.sh
 fi
 
+# Support unset when possible.
+if ( (MAIL=60; unset MAIL) || exit) >/dev/null 2>&1; then
+  as_unset=unset
+else
+  as_unset=false
+fi
 
-  as_lineno_1=$LINENO
-  as_lineno_2=$LINENO
-  as_lineno_3=`(expr $as_lineno_1 + 1) 2>/dev/null`
-  test "x$as_lineno_1" != "x$as_lineno_2" &&
-  test "x$as_lineno_3"  = "x$as_lineno_2"  || {
-  # Find who we are.  Look in the path if we contain no path at all
-  # relative or not.
+
+# IFS
+# We need space, tab and new line, in precisely that order.  Quoting is
+# there to prevent editors from complaining about space-tab.
+# (If _AS_PATH_WALK were called with IFS unset, it would disable word
+# splitting by setting IFS to empty value.)
+as_nl='
+'
+IFS=" ""	$as_nl"
+
+# Find who we are.  Look in the path if we contain no directory separator.
   case $0 in
     *[\\/]* ) as_myself=$0 ;;
     *) as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -35053,6 +40156,7 @@
   test -z "$as_dir" && as_dir=.
   test -r "$as_dir/$0" && as_myself=$as_dir/$0 && break
 done
+IFS=$as_save_IFS
 
        ;;
   esac
@@ -35062,103 +40166,161 @@
     as_myself=$0
   fi
   if test ! -f "$as_myself"; then
-    { { echo "$as_me:$LINENO: error: cannot find myself; rerun with an absolute path" >&5
-echo "$as_me: error: cannot find myself; rerun with an absolute path" >&2;}
-   { (exit 1); exit 1; }; }
+  echo "$as_myself: error: cannot find myself; rerun with an absolute file name" >&2
+  { (exit 1); exit 1; }
   fi
-  case $CONFIG_SHELL in
-  '')
-    $as_unset ZSH_VERSION || test "${ZSH_VERSION+set}" != set || { ZSH_VERSION=; export ZSH_VERSION; }
-    for as_base in sh ksh sh5 bash; do
-      as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
-for as_dir in /bin$PATH_SEPARATOR/usr/bin$PATH_SEPARATOR$PATH
+
+# Work around bugs in pre-3.0 UWIN ksh.
+for as_var in ENV MAIL MAILPATH
+do ($as_unset $as_var) >/dev/null 2>&1 && $as_unset $as_var
+done
+PS1='$ '
+PS2='> '
+PS4='+ '
+
+# NLS nuisances.
+for as_var in \
+  LANG LANGUAGE LC_ADDRESS LC_ALL LC_COLLATE LC_CTYPE LC_IDENTIFICATION \
+  LC_MEASUREMENT LC_MESSAGES LC_MONETARY LC_NAME LC_NUMERIC LC_PAPER \
+  LC_TELEPHONE LC_TIME
 do
-  IFS=$as_save_IFS
-  test -z "$as_dir" && as_dir=.
-  case $as_dir in
-         /*)
-           if ("$as_dir/$as_base" -c \
-                 'test -z "$ZSH_VERSION" && {
+  if (set +x; test -z "`(eval $as_var=C; export $as_var) 2>&1`"); then
+    eval $as_var=C; export $as_var
+  else
+    ($as_unset $as_var) >/dev/null 2>&1 && $as_unset $as_var
+  fi
+done
+
+# Required to use basename.
+if expr a : '\(a\)' >/dev/null 2>&1 &&
+   test "X`expr 00001 : '.*\(...\)'`" = X001; then
+  as_expr=expr
+else
+  as_expr=false
+fi
+
+if (basename -- /) >/dev/null 2>&1 && test "X`basename -- / 2>&1`" = "X/"; then
+  as_basename=basename
+else
+  as_basename=false
+fi
+
+
+# Name of the executable.
+as_me=`$as_basename -- "$0" ||
+$as_expr X/"$0" : '.*/\([^/][^/]*\)/*$' \| \
+	 X"$0" : 'X\(//\)$' \| \
+	 X"$0" : 'X\(/\)' \| . 2>/dev/null ||
+echo X/"$0" |
+    sed '/^.*\/\([^/][^/]*\)\/*$/{
+	    s//\1/
+	    q
+	  }
+	  /^X\/\(\/\/\)$/{
+	    s//\1/
+	    q
+	  }
+	  /^X\/\(\/\).*/{
+	    s//\1/
+	    q
+	  }
+	  s/.*/./; q'`
+
+# CDPATH.
+$as_unset CDPATH
+
+
+
   as_lineno_1=$LINENO
   as_lineno_2=$LINENO
-  as_lineno_3=`(expr $as_lineno_1 + 1) 2>/dev/null`
   test "x$as_lineno_1" != "x$as_lineno_2" &&
-  test "x$as_lineno_3"  = "x$as_lineno_2" ; }') 2>/dev/null
-           then
-             $as_unset BASH_ENV || test "${BASH_ENV+set}" != set || { BASH_ENV=; export BASH_ENV; }
-             $as_unset ENV || test "${ENV+set}" != set || { ENV=; export ENV; }
-             CONFIG_SHELL=$as_dir/$as_base
-             export CONFIG_SHELL
-             exec "$CONFIG_SHELL" "$0" ${1+"$@"}
-           fi;;
-         esac
-       done
-done
-;;
-  esac
+  test "x`expr $as_lineno_1 + 1`" = "x$as_lineno_2" || {
 
   # Create $as_me.lineno as a copy of $as_myself, but with $LINENO
   # uniformly replaced by the line number.  The first 'sed' inserts a
-  # line-number line before each line; the second 'sed' does the real
-  # work.  The second script uses 'N' to pair each line-number line
-  # with the numbered line, and appends trailing '-' during
-  # substitution so that $LINENO is not a special case at line end.
+  # line-number line after each line using $LINENO; the second 'sed'
+  # does the real work.  The second script uses 'N' to pair each
+  # line-number line with the line containing $LINENO, and appends
+  # trailing '-' during substitution so that $LINENO is not a special
+  # case at line end.
   # (Raja R Harinath suggested sed '=', and Paul Eggert wrote the
-  # second 'sed' script.  Blame Lee E. McMahon for sed's syntax.  :-)
-  sed '=' <$as_myself |
+  # scripts with optimization help from Paolo Bonzini.  Blame Lee
+  # E. McMahon (1931-1989) for sed's syntax.  :-)
+  sed -n '
+    p
+    /[$]LINENO/=
+  ' <$as_myself |
     sed '
+      s/[$]LINENO.*/&-/
+      t lineno
+      b
+      :lineno
       N
-      s,$,-,
       : loop
-      s,^\(['$as_cr_digits']*\)\(.*\)[$]LINENO\([^'$as_cr_alnum'_]\),\1\2\1\3,
+      s/[$]LINENO\([^'$as_cr_alnum'_].*\n\)\(.*\)/\2\1\2/
       t loop
-      s,-$,,
-      s,^['$as_cr_digits']*\n,,
+      s/-\n.*//
     ' >$as_me.lineno &&
-  chmod +x $as_me.lineno ||
-    { { echo "$as_me:$LINENO: error: cannot create $as_me.lineno; rerun with a POSIX shell" >&5
-echo "$as_me: error: cannot create $as_me.lineno; rerun with a POSIX shell" >&2;}
+  chmod +x "$as_me.lineno" ||
+    { echo "$as_me: error: cannot create $as_me.lineno; rerun with a POSIX shell" >&2
    { (exit 1); exit 1; }; }
 
   # Don't try to exec as it changes $[0], causing all sort of problems
   # (the dirname of $[0] is not the place where we might find the
-  # original and so on.  Autoconf is especially sensible to this).
-  . ./$as_me.lineno
+  # original and so on.  Autoconf is especially sensitive to this).
+  . "./$as_me.lineno"
   # Exit status is that of the last command.
   exit
 }
 
 
-case `echo "testing\c"; echo 1,2,3`,`echo -n testing; echo 1,2,3` in
-  *c*,-n*) ECHO_N= ECHO_C='
-' ECHO_T='	' ;;
-  *c*,*  ) ECHO_N=-n ECHO_C= ECHO_T= ;;
-  *)       ECHO_N= ECHO_C='\c' ECHO_T= ;;
+if (as_dir=`dirname -- /` && test "X$as_dir" = X/) >/dev/null 2>&1; then
+  as_dirname=dirname
+else
+  as_dirname=false
+fi
+
+ECHO_C= ECHO_N= ECHO_T=
+case `echo -n x` in
+-n*)
+  case `echo 'x\c'` in
+  *c*) ECHO_T='	';;	# ECHO_T is single tab character.
+  *)   ECHO_C='\c';;
+  esac;;
+*)
+  ECHO_N='-n';;
 esac
 
-if expr a : '\(a\)' >/dev/null 2>&1; then
+if expr a : '\(a\)' >/dev/null 2>&1 &&
+   test "X`expr 00001 : '.*\(...\)'`" = X001; then
   as_expr=expr
 else
   as_expr=false
 fi
 
 rm -f conf$$ conf$$.exe conf$$.file
+if test -d conf$$.dir; then
+  rm -f conf$$.dir/conf$$.file
+else
+  rm -f conf$$.dir
+  mkdir conf$$.dir
+fi
 echo >conf$$.file
 if ln -s conf$$.file conf$$ 2>/dev/null; then
-  # We could just check for DJGPP; but this test a) works b) is more generic
-  # and c) will remain valid once DJGPP supports symlinks (DJGPP 2.04).
-  if test -f conf$$.exe; then
-    # Don't use ln at all; we don't have any links
-    as_ln_s='cp -p'
-  else
     as_ln_s='ln -s'
-  fi
+  # ... but there are two gotchas:
+  # 1) On MSYS, both `ln -s file dir' and `ln file dir' fail.
+  # 2) DJGPP < 2.04 has no symlinks; `ln -s' creates a wrapper executable.
+  # In both cases, we have to default to `cp -p'.
+  ln -s conf$$.file conf$$.dir 2>/dev/null && test ! -f conf$$.exe ||
+    as_ln_s='cp -p'
 elif ln conf$$.file conf$$ 2>/dev/null; then
   as_ln_s=ln
 else
   as_ln_s='cp -p'
 fi
-rm -f conf$$ conf$$.exe conf$$.file
+rm -f conf$$ conf$$.exe conf$$.dir/conf$$.file conf$$.file
+rmdir conf$$.dir 2>/dev/null
 
 if mkdir -p . 2>/dev/null; then
   as_mkdir_p=:
@@ -35167,7 +40329,19 @@
   as_mkdir_p=false
 fi
 
-as_executable_p="test -f"
+# Find out whether ``test -x'' works.  Don't use a zero-byte file, as
+# systems may use methods other than mode bits to determine executability.
+cat >conf$$.file <<_ASEOF
+#! /bin/sh
+exit 0
+_ASEOF
+chmod +x conf$$.file
+if test -x conf$$.file >/dev/null 2>&1; then
+  as_executable_p="test -x"
+else
+  as_executable_p=:
+fi
+rm -f conf$$.file
 
 # Sed expression to map a string onto a valid CPP name.
 as_tr_cpp="eval sed 'y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g'"
@@ -35176,31 +40350,14 @@
 as_tr_sh="eval sed 'y%*+%pp%;s%[^_$as_cr_alnum]%_%g'"
 
 
-# IFS
-# We need space, tab and new line, in precisely that order.
-as_nl='
-'
-IFS=" 	$as_nl"
-
-# CDPATH.
-$as_unset CDPATH
-
 exec 6>&1
 
-# Open the log real soon, to keep \$[0] and so on meaningful, and to
+# Save the log message, to keep $[0] and so on meaningful, and to
 # report actual input values of CONFIG_FILES etc. instead of their
-# values after options handling.  Logging --version etc. is OK.
-exec 5>>config.log
-{
-  echo
-  sed 'h;s/./-/g;s/^.../## /;s/...$/ ##/;p;x;p;x' <<_ASBOX
-## Running $as_me. ##
-_ASBOX
-} >&5
-cat >&5 <<_CSEOF
-
+# values after options handling.
+ac_log="
 This file was extended by ncbi-tools++ $as_me 0.0, which was
-generated by GNU Autoconf 2.59.  Invocation command line was
+generated by GNU Autoconf 2.60.  Invocation command line was
 
   CONFIG_FILES    = $CONFIG_FILES
   CONFIG_HEADERS  = $CONFIG_HEADERS
@@ -35208,30 +40365,20 @@
   CONFIG_COMMANDS = $CONFIG_COMMANDS
   $ $0 $@
 
-_CSEOF
-echo "on `(hostname || uname -n) 2>/dev/null | sed 1q`" >&5
-echo >&5
+on `(hostname || uname -n) 2>/dev/null | sed 1q`
+"
+
 _ACEOF
 
+cat >>$CONFIG_STATUS <<_ACEOF
 # Files that config.status was made for.
-if test -n "$ac_config_files"; then
-  echo "config_files=\"$ac_config_files\"" >>$CONFIG_STATUS
-fi
-
-if test -n "$ac_config_headers"; then
-  echo "config_headers=\"$ac_config_headers\"" >>$CONFIG_STATUS
-fi
-
-if test -n "$ac_config_links"; then
-  echo "config_links=\"$ac_config_links\"" >>$CONFIG_STATUS
-fi
+config_files="$ac_config_files"
+config_headers="$ac_config_headers"
+config_commands="$ac_config_commands"
 
-if test -n "$ac_config_commands"; then
-  echo "config_commands=\"$ac_config_commands\"" >>$CONFIG_STATUS
-fi
+_ACEOF
 
 cat >>$CONFIG_STATUS <<\_ACEOF
-
 ac_cs_usage="\
 \`$as_me' instantiates files from templates according to the
 current configuration.
@@ -35258,19 +40405,21 @@
 $config_commands
 
 Report bugs to <bug-autoconf@gnu.org>."
-_ACEOF
 
+_ACEOF
 cat >>$CONFIG_STATUS <<_ACEOF
 ac_cs_version="\\
 ncbi-tools++ config.status 0.0
-configured by $0, generated by GNU Autoconf 2.59,
-  with options \\"`echo "$ac_configure_args" | sed 's/[\\""\`\$]/\\\\&/g'`\\"
+configured by $0, generated by GNU Autoconf 2.60,
+  with options \\"`echo "$ac_configure_args" | sed 's/^ //; s/[\\""\`\$]/\\\\&/g'`\\"
 
-Copyright (C) 2003 Free Software Foundation, Inc.
+Copyright (C) 2006 Free Software Foundation, Inc.
 This config.status script is free software; the Free Software Foundation
 gives unlimited permission to copy, distribute and modify it."
-srcdir=$srcdir
-INSTALL="$INSTALL"
+
+ac_pwd='$ac_pwd'
+srcdir='$srcdir'
+INSTALL='$INSTALL'
 _ACEOF
 
 cat >>$CONFIG_STATUS <<\_ACEOF
@@ -35281,39 +40430,24 @@
 do
   case $1 in
   --*=*)
-    ac_option=`expr "x$1" : 'x\([^=]*\)='`
-    ac_optarg=`expr "x$1" : 'x[^=]*=\(.*\)'`
+    ac_option=`expr "X$1" : 'X\([^=]*\)='`
+    ac_optarg=`expr "X$1" : 'X[^=]*=\(.*\)'`
     ac_shift=:
     ;;
-  -*)
+  *)
     ac_option=$1
     ac_optarg=$2
     ac_shift=shift
     ;;
-  *) # This is not an option, so the user has probably given explicit
-     # arguments.
-     ac_option=$1
-     ac_need_defaults=false;;
   esac
 
   case $ac_option in
   # Handling of the options.
-_ACEOF
-cat >>$CONFIG_STATUS <<\_ACEOF
   -recheck | --recheck | --rechec | --reche | --rech | --rec | --re | --r)
     ac_cs_recheck=: ;;
-  --version | --vers* | -V )
-    echo "$ac_cs_version"; exit 0 ;;
-  --he | --h)
-    # Conflict between --help and --header
-    { { echo "$as_me:$LINENO: error: ambiguous option: $1
-Try \`$0 --help' for more information." >&5
-echo "$as_me: error: ambiguous option: $1
-Try \`$0 --help' for more information." >&2;}
-   { (exit 1); exit 1; }; };;
-  --help | --hel | -h )
-    echo "$ac_cs_usage"; exit 0 ;;
-  --debug | --d* | -d )
+  --version | --versio | --versi | --vers | --ver | --ve | --v | -V )
+    echo "$ac_cs_version"; exit ;;
+  --debug | --debu | --deb | --de | --d | -d )
     debug=: ;;
   --file | --fil | --fi | --f )
     $ac_shift
@@ -35323,18 +40457,24 @@
     $ac_shift
     CONFIG_HEADERS="$CONFIG_HEADERS $ac_optarg"
     ac_need_defaults=false;;
+  --he | --h)
+    # Conflict between --help and --header
+    { echo "$as_me: error: ambiguous option: $1
+Try \`$0 --help' for more information." >&2
+   { (exit 1); exit 1; }; };;
+  --help | --hel | -h )
+    echo "$ac_cs_usage"; exit ;;
   -q | -quiet | --quiet | --quie | --qui | --qu | --q \
   | -silent | --silent | --silen | --sile | --sil | --si | --s)
     ac_cs_silent=: ;;
 
   # This is an error.
-  -*) { { echo "$as_me:$LINENO: error: unrecognized option: $1
-Try \`$0 --help' for more information." >&5
-echo "$as_me: error: unrecognized option: $1
-Try \`$0 --help' for more information." >&2;}
+  -*) { echo "$as_me: error: unrecognized option: $1
+Try \`$0 --help' for more information." >&2
    { (exit 1); exit 1; }; } ;;
 
-  *) ac_config_targets="$ac_config_targets $1" ;;
+  *) ac_config_targets="$ac_config_targets $1"
+     ac_need_defaults=false ;;
 
   esac
   shift
@@ -35350,18 +40490,29 @@
 _ACEOF
 cat >>$CONFIG_STATUS <<_ACEOF
 if \$ac_cs_recheck; then
-  echo "running $SHELL $0 " $ac_configure_args \$ac_configure_extra_args " --no-create --no-recursion" >&6
-  exec $SHELL $0 $ac_configure_args \$ac_configure_extra_args --no-create --no-recursion
+  echo "running CONFIG_SHELL=$SHELL $SHELL $0 "$ac_configure_args \$ac_configure_extra_args " --no-create --no-recursion" >&6
+  CONFIG_SHELL=$SHELL
+  export CONFIG_SHELL
+  exec $SHELL "$0"$ac_configure_args \$ac_configure_extra_args --no-create --no-recursion
 fi
 
 _ACEOF
+cat >>$CONFIG_STATUS <<\_ACEOF
+exec 5>>config.log
+{
+  echo
+  sed 'h;s/./-/g;s/^.../## /;s/...$/ ##/;p;x;p;x' <<_ASBOX
+## Running $as_me. ##
+_ASBOX
+  echo "$ac_log"
+} >&5
 
+_ACEOF
 cat >>$CONFIG_STATUS <<_ACEOF
 #
-# INIT-COMMANDS section.
+# INIT-COMMANDS
 #
 
-
 status_dir='$status_dir'
 builddir='$builddir'
 build_root='$build_root'
@@ -35391,621 +40542,902 @@
 
 _ACEOF
 
+cat >>$CONFIG_STATUS <<\_ACEOF
+
+# Handling of arguments.
+for ac_config_target in $ac_config_targets
+do
+  case $ac_config_target in
+    "${ncbiconf}") CONFIG_HEADERS="$CONFIG_HEADERS ${ncbiconf}:src/build-system/config.h.in" ;;
+    "$configurables") CONFIG_FILES="$CONFIG_FILES $configurables" ;;
+    "$srcdir/./Makefile") CONFIG_FILES="$CONFIG_FILES $srcdir/./Makefile:src/build-system/Makefile.in.top" ;;
+    "default") CONFIG_COMMANDS="$CONFIG_COMMANDS default" ;;
+
+  *) { { echo "$as_me:$LINENO: error: invalid argument: $ac_config_target" >&5
+echo "$as_me: error: invalid argument: $ac_config_target" >&2;}
+   { (exit 1); exit 1; }; };;
+  esac
+done
+
+
+# If the user did not use the arguments to specify the items to instantiate,
+# then the envvar interface is used.  Set only those that are not.
+# We use the long form for the default assignment because of an extremely
+# bizarre bug on SunOS 4.1.3.
+if $ac_need_defaults; then
+  test "${CONFIG_FILES+set}" = set || CONFIG_FILES=$config_files
+  test "${CONFIG_HEADERS+set}" = set || CONFIG_HEADERS=$config_headers
+  test "${CONFIG_COMMANDS+set}" = set || CONFIG_COMMANDS=$config_commands
+fi
+
+# Have a temporary directory for convenience.  Make it in the build tree
+# simply because there is no reason against having it here, and in addition,
+# creating and moving files from /tmp can sometimes cause problems.
+# Hook for its removal unless debugging.
+# Note that there is a small window in which the directory will not be cleaned:
+# after its creation but before its name has been assigned to `$tmp'.
+$debug ||
+{
+  tmp=
+  trap 'exit_status=$?
+  { test -z "$tmp" || test ! -d "$tmp" || rm -fr "$tmp"; } && exit $exit_status
+' 0
+  trap '{ (exit 1); exit 1; }' 1 2 13 15
+}
+# Create a (secure) tmp directory for tmp files.
+
+{
+  tmp=`(umask 077 && mktemp -d "./confXXXXXX") 2>/dev/null` &&
+  test -n "$tmp" && test -d "$tmp"
+}  ||
+{
+  tmp=./conf$$-$RANDOM
+  (umask 077 && mkdir "$tmp")
+} ||
+{
+   echo "$me: cannot create a temporary directory in ." >&2
+   { (exit 1); exit 1; }
+}
+
+#
+# Set up the sed scripts for CONFIG_FILES section.
+#
+
+# No need to generate the scripts if there are no CONFIG_FILES.
+# This happens for instance when ./config.status config.h
+if test -n "$CONFIG_FILES"; then
+
+_ACEOF
+
+
+
+ac_delim='%!_!# '
+for ac_last_try in false false false false false :; do
+  cat >conf$$subs.sed <<_ACEOF
+SHELL!$SHELL$ac_delim
+PATH_SEPARATOR!$PATH_SEPARATOR$ac_delim
+PACKAGE_NAME!$PACKAGE_NAME$ac_delim
+PACKAGE_TARNAME!$PACKAGE_TARNAME$ac_delim
+PACKAGE_VERSION!$PACKAGE_VERSION$ac_delim
+PACKAGE_STRING!$PACKAGE_STRING$ac_delim
+PACKAGE_BUGREPORT!$PACKAGE_BUGREPORT$ac_delim
+exec_prefix!$exec_prefix$ac_delim
+prefix!$prefix$ac_delim
+program_transform_name!$program_transform_name$ac_delim
+bindir!$bindir$ac_delim
+sbindir!$sbindir$ac_delim
+libexecdir!$libexecdir$ac_delim
+datarootdir!$datarootdir$ac_delim
+datadir!$datadir$ac_delim
+sysconfdir!$sysconfdir$ac_delim
+sharedstatedir!$sharedstatedir$ac_delim
+localstatedir!$localstatedir$ac_delim
+includedir!$includedir$ac_delim
+oldincludedir!$oldincludedir$ac_delim
+docdir!$docdir$ac_delim
+infodir!$infodir$ac_delim
+htmldir!$htmldir$ac_delim
+dvidir!$dvidir$ac_delim
+pdfdir!$pdfdir$ac_delim
+psdir!$psdir$ac_delim
+libdir!$libdir$ac_delim
+localedir!$localedir$ac_delim
+mandir!$mandir$ac_delim
+DEFS!$DEFS$ac_delim
+ECHO_C!$ECHO_C$ac_delim
+ECHO_N!$ECHO_N$ac_delim
+ECHO_T!$ECHO_T$ac_delim
+LIBS!$LIBS$ac_delim
+build_alias!$build_alias$ac_delim
+host_alias!$host_alias$ac_delim
+target_alias!$target_alias$ac_delim
+PROJECTS!$PROJECTS$ac_delim
+build!$build$ac_delim
+build_cpu!$build_cpu$ac_delim
+build_vendor!$build_vendor$ac_delim
+build_os!$build_os$ac_delim
+host!$host$ac_delim
+host_cpu!$host_cpu$ac_delim
+host_vendor!$host_vendor$ac_delim
+host_os!$host_os$ac_delim
+INSTALL_PROGRAM!$INSTALL_PROGRAM$ac_delim
+INSTALL_SCRIPT!$INSTALL_SCRIPT$ac_delim
+INSTALL_DATA!$INSTALL_DATA$ac_delim
+CC!$CC$ac_delim
+CFLAGS!$CFLAGS$ac_delim
+LDFLAGS!$LDFLAGS$ac_delim
+CPPFLAGS!$CPPFLAGS$ac_delim
+ac_ct_CC!$ac_ct_CC$ac_delim
+EXEEXT!$EXEEXT$ac_delim
+OBJEXT!$OBJEXT$ac_delim
+CXX!$CXX$ac_delim
+CXXFLAGS!$CXXFLAGS$ac_delim
+ac_ct_CXX!$ac_ct_CXX$ac_delim
+MT_SFX!$MT_SFX$ac_delim
+DLL!$DLL$ac_delim
+DLL_LIB_SETTING!$DLL_LIB_SETTING$ac_delim
+IF_WITH_DLL!$IF_WITH_DLL$ac_delim
+UNLESS_WITH_DLL!$UNLESS_WITH_DLL$ac_delim
+STATIC!$STATIC$ac_delim
+USUAL_AND_DLL!$USUAL_AND_DLL$ac_delim
+USUAL_AND_LIB!$USUAL_AND_LIB$ac_delim
+LN_S!$LN_S$ac_delim
+RANLIB!$RANLIB$ac_delim
+AR!$AR$ac_delim
+STRIP!$STRIP$ac_delim
+DISTCC!$DISTCC$ac_delim
+CCACHE!$CCACHE$ac_delim
+TAIL!$TAIL$ac_delim
+TOUCH!$TOUCH$ac_delim
+GREP!$GREP$ac_delim
+EGREP!$EGREP$ac_delim
+VALGRIND_PATH!$VALGRIND_PATH$ac_delim
+LDD!$LDD$ac_delim
+CXXCPP!$CXXCPP$ac_delim
+TCHECK_CL!$TCHECK_CL$ac_delim
+AMQ!$AMQ$ac_delim
+CPP!$CPP$ac_delim
+Z_INCLUDE!$Z_INCLUDE$ac_delim
+Z_LIBS!$Z_LIBS$ac_delim
+BZ2_INCLUDE!$BZ2_INCLUDE$ac_delim
+BZ2_LIBS!$BZ2_LIBS$ac_delim
+LZO_INCLUDE!$LZO_INCLUDE$ac_delim
+LZO_LIBS!$LZO_LIBS$ac_delim
+PCRE_INCLUDE!$PCRE_INCLUDE$ac_delim
+PCRE_LIBS!$PCRE_LIBS$ac_delim
+LIBGCRYPT_CONFIG!$LIBGCRYPT_CONFIG$ac_delim
+GCRYPT_INCLUDE!$GCRYPT_INCLUDE$ac_delim
+GCRYPT_LIBS!$GCRYPT_LIBS$ac_delim
+LIBGNUTLS_CONFIG!$LIBGNUTLS_CONFIG$ac_delim
+GNUTLS_INCLUDE!$GNUTLS_INCLUDE$ac_delim
+GNUTLS_LIBS!$GNUTLS_LIBS$ac_delim
+_ACEOF
+
+  if test `sed -n "s/.*$ac_delim\$/X/p" conf$$subs.sed | grep -c X` = 97; then
+    break
+  elif $ac_last_try; then
+    { { echo "$as_me:$LINENO: error: could not make $CONFIG_STATUS" >&5
+echo "$as_me: error: could not make $CONFIG_STATUS" >&2;}
+   { (exit 1); exit 1; }; }
+  else
+    ac_delim="$ac_delim!$ac_delim _$ac_delim!! "
+  fi
+done
+
+ac_eof=`sed -n '/^CEOF[0-9]*$/s/CEOF/0/p' conf$$subs.sed`
+if test -n "$ac_eof"; then
+  ac_eof=`echo "$ac_eof" | sort -nru | sed 1q`
+  ac_eof=`expr $ac_eof + 1`
+fi
+
+cat >>$CONFIG_STATUS <<_ACEOF
+cat >"\$tmp/subs-1.sed" <<\CEOF$ac_eof
+/@[a-zA-Z_][a-zA-Z_0-9]*@/!b
+_ACEOF
+sed '
+s/[,\\&]/\\&/g; s/@/@|#_!!_#|/g
+s/^/s,@/; s/!/@,|#_!!_#|/
+:n
+t n
+s/'"$ac_delim"'$/,g/; t
+s/$/\\/; p
+N; s/^.*\n//; s/[,\\&]/\\&/g; s/@/@|#_!!_#|/g; b n
+' >>$CONFIG_STATUS <conf$$subs.sed
+rm -f conf$$subs.sed
+cat >>$CONFIG_STATUS <<_ACEOF
+CEOF$ac_eof
+_ACEOF
+
+
+ac_delim='%!_!# '
+for ac_last_try in false false false false false :; do
+  cat >conf$$subs.sed <<_ACEOF
+OPENSSL_INCLUDE!$OPENSSL_INCLUDE$ac_delim
+OPENSSL_LIBS!$OPENSSL_LIBS$ac_delim
+KRB5_CONFIG!$KRB5_CONFIG$ac_delim
+KRB5_INCLUDE!$KRB5_INCLUDE$ac_delim
+KRB5_LIBS!$KRB5_LIBS$ac_delim
+CURL_INCLUDE!$CURL_INCLUDE$ac_delim
+CURL_LIBS!$CURL_LIBS$ac_delim
+FTDS64_INCLUDE!$FTDS64_INCLUDE$ac_delim
+FTDS64_LIBS!$FTDS64_LIBS$ac_delim
+FTDS64_LIB!$FTDS64_LIB$ac_delim
+FTDS64_CTLIB_INCLUDE!$FTDS64_CTLIB_INCLUDE$ac_delim
+FTDS64_CTLIB_LIBS!$FTDS64_CTLIB_LIBS$ac_delim
+FTDS64_CTLIB_LIB!$FTDS64_CTLIB_LIB$ac_delim
+FTDS_INCLUDE!$FTDS_INCLUDE$ac_delim
+FTDS_LIBS!$FTDS_LIBS$ac_delim
+FTDS_LIB!$FTDS_LIB$ac_delim
+freetds!$freetds$ac_delim
+ftds64!$ftds64$ac_delim
+mysql_config!$mysql_config$ac_delim
+PYTHON!$PYTHON$ac_delim
+PYTHON_INCLUDE!$PYTHON_INCLUDE$ac_delim
+PYTHON_LIBS!$PYTHON_LIBS$ac_delim
+PYTHON23!$PYTHON23$ac_delim
+PYTHON23_INCLUDE!$PYTHON23_INCLUDE$ac_delim
+PYTHON23_LIBS!$PYTHON23_LIBS$ac_delim
+PYTHON24!$PYTHON24$ac_delim
+PYTHON24_INCLUDE!$PYTHON24_INCLUDE$ac_delim
+PYTHON24_LIBS!$PYTHON24_LIBS$ac_delim
+PYTHON25!$PYTHON25$ac_delim
+PYTHON25_INCLUDE!$PYTHON25_INCLUDE$ac_delim
+PYTHON25_LIBS!$PYTHON25_LIBS$ac_delim
+PERL!$PERL$ac_delim
+_ACJNI_JAVAC!$_ACJNI_JAVAC$ac_delim
+XMKMF!$XMKMF$ac_delim
+X_CFLAGS!$X_CFLAGS$ac_delim
+X_PRE_LIBS!$X_PRE_LIBS$ac_delim
+X_LIBS!$X_LIBS$ac_delim
+X_EXTRA_LIBS!$X_EXTRA_LIBS$ac_delim
+wxconf!$wxconf$ac_delim
+EXPAT_INCLUDE!$EXPAT_INCLUDE$ac_delim
+EXPAT_LIBS!$EXPAT_LIBS$ac_delim
+SABLOT_INCLUDE!$SABLOT_INCLUDE$ac_delim
+SABLOT_LIBS!$SABLOT_LIBS$ac_delim
+LIBXML_INCLUDE!$LIBXML_INCLUDE$ac_delim
+LIBXML_LIBS!$LIBXML_LIBS$ac_delim
+LIBXSLT_INCLUDE!$LIBXSLT_INCLUDE$ac_delim
+LIBXSLT_LIBS!$LIBXSLT_LIBS$ac_delim
+XSLTPROC!$XSLTPROC$ac_delim
+LIBEXSLT_INCLUDE!$LIBEXSLT_INCLUDE$ac_delim
+LIBEXSLT_LIBS!$LIBEXSLT_LIBS$ac_delim
+SQLITE3_INCLUDE!$SQLITE3_INCLUDE$ac_delim
+SQLITE3_LIBS!$SQLITE3_LIBS$ac_delim
+OECHEM_INCLUDE!$OECHEM_INCLUDE$ac_delim
+OECHEM_LIBS!$OECHEM_LIBS$ac_delim
+SGE_INCLUDE!$SGE_INCLUDE$ac_delim
+SGE_LIBS!$SGE_LIBS$ac_delim
+MUPARSER_INCLUDE!$MUPARSER_INCLUDE$ac_delim
+MUPARSER_LIBS!$MUPARSER_LIBS$ac_delim
+HDF5_INCLUDE!$HDF5_INCLUDE$ac_delim
+HDF5_LIBS!$HDF5_LIBS$ac_delim
+JPEG_INCLUDE!$JPEG_INCLUDE$ac_delim
+JPEG_LIBS!$JPEG_LIBS$ac_delim
+PNG_INCLUDE!$PNG_INCLUDE$ac_delim
+PNG_LIBS!$PNG_LIBS$ac_delim
+TIFF_INCLUDE!$TIFF_INCLUDE$ac_delim
+TIFF_LIBS!$TIFF_LIBS$ac_delim
+UNGIF_INCLUDE!$UNGIF_INCLUDE$ac_delim
+UNGIF_LIBS!$UNGIF_LIBS$ac_delim
+GIF_INCLUDE!$GIF_INCLUDE$ac_delim
+GIF_LIBS!$GIF_LIBS$ac_delim
+XPM_INCLUDE!$XPM_INCLUDE$ac_delim
+XPM_LIBS!$XPM_LIBS$ac_delim
+freetype_config!$freetype_config$ac_delim
+FTGL_INCLUDE!$FTGL_INCLUDE$ac_delim
+FTGL_LIBS!$FTGL_LIBS$ac_delim
+MAGIC_INCLUDE!$MAGIC_INCLUDE$ac_delim
+MAGIC_LIBS!$MAGIC_LIBS$ac_delim
+MIMETIC_INCLUDE!$MIMETIC_INCLUDE$ac_delim
+MIMETIC_LIBS!$MIMETIC_LIBS$ac_delim
+GSOAP_SOAPCPP2!$GSOAP_SOAPCPP2$ac_delim
+GSOAP_WSDL2H!$GSOAP_WSDL2H$ac_delim
+GSOAP_INCLUDE!$GSOAP_INCLUDE$ac_delim
+GSOAP_LIBS!$GSOAP_LIBS$ac_delim
+MONGODB_INCLUDE!$MONGODB_INCLUDE$ac_delim
+MONGODB_LIBS!$MONGODB_LIBS$ac_delim
+signature!$signature$ac_delim
+build_root!$build_root$ac_delim
+top_srcdir!$top_srcdir$ac_delim
+srcdir!$srcdir$ac_delim
+status_dir!$status_dir$ac_delim
+builddir!$builddir$ac_delim
+runpath!$runpath$ac_delim
+ncbi_runpath!$ncbi_runpath$ac_delim
+c_ncbi_runpath!$c_ncbi_runpath$ac_delim
+LINK!$LINK$ac_delim
+C_LINK!$C_LINK$ac_delim
+TAIL_N!$TAIL_N$ac_delim
+_ACEOF
+
+  if test `sed -n "s/.*$ac_delim\$/X/p" conf$$subs.sed | grep -c X` = 97; then
+    break
+  elif $ac_last_try; then
+    { { echo "$as_me:$LINENO: error: could not make $CONFIG_STATUS" >&5
+echo "$as_me: error: could not make $CONFIG_STATUS" >&2;}
+   { (exit 1); exit 1; }; }
+  else
+    ac_delim="$ac_delim!$ac_delim _$ac_delim!! "
+  fi
+done
+
+ac_eof=`sed -n '/^CEOF[0-9]*$/s/CEOF/0/p' conf$$subs.sed`
+if test -n "$ac_eof"; then
+  ac_eof=`echo "$ac_eof" | sort -nru | sed 1q`
+  ac_eof=`expr $ac_eof + 1`
+fi
+
+cat >>$CONFIG_STATUS <<_ACEOF
+cat >"\$tmp/subs-2.sed" <<\CEOF$ac_eof
+/@[a-zA-Z_][a-zA-Z_0-9]*@/!b
+_ACEOF
+sed '
+s/[,\\&]/\\&/g; s/@/@|#_!!_#|/g
+s/^/s,@/; s/!/@,|#_!!_#|/
+:n
+t n
+s/'"$ac_delim"'$/,g/; t
+s/$/\\/; p
+N; s/^.*\n//; s/[,\\&]/\\&/g; s/@/@|#_!!_#|/g; b n
+' >>$CONFIG_STATUS <conf$$subs.sed
+rm -f conf$$subs.sed
+cat >>$CONFIG_STATUS <<_ACEOF
+CEOF$ac_eof
+_ACEOF
+
+
+ac_delim='%!_!# '
+for ac_last_try in false false false false false :; do
+  cat >conf$$subs.sed <<_ACEOF
+EGREP_Q!$EGREP_Q$ac_delim
+LDD_R!$LDD_R$ac_delim
+FAST_CFLAGS!$FAST_CFLAGS$ac_delim
+FAST_CXXFLAGS!$FAST_CXXFLAGS$ac_delim
+OBJCXX_CXXFLAGS!$OBJCXX_CXXFLAGS$ac_delim
+DEPFLAGS!$DEPFLAGS$ac_delim
+DEPFLAGS_POST!$DEPFLAGS_POST$ac_delim
+FAST_LDFLAGS!$FAST_LDFLAGS$ac_delim
+APP_LDFLAGS!$APP_LDFLAGS$ac_delim
+DLL_LDFLAGS!$DLL_LDFLAGS$ac_delim
+C_LIBS!$C_LIBS$ac_delim
+OBJCXX_LIBS!$OBJCXX_LIBS$ac_delim
+GCCPCH!$GCCPCH$ac_delim
+RUNPATH_ORIGIN!$RUNPATH_ORIGIN$ac_delim
+NO_STRICT_ALIASING!$NO_STRICT_ALIASING$ac_delim
+D_SFX!$D_SFX$ac_delim
+DEBUG_SFX!$DEBUG_SFX$ac_delim
+LIB_OR_DLL!$LIB_OR_DLL$ac_delim
+FORCE_STATIC_LIB!$FORCE_STATIC_LIB$ac_delim
+APP_LIB_SETTING!$APP_LIB_SETTING$ac_delim
+APP_LIBS_SETTING!$APP_LIBS_SETTING$ac_delim
+LINK_DLL!$LINK_DLL$ac_delim
+has_dll_loadable!$has_dll_loadable$ac_delim
+LINK_LOADABLE!$LINK_LOADABLE$ac_delim
+CFLAGS_DLL!$CFLAGS_DLL$ac_delim
+CXXFLAGS_DLL!$CXXFLAGS_DLL$ac_delim
+ALLOW_UNDEF!$ALLOW_UNDEF$ac_delim
+FORBID_UNDEF!$FORBID_UNDEF$ac_delim
+OPT_GROUPS!$OPT_GROUPS$ac_delim
+local_lbsm!$local_lbsm$ac_delim
+ncbi_crypt!$ncbi_crypt$ac_delim
+CONNEXT!$CONNEXT$ac_delim
+XCONNEXT!$XCONNEXT$ac_delim
+serial!$serial$ac_delim
+bdb!$bdb$ac_delim
+dbapi!$dbapi$ac_delim
+objects!$objects$ac_delim
+gui!$gui$ac_delim
+algo!$algo$ac_delim
+app!$app$ac_delim
+internal!$internal$ac_delim
+check!$check$ac_delim
+CHECK_ARG!$CHECK_ARG$ac_delim
+CHECK_TOOLS!$CHECK_TOOLS$ac_delim
+CHECK_TIMEOUT_MULT!$CHECK_TIMEOUT_MULT$ac_delim
+CHECK_OS_NAME!$CHECK_OS_NAME$ac_delim
+FEATURES!$FEATURES$ac_delim
+script_shell!$script_shell$ac_delim
+make_shell!$make_shell$ac_delim
+obj_ext!$obj_ext$ac_delim
+lib_pre!$lib_pre$ac_delim
+lib_l_pre!$lib_l_pre$ac_delim
+lib_ext!$lib_ext$ac_delim
+dll_ext!$dll_ext$ac_delim
+loadable_ext!$loadable_ext$ac_delim
+lib_l_ext!$lib_l_ext$ac_delim
+exe_ext!$exe_ext$ac_delim
+f_compile!$f_compile$ac_delim
+f_outobj!$f_outobj$ac_delim
+f_outlib!$f_outlib$ac_delim
+f_libpath!$f_libpath$ac_delim
+f_runpath!$f_runpath$ac_delim
+f_outexe!$f_outexe$ac_delim
+BDB_LIB!$BDB_LIB$ac_delim
+BDB_CACHE_LIB!$BDB_CACHE_LIB$ac_delim
+DBAPI_DRIVER!$DBAPI_DRIVER$ac_delim
+DBAPI_CTLIB!$DBAPI_CTLIB$ac_delim
+DBAPI_DBLIB!$DBAPI_DBLIB$ac_delim
+DBAPI_MYSQL!$DBAPI_MYSQL$ac_delim
+DBAPI_ODBC!$DBAPI_ODBC$ac_delim
+THREAD_LIBS!$THREAD_LIBS$ac_delim
+NCBIATOMIC_LIB!$NCBIATOMIC_LIB$ac_delim
+OPENMP_FLAGS!$OPENMP_FLAGS$ac_delim
+NETWORK_LIBS!$NETWORK_LIBS$ac_delim
+NETWORK_PURE_LIBS!$NETWORK_PURE_LIBS$ac_delim
+RESOLVER_LIBS!$RESOLVER_LIBS$ac_delim
+MATH_LIBS!$MATH_LIBS$ac_delim
+KSTAT_LIBS!$KSTAT_LIBS$ac_delim
+RPCSVC_LIBS!$RPCSVC_LIBS$ac_delim
+CRYPT_LIBS!$CRYPT_LIBS$ac_delim
+DL_LIBS!$DL_LIBS$ac_delim
+RT_LIBS!$RT_LIBS$ac_delim
+UUID_LIBS!$UUID_LIBS$ac_delim
+DEMANGLE_LIBS!$DEMANGLE_LIBS$ac_delim
+ICONV_LIBS!$ICONV_LIBS$ac_delim
+Z_LIB!$Z_LIB$ac_delim
+BZ2_LIB!$BZ2_LIB$ac_delim
+PCREPOSIX_LIBS!$PCREPOSIX_LIBS$ac_delim
+PCRE_LIB!$PCRE_LIB$ac_delim
+OPENSSL_STATIC_LIBS!$OPENSSL_STATIC_LIBS$ac_delim
+TLS_INCLUDE!$TLS_INCLUDE$ac_delim
+TLS_LIBS!$TLS_LIBS$ac_delim
+SYBASE_PATH!$SYBASE_PATH$ac_delim
+SYBASE_LCL_PATH!$SYBASE_LCL_PATH$ac_delim
+SYBASE_INCLUDE!$SYBASE_INCLUDE$ac_delim
+SYBASE_LIBS!$SYBASE_LIBS$ac_delim
+SYBASE_DLLS!$SYBASE_DLLS$ac_delim
+_ACEOF
+
+  if test `sed -n "s/.*$ac_delim\$/X/p" conf$$subs.sed | grep -c X` = 97; then
+    break
+  elif $ac_last_try; then
+    { { echo "$as_me:$LINENO: error: could not make $CONFIG_STATUS" >&5
+echo "$as_me: error: could not make $CONFIG_STATUS" >&2;}
+   { (exit 1); exit 1; }; }
+  else
+    ac_delim="$ac_delim!$ac_delim _$ac_delim!! "
+  fi
+done
+
+ac_eof=`sed -n '/^CEOF[0-9]*$/s/CEOF/0/p' conf$$subs.sed`
+if test -n "$ac_eof"; then
+  ac_eof=`echo "$ac_eof" | sort -nru | sed 1q`
+  ac_eof=`expr $ac_eof + 1`
+fi
+
+cat >>$CONFIG_STATUS <<_ACEOF
+cat >"\$tmp/subs-3.sed" <<\CEOF$ac_eof
+/@[a-zA-Z_][a-zA-Z_0-9]*@/!b
+_ACEOF
+sed '
+s/[,\\&]/\\&/g; s/@/@|#_!!_#|/g
+s/^/s,@/; s/!/@,|#_!!_#|/
+:n
+t n
+s/'"$ac_delim"'$/,g/; t
+s/$/\\/; p
+N; s/^.*\n//; s/[,\\&]/\\&/g; s/@/@|#_!!_#|/g; b n
+' >>$CONFIG_STATUS <conf$$subs.sed
+rm -f conf$$subs.sed
+cat >>$CONFIG_STATUS <<_ACEOF
+CEOF$ac_eof
+_ACEOF
+
 
+ac_delim='%!_!# '
+for ac_last_try in false false false false false :; do
+  cat >conf$$subs.sed <<_ACEOF
+SYBASE_DBLIBS!$SYBASE_DBLIBS$ac_delim
+MYSQL_INCLUDE!$MYSQL_INCLUDE$ac_delim
+MYSQL_LIBS!$MYSQL_LIBS$ac_delim
+BERKELEYDB_INCLUDE!$BERKELEYDB_INCLUDE$ac_delim
+BERKELEYDB_LIBS!$BERKELEYDB_LIBS$ac_delim
+BERKELEYDB_STATIC_LIBS!$BERKELEYDB_STATIC_LIBS$ac_delim
+BERKELEYDB_CXX_LIBS!$BERKELEYDB_CXX_LIBS$ac_delim
+BERKELEYDB_CXX_STATIC_LIBS!$BERKELEYDB_CXX_STATIC_LIBS$ac_delim
+ODBC_INCLUDE!$ODBC_INCLUDE$ac_delim
+ODBC_LIBS!$ODBC_LIBS$ac_delim
+BOOST_INCLUDE!$BOOST_INCLUDE$ac_delim
+BOOST_LIBPATH!$BOOST_LIBPATH$ac_delim
+BOOST_TAG!$BOOST_TAG$ac_delim
+BOOST_FILESYSTEM_LIBS!$BOOST_FILESYSTEM_LIBS$ac_delim
+BOOST_FILESYSTEM_STATIC_LIBS!$BOOST_FILESYSTEM_STATIC_LIBS$ac_delim
+BOOST_REGEX_LIBS!$BOOST_REGEX_LIBS$ac_delim
+BOOST_REGEX_STATIC_LIBS!$BOOST_REGEX_STATIC_LIBS$ac_delim
+BOOST_SYSTEM_LIBS!$BOOST_SYSTEM_LIBS$ac_delim
+BOOST_SYSTEM_STATIC_LIBS!$BOOST_SYSTEM_STATIC_LIBS$ac_delim
+BOOST_TEST_PEM_LIBS!$BOOST_TEST_PEM_LIBS$ac_delim
+BOOST_TEST_PEM_STATIC_LIBS!$BOOST_TEST_PEM_STATIC_LIBS$ac_delim
+BOOST_TEST_TEM_LIBS!$BOOST_TEST_TEM_LIBS$ac_delim
+BOOST_TEST_TEM_STATIC_LIBS!$BOOST_TEST_TEM_STATIC_LIBS$ac_delim
+BOOST_TEST_UTF_LIBS!$BOOST_TEST_UTF_LIBS$ac_delim
+BOOST_TEST_UTF_STATIC_LIBS!$BOOST_TEST_UTF_STATIC_LIBS$ac_delim
+BOOST_THREAD_LIBS!$BOOST_THREAD_LIBS$ac_delim
+BOOST_THREAD_STATIC_LIBS!$BOOST_THREAD_STATIC_LIBS$ac_delim
+NCBI_C_INCLUDE!$NCBI_C_INCLUDE$ac_delim
+NCBI_C_LIBPATH!$NCBI_C_LIBPATH$ac_delim
+OPENGL_INCLUDE!$OPENGL_INCLUDE$ac_delim
+OPENGL_LIBS!$OPENGL_LIBS$ac_delim
+OPENGL_STATIC_LIBS!$OPENGL_STATIC_LIBS$ac_delim
+OSMESA_INCLUDE!$OSMESA_INCLUDE$ac_delim
+OSMESA_LIBS!$OSMESA_LIBS$ac_delim
+OSMESA_STATIC_LIBS!$OSMESA_STATIC_LIBS$ac_delim
+GLUT_INCLUDE!$GLUT_INCLUDE$ac_delim
+GLUT_LIBS!$GLUT_LIBS$ac_delim
+GLEW_INCLUDE!$GLEW_INCLUDE$ac_delim
+GLEW_LIBS!$GLEW_LIBS$ac_delim
+GLEW_STATIC_LIBS!$GLEW_STATIC_LIBS$ac_delim
+WXWIDGETS_INCLUDE!$WXWIDGETS_INCLUDE$ac_delim
+WXWIDGETS_LIBS!$WXWIDGETS_LIBS$ac_delim
+WXWIDGETS_STATIC_LIBS!$WXWIDGETS_STATIC_LIBS$ac_delim
+WXWIDGETS_GL_LIBS!$WXWIDGETS_GL_LIBS$ac_delim
+WXWIDGETS_GL_STATIC_LIBS!$WXWIDGETS_GL_STATIC_LIBS$ac_delim
+WXWIDGETS_POST_LINK!$WXWIDGETS_POST_LINK$ac_delim
+FASTCGI_INCLUDE!$FASTCGI_INCLUDE$ac_delim
+FASTCGI_LIBS!$FASTCGI_LIBS$ac_delim
+FASTCGI_OBJS!$FASTCGI_OBJS$ac_delim
+NCBI_SSS_INCLUDE!$NCBI_SSS_INCLUDE$ac_delim
+NCBI_SSS_LIBPATH!$NCBI_SSS_LIBPATH$ac_delim
+LIBSSSUTILS!$LIBSSSUTILS$ac_delim
+LIBSSSDB!$LIBSSSDB$ac_delim
+sssutils!$sssutils$ac_delim
+SP_INCLUDE!$SP_INCLUDE$ac_delim
+SP_LIBS!$SP_LIBS$ac_delim
+ORBACUS_INCLUDE!$ORBACUS_INCLUDE$ac_delim
+ORBACUS_LIBPATH!$ORBACUS_LIBPATH$ac_delim
+LIBOB!$LIBOB$ac_delim
+LIBIMR!$LIBIMR$ac_delim
+ICU_CONFIG!$ICU_CONFIG$ac_delim
+ICU_INCLUDE!$ICU_INCLUDE$ac_delim
+ICU_LIBS!$ICU_LIBS$ac_delim
+ICU_STATIC_LIBS!$ICU_STATIC_LIBS$ac_delim
+EXPAT_STATIC_LIBS!$EXPAT_STATIC_LIBS$ac_delim
+SABLOT_STATIC_LIBS!$SABLOT_STATIC_LIBS$ac_delim
+LIBXML_STATIC_LIBS!$LIBXML_STATIC_LIBS$ac_delim
+LIBXSLT_STATIC_LIBS!$LIBXSLT_STATIC_LIBS$ac_delim
+LIBEXSLT_STATIC_LIBS!$LIBEXSLT_STATIC_LIBS$ac_delim
+XERCES_INCLUDE!$XERCES_INCLUDE$ac_delim
+XERCES_LIBS!$XERCES_LIBS$ac_delim
+XERCES_STATIC_LIBS!$XERCES_STATIC_LIBS$ac_delim
+XALAN_INCLUDE!$XALAN_INCLUDE$ac_delim
+XALAN_LIBS!$XALAN_LIBS$ac_delim
+XALAN_STATIC_LIBS!$XALAN_STATIC_LIBS$ac_delim
+ZORBA_INCLUDE!$ZORBA_INCLUDE$ac_delim
+ZORBA_LIBS!$ZORBA_LIBS$ac_delim
+ZORBA_STATIC_LIBS!$ZORBA_STATIC_LIBS$ac_delim
+SQLITE3_STATIC_LIBS!$SQLITE3_STATIC_LIBS$ac_delim
+FREETYPE_INCLUDE!$FREETYPE_INCLUDE$ac_delim
+FREETYPE_LIBS!$FREETYPE_LIBS$ac_delim
+GSOAP_PATH!$GSOAP_PATH$ac_delim
+MONGODB_STATIC_LIBS!$MONGODB_STATIC_LIBS$ac_delim
+ncbi_xreader_pubseqos!$ncbi_xreader_pubseqos$ac_delim
+ncbi_xreader_pubseqos2!$ncbi_xreader_pubseqos2$ac_delim
+UNLESS_PUBSEQOS!$UNLESS_PUBSEQOS$ac_delim
+PERL_INCLUDE!$PERL_INCLUDE$ac_delim
+PERL_LIBS!$PERL_LIBS$ac_delim
+JDK_PATH!$JDK_PATH$ac_delim
+JDK_INCLUDE!$JDK_INCLUDE$ac_delim
+ncbi_java!$ncbi_java$ac_delim
+NCBI_C_ncbi!$NCBI_C_ncbi$ac_delim
+BINCOPY!$BINCOPY$ac_delim
+APP_NOCOPY!$APP_NOCOPY$ac_delim
+APP_OR_NULL!$APP_OR_NULL$ac_delim
+IF_REBUILDING_LIBS!$IF_REBUILDING_LIBS$ac_delim
+IF_REBUILDING_CONDITIONALLY!$IF_REBUILDING_CONDITIONALLY$ac_delim
+_ACEOF
 
-cat >>$CONFIG_STATUS <<\_ACEOF
-for ac_config_target in $ac_config_targets
-do
-  case "$ac_config_target" in
-  # Handling of arguments.
-  "$configurables" ) CONFIG_FILES="$CONFIG_FILES $configurables" ;;
-  "$srcdir/./Makefile" ) CONFIG_FILES="$CONFIG_FILES $srcdir/./Makefile:src/build-system/Makefile.in.top" ;;
-  "default" ) CONFIG_COMMANDS="$CONFIG_COMMANDS default" ;;
-  "${ncbiconf}" ) CONFIG_HEADERS="$CONFIG_HEADERS ${ncbiconf}:src/build-system/config.h.in" ;;
-  *) { { echo "$as_me:$LINENO: error: invalid argument: $ac_config_target" >&5
-echo "$as_me: error: invalid argument: $ac_config_target" >&2;}
-   { (exit 1); exit 1; }; };;
-  esac
+  if test `sed -n "s/.*$ac_delim\$/X/p" conf$$subs.sed | grep -c X` = 97; then
+    break
+  elif $ac_last_try; then
+    { { echo "$as_me:$LINENO: error: could not make $CONFIG_STATUS" >&5
+echo "$as_me: error: could not make $CONFIG_STATUS" >&2;}
+   { (exit 1); exit 1; }; }
+  else
+    ac_delim="$ac_delim!$ac_delim _$ac_delim!! "
+  fi
 done
 
-# If the user did not use the arguments to specify the items to instantiate,
-# then the envvar interface is used.  Set only those that are not.
-# We use the long form for the default assignment because of an extremely
-# bizarre bug on SunOS 4.1.3.
-if $ac_need_defaults; then
-  test "${CONFIG_FILES+set}" = set || CONFIG_FILES=$config_files
-  test "${CONFIG_HEADERS+set}" = set || CONFIG_HEADERS=$config_headers
-  test "${CONFIG_COMMANDS+set}" = set || CONFIG_COMMANDS=$config_commands
+ac_eof=`sed -n '/^CEOF[0-9]*$/s/CEOF/0/p' conf$$subs.sed`
+if test -n "$ac_eof"; then
+  ac_eof=`echo "$ac_eof" | sort -nru | sed 1q`
+  ac_eof=`expr $ac_eof + 1`
 fi
 
-# Have a temporary directory for convenience.  Make it in the build tree
-# simply because there is no reason to put it here, and in addition,
-# creating and moving files from /tmp can sometimes cause problems.
-# Create a temporary directory, and hook for its removal unless debugging.
-$debug ||
-{
-  trap 'exit_status=$?; rm -rf $tmp && exit $exit_status' 0
-  trap '{ (exit 1); exit 1; }' 1 2 13 15
-}
-
-# Create a (secure) tmp directory for tmp files.
-
-{
-  tmp=`(umask 077 && mktemp -d -q "./confstatXXXXXX") 2>/dev/null` &&
-  test -n "$tmp" && test -d "$tmp"
-}  ||
-{
-  tmp=./confstat$$-$RANDOM
-  (umask 077 && mkdir $tmp)
-} ||
-{
-   echo "$me: cannot create a temporary directory in ." >&2
-   { (exit 1); exit 1; }
-}
-
+cat >>$CONFIG_STATUS <<_ACEOF
+cat >"\$tmp/subs-4.sed" <<\CEOF$ac_eof
+/@[a-zA-Z_][a-zA-Z_0-9]*@/!b
 _ACEOF
-
+sed '
+s/[,\\&]/\\&/g; s/@/@|#_!!_#|/g
+s/^/s,@/; s/!/@,|#_!!_#|/
+:n
+t n
+s/'"$ac_delim"'$/,g/; t
+s/$/\\/; p
+N; s/^.*\n//; s/[,\\&]/\\&/g; s/@/@|#_!!_#|/g; b n
+' >>$CONFIG_STATUS <conf$$subs.sed
+rm -f conf$$subs.sed
 cat >>$CONFIG_STATUS <<_ACEOF
+CEOF$ac_eof
+_ACEOF
 
-#
-# CONFIG_FILES section.
-#
-
-# No need to generate the scripts if there are no CONFIG_FILES.
-# This happens for instance when ./config.status config.h
-if test -n "\$CONFIG_FILES"; then
-  # Protect against being on the right side of a sed subst in config.status.
-  sed 's/,@/@@/; s/@,/@@/; s/,;t t\$/@;t t/; /@;t t\$/s/[\\\\&,]/\\\\&/g;
-   s/@@/,@/; s/@@/@,/; s/@;t t\$/,;t t/' >\$tmp/subs.sed <<\\CEOF
-s,@SHELL@,$SHELL,;t t
-s,@PATH_SEPARATOR@,$PATH_SEPARATOR,;t t
-s,@PACKAGE_NAME@,$PACKAGE_NAME,;t t
-s,@PACKAGE_TARNAME@,$PACKAGE_TARNAME,;t t
-s,@PACKAGE_VERSION@,$PACKAGE_VERSION,;t t
-s,@PACKAGE_STRING@,$PACKAGE_STRING,;t t
-s,@PACKAGE_BUGREPORT@,$PACKAGE_BUGREPORT,;t t
-s,@exec_prefix@,$exec_prefix,;t t
-s,@prefix@,$prefix,;t t
-s,@program_transform_name@,$program_transform_name,;t t
-s,@bindir@,$bindir,;t t
-s,@sbindir@,$sbindir,;t t
-s,@libexecdir@,$libexecdir,;t t
-s,@datadir@,$datadir,;t t
-s,@sysconfdir@,$sysconfdir,;t t
-s,@sharedstatedir@,$sharedstatedir,;t t
-s,@localstatedir@,$localstatedir,;t t
-s,@libdir@,$libdir,;t t
-s,@includedir@,$includedir,;t t
-s,@oldincludedir@,$oldincludedir,;t t
-s,@infodir@,$infodir,;t t
-s,@mandir@,$mandir,;t t
-s,@build_alias@,$build_alias,;t t
-s,@host_alias@,$host_alias,;t t
-s,@target_alias@,$target_alias,;t t
-s,@DEFS@,$DEFS,;t t
-s,@ECHO_C@,$ECHO_C,;t t
-s,@ECHO_N@,$ECHO_N,;t t
-s,@ECHO_T@,$ECHO_T,;t t
-s,@LIBS@,$LIBS,;t t
-s,@PROJECTS@,$PROJECTS,;t t
-s,@build@,$build,;t t
-s,@build_cpu@,$build_cpu,;t t
-s,@build_vendor@,$build_vendor,;t t
-s,@build_os@,$build_os,;t t
-s,@host@,$host,;t t
-s,@host_cpu@,$host_cpu,;t t
-s,@host_vendor@,$host_vendor,;t t
-s,@host_os@,$host_os,;t t
-s,@INSTALL_PROGRAM@,$INSTALL_PROGRAM,;t t
-s,@INSTALL_SCRIPT@,$INSTALL_SCRIPT,;t t
-s,@INSTALL_DATA@,$INSTALL_DATA,;t t
-s,@CC@,$CC,;t t
-s,@CFLAGS@,$CFLAGS,;t t
-s,@LDFLAGS@,$LDFLAGS,;t t
-s,@CPPFLAGS@,$CPPFLAGS,;t t
-s,@ac_ct_CC@,$ac_ct_CC,;t t
-s,@EXEEXT@,$EXEEXT,;t t
-s,@OBJEXT@,$OBJEXT,;t t
-s,@CXX@,$CXX,;t t
-s,@CXXFLAGS@,$CXXFLAGS,;t t
-s,@ac_ct_CXX@,$ac_ct_CXX,;t t
-s,@MT_SFX@,$MT_SFX,;t t
-s,@DLL@,$DLL,;t t
-s,@DLL_LIB_SETTING@,$DLL_LIB_SETTING,;t t
-s,@IF_WITH_DLL@,$IF_WITH_DLL,;t t
-s,@UNLESS_WITH_DLL@,$UNLESS_WITH_DLL,;t t
-s,@STATIC@,$STATIC,;t t
-s,@USUAL_AND_DLL@,$USUAL_AND_DLL,;t t
-s,@USUAL_AND_LIB@,$USUAL_AND_LIB,;t t
-s,@LN_S@,$LN_S,;t t
-s,@RANLIB@,$RANLIB,;t t
-s,@ac_ct_RANLIB@,$ac_ct_RANLIB,;t t
-s,@AR@,$AR,;t t
-s,@STRIP@,$STRIP,;t t
-s,@DISTCC@,$DISTCC,;t t
-s,@CCACHE@,$CCACHE,;t t
-s,@TAIL@,$TAIL,;t t
-s,@TOUCH@,$TOUCH,;t t
-s,@EGREP@,$EGREP,;t t
-s,@VALGRIND_PATH@,$VALGRIND_PATH,;t t
-s,@CXXCPP@,$CXXCPP,;t t
-s,@TCHECK_CL@,$TCHECK_CL,;t t
-s,@AMQ@,$AMQ,;t t
-s,@CPP@,$CPP,;t t
-s,@Z_INCLUDE@,$Z_INCLUDE,;t t
-s,@Z_LIBS@,$Z_LIBS,;t t
-s,@BZ2_INCLUDE@,$BZ2_INCLUDE,;t t
-s,@BZ2_LIBS@,$BZ2_LIBS,;t t
-s,@LZO_INCLUDE@,$LZO_INCLUDE,;t t
-s,@LZO_LIBS@,$LZO_LIBS,;t t
-s,@PCRE_INCLUDE@,$PCRE_INCLUDE,;t t
-s,@PCRE_LIBS@,$PCRE_LIBS,;t t
-s,@LIBGCRYPT_CONFIG@,$LIBGCRYPT_CONFIG,;t t
-s,@GCRYPT_INCLUDE@,$GCRYPT_INCLUDE,;t t
-s,@GCRYPT_LIBS@,$GCRYPT_LIBS,;t t
-s,@LIBGNUTLS_CONFIG@,$LIBGNUTLS_CONFIG,;t t
-s,@GNUTLS_INCLUDE@,$GNUTLS_INCLUDE,;t t
-s,@GNUTLS_LIBS@,$GNUTLS_LIBS,;t t
-s,@OPENSSL_INCLUDE@,$OPENSSL_INCLUDE,;t t
-s,@OPENSSL_LIBS@,$OPENSSL_LIBS,;t t
-s,@KRB5_CONFIG@,$KRB5_CONFIG,;t t
-s,@KRB5_INCLUDE@,$KRB5_INCLUDE,;t t
-s,@KRB5_LIBS@,$KRB5_LIBS,;t t
-s,@CURL_INCLUDE@,$CURL_INCLUDE,;t t
-s,@CURL_LIBS@,$CURL_LIBS,;t t
-s,@FTDS64_INCLUDE@,$FTDS64_INCLUDE,;t t
-s,@FTDS64_LIBS@,$FTDS64_LIBS,;t t
-s,@FTDS64_LIB@,$FTDS64_LIB,;t t
-s,@FTDS64_CTLIB_INCLUDE@,$FTDS64_CTLIB_INCLUDE,;t t
-s,@FTDS64_CTLIB_LIBS@,$FTDS64_CTLIB_LIBS,;t t
-s,@FTDS64_CTLIB_LIB@,$FTDS64_CTLIB_LIB,;t t
-s,@FTDS_INCLUDE@,$FTDS_INCLUDE,;t t
-s,@FTDS_LIBS@,$FTDS_LIBS,;t t
-s,@FTDS_LIB@,$FTDS_LIB,;t t
-s,@freetds@,$freetds,;t t
-s,@ftds64@,$ftds64,;t t
-s,@mysql_config@,$mysql_config,;t t
-s,@PYTHON@,$PYTHON,;t t
-s,@PYTHON_INCLUDE@,$PYTHON_INCLUDE,;t t
-s,@PYTHON_LIBS@,$PYTHON_LIBS,;t t
-s,@PYTHON23@,$PYTHON23,;t t
-s,@PYTHON23_INCLUDE@,$PYTHON23_INCLUDE,;t t
-s,@PYTHON23_LIBS@,$PYTHON23_LIBS,;t t
-s,@PYTHON24@,$PYTHON24,;t t
-s,@PYTHON24_INCLUDE@,$PYTHON24_INCLUDE,;t t
-s,@PYTHON24_LIBS@,$PYTHON24_LIBS,;t t
-s,@PYTHON25@,$PYTHON25,;t t
-s,@PYTHON25_INCLUDE@,$PYTHON25_INCLUDE,;t t
-s,@PYTHON25_LIBS@,$PYTHON25_LIBS,;t t
-s,@PERL@,$PERL,;t t
-s,@_ACJNI_JAVAC@,$_ACJNI_JAVAC,;t t
-s,@X_CFLAGS@,$X_CFLAGS,;t t
-s,@X_PRE_LIBS@,$X_PRE_LIBS,;t t
-s,@X_LIBS@,$X_LIBS,;t t
-s,@X_EXTRA_LIBS@,$X_EXTRA_LIBS,;t t
-s,@wxconf@,$wxconf,;t t
-s,@EXPAT_INCLUDE@,$EXPAT_INCLUDE,;t t
-s,@EXPAT_LIBS@,$EXPAT_LIBS,;t t
-s,@SABLOT_INCLUDE@,$SABLOT_INCLUDE,;t t
-s,@SABLOT_LIBS@,$SABLOT_LIBS,;t t
-s,@LIBXML_INCLUDE@,$LIBXML_INCLUDE,;t t
-s,@LIBXML_LIBS@,$LIBXML_LIBS,;t t
-s,@LIBXSLT_INCLUDE@,$LIBXSLT_INCLUDE,;t t
-s,@LIBXSLT_LIBS@,$LIBXSLT_LIBS,;t t
-s,@XSLTPROC@,$XSLTPROC,;t t
-s,@LIBEXSLT_INCLUDE@,$LIBEXSLT_INCLUDE,;t t
-s,@LIBEXSLT_LIBS@,$LIBEXSLT_LIBS,;t t
-s,@SQLITE3_INCLUDE@,$SQLITE3_INCLUDE,;t t
-s,@SQLITE3_LIBS@,$SQLITE3_LIBS,;t t
-s,@OECHEM_INCLUDE@,$OECHEM_INCLUDE,;t t
-s,@OECHEM_LIBS@,$OECHEM_LIBS,;t t
-s,@SGE_INCLUDE@,$SGE_INCLUDE,;t t
-s,@SGE_LIBS@,$SGE_LIBS,;t t
-s,@MUPARSER_INCLUDE@,$MUPARSER_INCLUDE,;t t
-s,@MUPARSER_LIBS@,$MUPARSER_LIBS,;t t
-s,@HDF5_INCLUDE@,$HDF5_INCLUDE,;t t
-s,@HDF5_LIBS@,$HDF5_LIBS,;t t
-s,@JPEG_INCLUDE@,$JPEG_INCLUDE,;t t
-s,@JPEG_LIBS@,$JPEG_LIBS,;t t
-s,@PNG_INCLUDE@,$PNG_INCLUDE,;t t
-s,@PNG_LIBS@,$PNG_LIBS,;t t
-s,@TIFF_INCLUDE@,$TIFF_INCLUDE,;t t
-s,@TIFF_LIBS@,$TIFF_LIBS,;t t
-s,@UNGIF_INCLUDE@,$UNGIF_INCLUDE,;t t
-s,@UNGIF_LIBS@,$UNGIF_LIBS,;t t
-s,@GIF_INCLUDE@,$GIF_INCLUDE,;t t
-s,@GIF_LIBS@,$GIF_LIBS,;t t
-s,@XPM_INCLUDE@,$XPM_INCLUDE,;t t
-s,@XPM_LIBS@,$XPM_LIBS,;t t
-s,@freetype_config@,$freetype_config,;t t
-s,@FTGL_INCLUDE@,$FTGL_INCLUDE,;t t
-s,@FTGL_LIBS@,$FTGL_LIBS,;t t
-s,@MAGIC_INCLUDE@,$MAGIC_INCLUDE,;t t
-s,@MAGIC_LIBS@,$MAGIC_LIBS,;t t
-s,@MIMETIC_INCLUDE@,$MIMETIC_INCLUDE,;t t
-s,@MIMETIC_LIBS@,$MIMETIC_LIBS,;t t
-s,@signature@,$signature,;t t
-s,@build_root@,$build_root,;t t
-s,@top_srcdir@,$top_srcdir,;t t
-s,@srcdir@,$srcdir,;t t
-s,@status_dir@,$status_dir,;t t
-s,@builddir@,$builddir,;t t
-s,@runpath@,$runpath,;t t
-s,@ncbi_runpath@,$ncbi_runpath,;t t
-s,@c_ncbi_runpath@,$c_ncbi_runpath,;t t
-s,@LINK@,$LINK,;t t
-s,@C_LINK@,$C_LINK,;t t
-s,@TAIL_N@,$TAIL_N,;t t
-s,@EGREP_Q@,$EGREP_Q,;t t
-s,@FAST_CFLAGS@,$FAST_CFLAGS,;t t
-s,@FAST_CXXFLAGS@,$FAST_CXXFLAGS,;t t
-s,@OBJCXX_CXXFLAGS@,$OBJCXX_CXXFLAGS,;t t
-s,@DEPFLAGS@,$DEPFLAGS,;t t
-s,@DEPFLAGS_POST@,$DEPFLAGS_POST,;t t
-s,@FAST_LDFLAGS@,$FAST_LDFLAGS,;t t
-s,@APP_LDFLAGS@,$APP_LDFLAGS,;t t
-s,@DLL_LDFLAGS@,$DLL_LDFLAGS,;t t
-s,@C_LIBS@,$C_LIBS,;t t
-s,@OBJCXX_LIBS@,$OBJCXX_LIBS,;t t
-s,@GCCPCH@,$GCCPCH,;t t
-s,@RUNPATH_ORIGIN@,$RUNPATH_ORIGIN,;t t
-s,@NO_STRICT_ALIASING@,$NO_STRICT_ALIASING,;t t
-s,@D_SFX@,$D_SFX,;t t
-s,@DEBUG_SFX@,$DEBUG_SFX,;t t
-s,@LIB_OR_DLL@,$LIB_OR_DLL,;t t
-s,@FORCE_STATIC_LIB@,$FORCE_STATIC_LIB,;t t
-s,@APP_LIB_SETTING@,$APP_LIB_SETTING,;t t
-s,@APP_LIBS_SETTING@,$APP_LIBS_SETTING,;t t
-s,@LINK_DLL@,$LINK_DLL,;t t
-s,@has_dll_loadable@,$has_dll_loadable,;t t
-s,@LINK_LOADABLE@,$LINK_LOADABLE,;t t
-s,@CFLAGS_DLL@,$CFLAGS_DLL,;t t
-s,@CXXFLAGS_DLL@,$CXXFLAGS_DLL,;t t
-s,@ALLOW_UNDEF@,$ALLOW_UNDEF,;t t
-s,@FORBID_UNDEF@,$FORBID_UNDEF,;t t
-s,@OPT_GROUPS@,$OPT_GROUPS,;t t
-s,@local_lbsm@,$local_lbsm,;t t
-s,@ncbi_crypt@,$ncbi_crypt,;t t
-s,@CONNEXT@,$CONNEXT,;t t
-s,@XCONNEXT@,$XCONNEXT,;t t
-s,@serial@,$serial,;t t
-s,@bdb@,$bdb,;t t
-s,@dbapi@,$dbapi,;t t
-s,@objects@,$objects,;t t
-s,@gui@,$gui,;t t
-s,@algo@,$algo,;t t
-s,@app@,$app,;t t
-s,@internal@,$internal,;t t
-s,@sra@,$sra,;t t
-s,@check@,$check,;t t
-s,@CHECK_ARG@,$CHECK_ARG,;t t
-s,@CHECK_TOOLS@,$CHECK_TOOLS,;t t
-s,@CHECK_TIMEOUT_MULT@,$CHECK_TIMEOUT_MULT,;t t
-s,@CHECK_OS_NAME@,$CHECK_OS_NAME,;t t
-s,@FEATURES@,$FEATURES,;t t
-s,@script_shell@,$script_shell,;t t
-s,@make_shell@,$make_shell,;t t
-s,@obj_ext@,$obj_ext,;t t
-s,@lib_pre@,$lib_pre,;t t
-s,@lib_l_pre@,$lib_l_pre,;t t
-s,@lib_ext@,$lib_ext,;t t
-s,@dll_ext@,$dll_ext,;t t
-s,@loadable_ext@,$loadable_ext,;t t
-s,@lib_l_ext@,$lib_l_ext,;t t
-s,@exe_ext@,$exe_ext,;t t
-s,@f_compile@,$f_compile,;t t
-s,@f_outobj@,$f_outobj,;t t
-s,@f_outlib@,$f_outlib,;t t
-s,@f_libpath@,$f_libpath,;t t
-s,@f_runpath@,$f_runpath,;t t
-s,@f_outexe@,$f_outexe,;t t
-s,@BDB_LIB@,$BDB_LIB,;t t
-s,@BDB_CACHE_LIB@,$BDB_CACHE_LIB,;t t
-s,@DBAPI_DRIVER@,$DBAPI_DRIVER,;t t
-s,@DBAPI_CTLIB@,$DBAPI_CTLIB,;t t
-s,@DBAPI_DBLIB@,$DBAPI_DBLIB,;t t
-s,@DBAPI_MYSQL@,$DBAPI_MYSQL,;t t
-s,@DBAPI_ODBC@,$DBAPI_ODBC,;t t
-s,@THREAD_LIBS@,$THREAD_LIBS,;t t
-s,@NCBIATOMIC_LIB@,$NCBIATOMIC_LIB,;t t
-s,@NETWORK_LIBS@,$NETWORK_LIBS,;t t
-s,@NETWORK_PURE_LIBS@,$NETWORK_PURE_LIBS,;t t
-s,@RESOLVER_LIBS@,$RESOLVER_LIBS,;t t
-s,@MATH_LIBS@,$MATH_LIBS,;t t
-s,@KSTAT_LIBS@,$KSTAT_LIBS,;t t
-s,@RPCSVC_LIBS@,$RPCSVC_LIBS,;t t
-s,@CRYPT_LIBS@,$CRYPT_LIBS,;t t
-s,@DL_LIBS@,$DL_LIBS,;t t
-s,@RT_LIBS@,$RT_LIBS,;t t
-s,@UUID_LIBS@,$UUID_LIBS,;t t
-s,@DEMANGLE_LIBS@,$DEMANGLE_LIBS,;t t
-s,@ICONV_LIBS@,$ICONV_LIBS,;t t
-s,@Z_LIB@,$Z_LIB,;t t
-s,@BZ2_LIB@,$BZ2_LIB,;t t
-s,@PCREPOSIX_LIBS@,$PCREPOSIX_LIBS,;t t
-s,@PCRE_LIB@,$PCRE_LIB,;t t
-s,@OPENSSL_STATIC_LIBS@,$OPENSSL_STATIC_LIBS,;t t
-s,@TLS_INCLUDE@,$TLS_INCLUDE,;t t
-s,@TLS_LIBS@,$TLS_LIBS,;t t
-s,@SYBASE_PATH@,$SYBASE_PATH,;t t
-s,@SYBASE_LCL_PATH@,$SYBASE_LCL_PATH,;t t
-s,@SYBASE_INCLUDE@,$SYBASE_INCLUDE,;t t
-s,@SYBASE_LIBS@,$SYBASE_LIBS,;t t
-s,@SYBASE_DLLS@,$SYBASE_DLLS,;t t
-s,@SYBASE_DBLIBS@,$SYBASE_DBLIBS,;t t
-s,@MYSQL_INCLUDE@,$MYSQL_INCLUDE,;t t
-s,@MYSQL_LIBS@,$MYSQL_LIBS,;t t
-s,@BERKELEYDB_INCLUDE@,$BERKELEYDB_INCLUDE,;t t
-s,@BERKELEYDB_LIBS@,$BERKELEYDB_LIBS,;t t
-s,@BERKELEYDB_STATIC_LIBS@,$BERKELEYDB_STATIC_LIBS,;t t
-s,@BERKELEYDB_CXX_LIBS@,$BERKELEYDB_CXX_LIBS,;t t
-s,@BERKELEYDB_CXX_STATIC_LIBS@,$BERKELEYDB_CXX_STATIC_LIBS,;t t
-s,@ODBC_INCLUDE@,$ODBC_INCLUDE,;t t
-s,@ODBC_LIBS@,$ODBC_LIBS,;t t
-s,@BOOST_INCLUDE@,$BOOST_INCLUDE,;t t
-s,@BOOST_LIBPATH@,$BOOST_LIBPATH,;t t
-s,@BOOST_TAG@,$BOOST_TAG,;t t
-s,@BOOST_REGEX_LIBS@,$BOOST_REGEX_LIBS,;t t
-s,@BOOST_REGEX_STATIC_LIBS@,$BOOST_REGEX_STATIC_LIBS,;t t
-s,@BOOST_SYSTEM_LIBS@,$BOOST_SYSTEM_LIBS,;t t
-s,@BOOST_SYSTEM_STATIC_LIBS@,$BOOST_SYSTEM_STATIC_LIBS,;t t
-s,@BOOST_TEST_PEM_LIBS@,$BOOST_TEST_PEM_LIBS,;t t
-s,@BOOST_TEST_PEM_STATIC_LIBS@,$BOOST_TEST_PEM_STATIC_LIBS,;t t
-s,@BOOST_TEST_TEM_LIBS@,$BOOST_TEST_TEM_LIBS,;t t
-s,@BOOST_TEST_TEM_STATIC_LIBS@,$BOOST_TEST_TEM_STATIC_LIBS,;t t
-s,@BOOST_TEST_UTF_LIBS@,$BOOST_TEST_UTF_LIBS,;t t
-s,@BOOST_TEST_UTF_STATIC_LIBS@,$BOOST_TEST_UTF_STATIC_LIBS,;t t
-s,@BOOST_THREAD_LIBS@,$BOOST_THREAD_LIBS,;t t
-s,@BOOST_THREAD_STATIC_LIBS@,$BOOST_THREAD_STATIC_LIBS,;t t
-s,@NCBI_C_INCLUDE@,$NCBI_C_INCLUDE,;t t
-s,@NCBI_C_LIBPATH@,$NCBI_C_LIBPATH,;t t
-s,@OPENGL_INCLUDE@,$OPENGL_INCLUDE,;t t
-s,@OPENGL_LIBS@,$OPENGL_LIBS,;t t
-s,@OPENGL_STATIC_LIBS@,$OPENGL_STATIC_LIBS,;t t
-s,@OSMESA_INCLUDE@,$OSMESA_INCLUDE,;t t
-s,@OSMESA_LIBS@,$OSMESA_LIBS,;t t
-s,@OSMESA_STATIC_LIBS@,$OSMESA_STATIC_LIBS,;t t
-s,@GLUT_INCLUDE@,$GLUT_INCLUDE,;t t
-s,@GLUT_LIBS@,$GLUT_LIBS,;t t
-s,@GLEW_INCLUDE@,$GLEW_INCLUDE,;t t
-s,@GLEW_LIBS@,$GLEW_LIBS,;t t
-s,@GLEW_STATIC_LIBS@,$GLEW_STATIC_LIBS,;t t
-s,@WXWIDGETS_INCLUDE@,$WXWIDGETS_INCLUDE,;t t
-s,@WXWIDGETS_LIBS@,$WXWIDGETS_LIBS,;t t
-s,@WXWIDGETS_STATIC_LIBS@,$WXWIDGETS_STATIC_LIBS,;t t
-s,@WXWIDGETS_GL_LIBS@,$WXWIDGETS_GL_LIBS,;t t
-s,@WXWIDGETS_GL_STATIC_LIBS@,$WXWIDGETS_GL_STATIC_LIBS,;t t
-s,@WXWIDGETS_POST_LINK@,$WXWIDGETS_POST_LINK,;t t
-s,@FASTCGI_INCLUDE@,$FASTCGI_INCLUDE,;t t
-s,@FASTCGI_LIBS@,$FASTCGI_LIBS,;t t
-s,@FASTCGI_OBJS@,$FASTCGI_OBJS,;t t
-s,@NCBI_SSS_INCLUDE@,$NCBI_SSS_INCLUDE,;t t
-s,@NCBI_SSS_LIBPATH@,$NCBI_SSS_LIBPATH,;t t
-s,@LIBSSSUTILS@,$LIBSSSUTILS,;t t
-s,@LIBSSSDB@,$LIBSSSDB,;t t
-s,@sssutils@,$sssutils,;t t
-s,@SP_INCLUDE@,$SP_INCLUDE,;t t
-s,@SP_LIBS@,$SP_LIBS,;t t
-s,@ORBACUS_INCLUDE@,$ORBACUS_INCLUDE,;t t
-s,@ORBACUS_LIBPATH@,$ORBACUS_LIBPATH,;t t
-s,@LIBOB@,$LIBOB,;t t
-s,@LIBIMR@,$LIBIMR,;t t
-s,@ICU_CONFIG@,$ICU_CONFIG,;t t
-s,@ICU_INCLUDE@,$ICU_INCLUDE,;t t
-s,@ICU_LIBS@,$ICU_LIBS,;t t
-s,@ICU_STATIC_LIBS@,$ICU_STATIC_LIBS,;t t
-s,@EXPAT_STATIC_LIBS@,$EXPAT_STATIC_LIBS,;t t
-s,@SABLOT_STATIC_LIBS@,$SABLOT_STATIC_LIBS,;t t
-s,@LIBXML_STATIC_LIBS@,$LIBXML_STATIC_LIBS,;t t
-s,@LIBXSLT_STATIC_LIBS@,$LIBXSLT_STATIC_LIBS,;t t
-s,@LIBEXSLT_STATIC_LIBS@,$LIBEXSLT_STATIC_LIBS,;t t
-s,@XERCES_INCLUDE@,$XERCES_INCLUDE,;t t
-s,@XERCES_LIBS@,$XERCES_LIBS,;t t
-s,@XERCES_STATIC_LIBS@,$XERCES_STATIC_LIBS,;t t
-s,@XALAN_INCLUDE@,$XALAN_INCLUDE,;t t
-s,@XALAN_LIBS@,$XALAN_LIBS,;t t
-s,@XALAN_STATIC_LIBS@,$XALAN_STATIC_LIBS,;t t
-s,@ZORBA_INCLUDE@,$ZORBA_INCLUDE,;t t
-s,@ZORBA_LIBS@,$ZORBA_LIBS,;t t
-s,@ZORBA_STATIC_LIBS@,$ZORBA_STATIC_LIBS,;t t
-s,@SQLITE3_STATIC_LIBS@,$SQLITE3_STATIC_LIBS,;t t
-s,@FREETYPE_INCLUDE@,$FREETYPE_INCLUDE,;t t
-s,@FREETYPE_LIBS@,$FREETYPE_LIBS,;t t
-s,@ncbi_xreader_pubseqos@,$ncbi_xreader_pubseqos,;t t
-s,@ncbi_xreader_pubseqos2@,$ncbi_xreader_pubseqos2,;t t
-s,@UNLESS_PUBSEQOS@,$UNLESS_PUBSEQOS,;t t
-s,@PERL_INCLUDE@,$PERL_INCLUDE,;t t
-s,@PERL_LIBS@,$PERL_LIBS,;t t
-s,@JDK_PATH@,$JDK_PATH,;t t
-s,@JDK_INCLUDE@,$JDK_INCLUDE,;t t
-s,@ncbi_java@,$ncbi_java,;t t
-s,@NCBI_C_ncbi@,$NCBI_C_ncbi,;t t
-s,@BINCOPY@,$BINCOPY,;t t
-s,@APP_NOCOPY@,$APP_NOCOPY,;t t
-s,@APP_OR_NULL@,$APP_OR_NULL,;t t
-s,@IF_REBUILDING_LIBS@,$IF_REBUILDING_LIBS,;t t
-s,@IF_REBUILDING_CONDITIONALLY@,$IF_REBUILDING_CONDITIONALLY,;t t
-s,@IF_DEACTIVATING@,$IF_DEACTIVATING,;t t
-s,@configurables_mfname@,$configurables_mfname,;t t
-s,@CC_FILTER@,$CC_FILTER,;t t
-s,@CXX_FILTER@,$CXX_FILTER,;t t
-s,@AR_FILTER@,$AR_FILTER,;t t
-s,@LINK_FILTER@,$LINK_FILTER,;t t
-s,@CC_WRAPPER@,$CC_WRAPPER,;t t
-s,@CXX_WRAPPER@,$CXX_WRAPPER,;t t
-s,@AR_WRAPPER@,$AR_WRAPPER,;t t
-s,@LINK_WRAPPER@,$LINK_WRAPPER,;t t
-s,@KeepStateTarget@,$KeepStateTarget,;t t
-s,@Rules@,$Rules,;t t
-s,@serial_ws50_rtti_kludge@,$serial_ws50_rtti_kludge,;t t
-s,@ncbicntr@,$ncbicntr,;t t
-s,@UNIX_SRC@,$UNIX_SRC,;t t
-s,@UNIX_USR_PROJ@,$UNIX_USR_PROJ,;t t
-s,@compiler@,$compiler,;t t
-s,@compiler_root@,$compiler_root,;t t
-s,@compiler_version@,$compiler_version,;t t
-s,@COMPILER@,$COMPILER,;t t
-s,@OSTYPE@,$OSTYPE,;t t
-s,@NCBI_PLATFORM_BITS@,$NCBI_PLATFORM_BITS,;t t
-s,@LIBOBJS@,$LIBOBJS,;t t
-s,@LTLIBOBJS@,$LTLIBOBJS,;t t
-CEOF
 
+ac_delim='%!_!# '
+for ac_last_try in false false false false false :; do
+  cat >conf$$subs.sed <<_ACEOF
+IF_DEACTIVATING!$IF_DEACTIVATING$ac_delim
+configurables_mfname!$configurables_mfname$ac_delim
+CC_FILTER!$CC_FILTER$ac_delim
+CXX_FILTER!$CXX_FILTER$ac_delim
+AR_FILTER!$AR_FILTER$ac_delim
+LINK_FILTER!$LINK_FILTER$ac_delim
+CC_WRAPPER!$CC_WRAPPER$ac_delim
+CXX_WRAPPER!$CXX_WRAPPER$ac_delim
+AR_WRAPPER!$AR_WRAPPER$ac_delim
+LINK_WRAPPER!$LINK_WRAPPER$ac_delim
+KeepStateTarget!$KeepStateTarget$ac_delim
+Rules!$Rules$ac_delim
+serial_ws50_rtti_kludge!$serial_ws50_rtti_kludge$ac_delim
+ncbicntr!$ncbicntr$ac_delim
+UNIX_SRC!$UNIX_SRC$ac_delim
+UNIX_USR_PROJ!$UNIX_USR_PROJ$ac_delim
+compiler!$compiler$ac_delim
+compiler_root!$compiler_root$ac_delim
+compiler_version!$compiler_version$ac_delim
+COMPILER!$COMPILER$ac_delim
+OSTYPE!$OSTYPE$ac_delim
+NCBI_PLATFORM_BITS!$NCBI_PLATFORM_BITS$ac_delim
+LIBOBJS!$LIBOBJS$ac_delim
+LTLIBOBJS!$LTLIBOBJS$ac_delim
 _ACEOF
 
-  cat >>$CONFIG_STATUS <<\_ACEOF
-  # Split the substitutions into bite-sized pieces for seds with
-  # small command number limits, like on Digital OSF/1 and HP-UX.
-  ac_max_sed_lines=48
-  ac_sed_frag=1 # Number of current file.
-  ac_beg=1 # First line for current file.
-  ac_end=$ac_max_sed_lines # Line after last line for current file.
-  ac_more_lines=:
-  ac_sed_cmds=
-  while $ac_more_lines; do
-    if test $ac_beg -gt 1; then
-      sed "1,${ac_beg}d; ${ac_end}q" $tmp/subs.sed >$tmp/subs.frag
-    else
-      sed "${ac_end}q" $tmp/subs.sed >$tmp/subs.frag
-    fi
-    if test ! -s $tmp/subs.frag; then
-      ac_more_lines=false
-    else
-      # The purpose of the label and of the branching condition is to
-      # speed up the sed processing (if there are no `@' at all, there
-      # is no need to browse any of the substitutions).
-      # These are the two extra sed commands mentioned above.
-      (echo ':t
-  /@[a-zA-Z_][a-zA-Z_0-9]*@/!b' && cat $tmp/subs.frag) >$tmp/subs-$ac_sed_frag.sed
-      if test -z "$ac_sed_cmds"; then
-	ac_sed_cmds="sed -f $tmp/subs-$ac_sed_frag.sed"
-      else
-	ac_sed_cmds="$ac_sed_cmds | sed -f $tmp/subs-$ac_sed_frag.sed"
-      fi
-      ac_sed_frag=`expr $ac_sed_frag + 1`
-      ac_beg=$ac_end
-      ac_end=`expr $ac_end + $ac_max_sed_lines`
+  if test `sed -n "s/.*$ac_delim\$/X/p" conf$$subs.sed | grep -c X` = 24; then
+    break
+  elif $ac_last_try; then
+    { { echo "$as_me:$LINENO: error: could not make $CONFIG_STATUS" >&5
+echo "$as_me: error: could not make $CONFIG_STATUS" >&2;}
+   { (exit 1); exit 1; }; }
+  else
+    ac_delim="$ac_delim!$ac_delim _$ac_delim!! "
     fi
   done
-  if test -z "$ac_sed_cmds"; then
-    ac_sed_cmds=cat
+
+ac_eof=`sed -n '/^CEOF[0-9]*$/s/CEOF/0/p' conf$$subs.sed`
+if test -n "$ac_eof"; then
+  ac_eof=`echo "$ac_eof" | sort -nru | sed 1q`
+  ac_eof=`expr $ac_eof + 1`
   fi
-fi # test -n "$CONFIG_FILES"
 
+cat >>$CONFIG_STATUS <<_ACEOF
+cat >"\$tmp/subs-5.sed" <<\CEOF$ac_eof
+/@[a-zA-Z_][a-zA-Z_0-9]*@/!b end
+_ACEOF
+sed '
+s/[,\\&]/\\&/g; s/@/@|#_!!_#|/g
+s/^/s,@/; s/!/@,|#_!!_#|/
+:n
+t n
+s/'"$ac_delim"'$/,g/; t
+s/$/\\/; p
+N; s/^.*\n//; s/[,\\&]/\\&/g; s/@/@|#_!!_#|/g; b n
+' >>$CONFIG_STATUS <conf$$subs.sed
+rm -f conf$$subs.sed
+cat >>$CONFIG_STATUS <<_ACEOF
+:end
+s/|#_!!_#|//g
+CEOF$ac_eof
 _ACEOF
+
+
+# VPATH may cause trouble with some makes, so we remove $(srcdir),
+# ${srcdir} and @srcdir@ from VPATH if srcdir is ".", strip leading and
+# trailing colons and then remove the whole line if VPATH becomes empty
+# (actually we leave an empty line to preserve line numbers).
+if test "x$srcdir" = x.; then
+  ac_vpsub='/^[	 ]*VPATH[	 ]*=/{
+s/:*\$(srcdir):*/:/
+s/:*\${srcdir}:*/:/
+s/:*@srcdir@:*/:/
+s/^\([^=]*=[	 ]*\):*/\1/
+s/:*$//
+s/^[^=]*=[	 ]*$//
+}'
+fi
+
 cat >>$CONFIG_STATUS <<\_ACEOF
-for ac_file in : $CONFIG_FILES; do test "x$ac_file" = x: && continue
-  # Support "outfile[:infile[:infile...]]", defaulting infile="outfile.in".
-  case $ac_file in
-  - | *:- | *:-:* ) # input from stdin
-	cat >$tmp/stdin
-	ac_file_in=`echo "$ac_file" | sed 's,[^:]*:,,'`
-	ac_file=`echo "$ac_file" | sed 's,:.*,,'` ;;
-  *:* ) ac_file_in=`echo "$ac_file" | sed 's,[^:]*:,,'`
-	ac_file=`echo "$ac_file" | sed 's,:.*,,'` ;;
-  * )   ac_file_in=$ac_file.in ;;
+fi # test -n "$CONFIG_FILES"
+
+
+for ac_tag in  :F $CONFIG_FILES  :H $CONFIG_HEADERS    :C $CONFIG_COMMANDS
+do
+  case $ac_tag in
+  :[FHLC]) ac_mode=$ac_tag; continue;;
+  esac
+  case $ac_mode$ac_tag in
+  :[FHL]*:*);;
+  :L* | :C*:*) { { echo "$as_me:$LINENO: error: Invalid tag $ac_tag." >&5
+echo "$as_me: error: Invalid tag $ac_tag." >&2;}
+   { (exit 1); exit 1; }; };;
+  :[FH]-) ac_tag=-:-;;
+  :[FH]*) ac_tag=$ac_tag:$ac_tag.in;;
+  esac
+  ac_save_IFS=$IFS
+  IFS=:
+  set x $ac_tag
+  IFS=$ac_save_IFS
+  shift
+  ac_file=$1
+  shift
+
+  case $ac_mode in
+  :L) ac_source=$1;;
+  :[FH])
+    ac_file_inputs=
+    for ac_f
+    do
+      case $ac_f in
+      -) ac_f="$tmp/stdin";;
+      *) # Look for the file first in the build tree, then in the source tree
+	 # (if the path is not absolute).  The absolute path cannot be DOS-style,
+	 # because $ac_f cannot contain `:'.
+	 test -f "$ac_f" ||
+	   case $ac_f in
+	   [\\/$]*) false;;
+	   *) test -f "$srcdir/$ac_f" && ac_f="$srcdir/$ac_f";;
+	   esac ||
+	   { { echo "$as_me:$LINENO: error: cannot find input file: $ac_f" >&5
+echo "$as_me: error: cannot find input file: $ac_f" >&2;}
+   { (exit 1); exit 1; }; };;
+      esac
+      ac_file_inputs="$ac_file_inputs $ac_f"
+    done
+
+    # Let's still pretend it is `configure' which instantiates (i.e., don't
+    # use $as_me), people would be surprised to read:
+    #    /* config.h.  Generated by config.status.  */
+    configure_input="Generated from "`IFS=:
+	  echo $* | sed 's|^[^:]*/||;s|:[^:]*/|, |g'`" by configure."
+    if test x"$ac_file" != x-; then
+      configure_input="$ac_file.  $configure_input"
+      { echo "$as_me:$LINENO: creating $ac_file" >&5
+echo "$as_me: creating $ac_file" >&6;}
+    fi
+
+    case $ac_tag in
+    *:-:* | *:-) cat >"$tmp/stdin";;
+    esac
+    ;;
   esac
 
-  # Compute @srcdir@, @top_srcdir@, and @INSTALL@ for subdirectories.
-  ac_dir=`(dirname "$ac_file") 2>/dev/null ||
+  ac_dir=`$as_dirname -- "$ac_file" ||
 $as_expr X"$ac_file" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
 	 X"$ac_file" : 'X\(//\)[^/]' \| \
 	 X"$ac_file" : 'X\(//\)$' \| \
-	 X"$ac_file" : 'X\(/\)' \| \
-	 .     : '\(.\)' 2>/dev/null ||
+	 X"$ac_file" : 'X\(/\)' \| . 2>/dev/null ||
 echo X"$ac_file" |
-    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
-  	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
-  	  /^X\(\/\/\)$/{ s//\1/; q; }
-  	  /^X\(\/\).*/{ s//\1/; q; }
+    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{
+	    s//\1/
+	    q
+	  }
+	  /^X\(\/\/\)[^/].*/{
+	    s//\1/
+	    q
+	  }
+	  /^X\(\/\/\)$/{
+	    s//\1/
+	    q
+	  }
+	  /^X\(\/\).*/{
+	    s//\1/
+	    q
+	  }
   	  s/.*/./; q'`
-  { if $as_mkdir_p; then
-    mkdir -p "$ac_dir"
-  else
-    as_dir="$ac_dir"
+  { as_dir="$ac_dir"
+  case $as_dir in #(
+  -*) as_dir=./$as_dir;;
+  esac
+  test -d "$as_dir" || { $as_mkdir_p && mkdir -p "$as_dir"; } || {
     as_dirs=
-    while test ! -d "$as_dir"; do
-      as_dirs="$as_dir $as_dirs"
-      as_dir=`(dirname "$as_dir") 2>/dev/null ||
+    while :; do
+      case $as_dir in #(
+      *\'*) as_qdir=`echo "$as_dir" | sed "s/'/'\\\\\\\\''/g"`;; #(
+      *) as_qdir=$as_dir;;
+      esac
+      as_dirs="'$as_qdir' $as_dirs"
+      as_dir=`$as_dirname -- "$as_dir" ||
 $as_expr X"$as_dir" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
 	 X"$as_dir" : 'X\(//\)[^/]' \| \
 	 X"$as_dir" : 'X\(//\)$' \| \
-	 X"$as_dir" : 'X\(/\)' \| \
-	 .     : '\(.\)' 2>/dev/null ||
+	 X"$as_dir" : 'X\(/\)' \| . 2>/dev/null ||
 echo X"$as_dir" |
-    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
-  	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
-  	  /^X\(\/\/\)$/{ s//\1/; q; }
-  	  /^X\(\/\).*/{ s//\1/; q; }
+    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{
+	    s//\1/
+	    q
+	  }
+	  /^X\(\/\/\)[^/].*/{
+	    s//\1/
+	    q
+	  }
+	  /^X\(\/\/\)$/{
+	    s//\1/
+	    q
+	  }
+	  /^X\(\/\).*/{
+	    s//\1/
+	    q
+	  }
   	  s/.*/./; q'`
+      test -d "$as_dir" && break
     done
-    test ! -n "$as_dirs" || mkdir $as_dirs
-  fi || { { echo "$as_me:$LINENO: error: cannot create directory \"$ac_dir\"" >&5
-echo "$as_me: error: cannot create directory \"$ac_dir\"" >&2;}
+    test -z "$as_dirs" || eval "mkdir $as_dirs"
+  } || test -d "$as_dir" || { { echo "$as_me:$LINENO: error: cannot create directory $as_dir" >&5
+echo "$as_me: error: cannot create directory $as_dir" >&2;}
    { (exit 1); exit 1; }; }; }
-
-  #ac_builddir=. # Useless!
-ac_builddir=$builddir
-if test -n "$ac_file_in"; then
-   ac_dir_in=`(dirname "$ac_file_in") 2>/dev/null ||
-$as_expr X"$ac_file_in" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
-	 X"$ac_file_in" : 'X\(//\)[^/]' \| \
-	 X"$ac_file_in" : 'X\(//\)$' \| \
-	 X"$ac_file_in" : 'X\(/\)' \| \
-	 .     : '\(.\)' 2>/dev/null ||
-echo X"$ac_file_in" |
-    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
-  	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
-  	  /^X\(\/\/\)$/{ s//\1/; q; }
-  	  /^X\(\/\).*/{ s//\1/; q; }
+  # Base source directories on path to *input* file.
+if test -n "$ac_f"; then
+   ac_dir_in=`$as_dirname -- "$ac_f" ||
+$as_expr X"$ac_f" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
+	 X"$ac_f" : 'X\(//\)[^/]' \| \
+	 X"$ac_f" : 'X\(//\)$' \| \
+	 X"$ac_f" : 'X\(/\)' \| . 2>/dev/null ||
+echo X"$ac_f" |
+    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{
+	    s//\1/
+	    q
+	  }
+	  /^X\(\/\/\)[^/].*/{
+	    s//\1/
+	    q
+	  }
+	  /^X\(\/\/\)$/{
+	    s//\1/
+	    q
+	  }
+	  /^X\(\/\).*/{
+	    s//\1/
+	    q
+	  }
   	  s/.*/./; q'`
 else
    ac_dir_in="$ac_dir"
 fi
 
-if test $ac_dir_in != .; then
-  ac_dir_suffix=`echo $ac_dir_in | sed 's,^\.[\\/],,'`
-  # A "../" for each directory in $ac_dir_suffix.
-  ac_top_builddir=../`echo "$ac_dir_suffix" | sed 's,/[^\\/]*,../,g'`
-else
-  ac_dir_suffix= ac_top_builddir=
-fi
+ac_builddir=.
 
-case $srcdir in
-  .)  # No --srcdir option.  We are building in place.
-    ac_srcdir=.
-    if test -z "$ac_top_builddir"; then
-       ac_top_srcdir=.
-    else
-       ac_top_srcdir=`echo $ac_top_builddir | sed 's,/$,,'`
-    fi ;;
-  [\\/]* | ?:[\\/]* )  # Absolute path.
-    ac_srcdir=$srcdir/$ac_dir_suffix;
-    ac_top_srcdir=$srcdir ;;
-  *) # Relative path.
-    ac_srcdir=$ac_top_builddir$srcdir/$ac_dir_suffix
-    ac_top_srcdir=$ac_top_builddir$srcdir ;;
-esac
-# Do not use `cd foo && pwd` to compute absolute paths, because
-# the directories may not exist.
-case $builddir in
-.) ac_abs_builddir="$ac_dir";;
-*)
-  case "$ac_dir" in
-  .) ac_abs_builddir=$builddir;;
-  [\\/]* | ?:[\\/]* ) ac_abs_builddir="$ac_dir";;
-  *) ac_abs_builddir=$builddir/"$ac_dir";;
-  esac;;
-esac
-case $ac_abs_builddir in
-.) ac_abs_top_builddir=${ac_top_builddir}.;;
+case "$ac_dir_in" in
+.) ac_dir_suffix= ac_top_builddir_sub=. ac_top_build_prefix= ;;
 *)
-  case ${ac_top_builddir}. in
-  .) ac_abs_top_builddir=$ac_abs_builddir;;
-  [\\/]* | ?:[\\/]* ) ac_abs_top_builddir=${ac_top_builddir}.;;
-  *) ac_abs_top_builddir=$ac_abs_builddir/${ac_top_builddir}.;;
+  ac_dir_suffix=/`echo "$ac_dir_in" | sed 's,^\.[\\/],,'`
+  # A ".." for each directory in $ac_dir_suffix.
+  ac_top_builddir_sub=`echo "$ac_dir_suffix" | sed 's,/[^\\/]*,/..,g;s,/,,'`
+  case $ac_top_builddir_sub in
+  "") ac_top_builddir_sub=. ac_top_build_prefix= ;;
+  *)  ac_top_build_prefix=$ac_top_builddir_sub/ ;;
   esac;;
 esac
+ac_abs_top_builddir=$ac_pwd
+ac_abs_builddir=$ac_pwd$ac_dir_suffix
+# for backward compatibility:
+ac_top_builddir=$ac_top_build_prefix
+
+case $srcdir in
+  .)  # We are building in place.
+    ac_srcdir=.
+    ac_top_srcdir=$ac_top_builddir_sub
+    ac_abs_top_srcdir=$ac_pwd ;;
+  [\\/]* | ?:[\\/]* )  # Absolute name.
+    ac_srcdir=$srcdir$ac_dir_suffix;
+    ac_top_srcdir=$srcdir
+    ac_abs_top_srcdir=$srcdir ;;
+  *) # Relative name.
+    ac_srcdir=$ac_top_build_prefix$srcdir$ac_dir_suffix
+    ac_top_srcdir=$ac_top_build_prefix$srcdir
+    ac_abs_top_srcdir=$ac_pwd/$srcdir ;;
+esac
+ac_abs_srcdir=$ac_abs_top_srcdir$ac_dir_suffix
+
+
 case $ac_dir_in in
 .) ac_abs_top_srcdir=$real_srcdir;;
 *)
@@ -36015,66 +41447,55 @@
   *) ac_abs_top_srcdir=$ac_dir_in/$real_srcdir;;
   esac;;
 esac
-case $ac_abs_top_srcdir in
-.) ac_abs_srcdir=$ac_dir_suffix;;
-*)
-  case $ac_dir_suffix in
-  .) ac_abs_srcdir=$ac_abs_top_srcdir;;
-  [\\/]* | ?:[\\/]* ) ac_abs_srcdir=$ac_dir_suffix;;
-  *) ac_abs_srcdir=$ac_abs_top_srcdir/$ac_dir_suffix;;
-  esac;;
-esac
+ac_builddir=$builddir
 
 
+  case $ac_mode in
+  :F)
+  #
+  # CONFIG_FILE
+  #
+
   case $INSTALL in
   [\\/$]* | ?:[\\/]* ) ac_INSTALL=$INSTALL ;;
-  *) ac_INSTALL=$ac_top_builddir$INSTALL ;;
+  *) ac_INSTALL=$ac_top_build_prefix$INSTALL ;;
   esac
+_ACEOF
 
-  if test x"$ac_file" != x-; then
-    { echo "$as_me:$LINENO: creating $ac_file" >&5
-echo "$as_me: creating $ac_file" >&6;}
-    rm -f "$ac_file"
-  fi
-  # Let's still pretend it is `configure' which instantiates (i.e., don't
-  # use $as_me), people would be surprised to read:
-  #    /* config.h.  Generated by config.status.  */
-  if test x"$ac_file" = x-; then
-    configure_input=
-  else
-    configure_input="$ac_file.  "
-  fi
-  configure_input=$configure_input"Generated from `echo $ac_file_in |
-				     sed 's,.*/,,'` by configure."
-
-  # First look for the input files in the build tree, otherwise in the
-  # src tree.
-  ac_file_inputs=`IFS=:
-    for f in $ac_file_in; do
-      case $f in
-      -) echo $tmp/stdin ;;
-      [\\/$]*)
-	 # Absolute (can't be DOS-style, as IFS=:)
-	 test -f "$f" || { { echo "$as_me:$LINENO: error: cannot find input file: $f" >&5
-echo "$as_me: error: cannot find input file: $f" >&2;}
-   { (exit 1); exit 1; }; }
-	 echo "$f";;
-      *) # Relative
-	 if test -f "$f"; then
-	   # Build tree
-	   echo "$f"
-	 elif test -f "$srcdir/$f"; then
-	   # Source tree
-	   echo "$srcdir/$f"
-	 else
-	   # /dev/null tree
-	   { { echo "$as_me:$LINENO: error: cannot find input file: $f" >&5
-echo "$as_me: error: cannot find input file: $f" >&2;}
-   { (exit 1); exit 1; }; }
-	 fi;;
+cat >>$CONFIG_STATUS <<\_ACEOF
+# If the template does not know about datarootdir, expand it.
+# FIXME: This hack should be removed a few years after 2.60.
+ac_datarootdir_hack=; ac_datarootdir_seen=
+
+case `sed -n '/datarootdir/ {
+  p
+  q
+}
+/@datadir@/p
+/@docdir@/p
+/@infodir@/p
+/@localedir@/p
+/@mandir@/p
+' $ac_file_inputs` in
+*datarootdir*) ac_datarootdir_seen=yes;;
+*@datadir@*|*@docdir@*|*@infodir@*|*@localedir@*|*@mandir@*)
+  { echo "$as_me:$LINENO: WARNING: $ac_file_inputs seems to ignore the --datarootdir setting" >&5
+echo "$as_me: WARNING: $ac_file_inputs seems to ignore the --datarootdir setting" >&2;}
+_ACEOF
+cat >>$CONFIG_STATUS <<_ACEOF
+  ac_datarootdir_hack='
+  s&@datadir@&$datadir&g
+  s&@docdir@&$docdir&g
+  s&@infodir@&$infodir&g
+  s&@localedir@&$localedir&g
+  s&@mandir@&$mandir&g
+    s&\\\${datarootdir}&$datarootdir&g' ;;
       esac
-    done` || { (exit 1); exit 1; }
 _ACEOF
+
+# Neutralize VPATH when `$srcdir' = `.'.
+# Shell code in configure.ac might set extrasub.
+# FIXME: do we really want to maintain this feature?
 cat >>$CONFIG_STATUS <<_ACEOF
   sed "$ac_vpsub
 $extrasub
@@ -36082,381 +41503,140 @@
 cat >>$CONFIG_STATUS <<\_ACEOF
 :t
 /@[a-zA-Z_][a-zA-Z_0-9]*@/!b
-s,@configure_input@,$configure_input,;t t
-s,@srcdir@,$ac_srcdir,;t t
-s,@abs_srcdir@,$ac_abs_srcdir,;t t
-s,@top_srcdir@,$ac_top_srcdir,;t t
-s,@abs_top_srcdir@,$ac_abs_top_srcdir,;t t
-s,@builddir@,$ac_builddir,;t t
-s,@abs_builddir@,$ac_abs_builddir,;t t
-s,@top_builddir@,$ac_top_builddir,;t t
-s,@abs_top_builddir@,$ac_abs_top_builddir,;t t
-s,@INSTALL@,$ac_INSTALL,;t t
-" $ac_file_inputs | (eval "$ac_sed_cmds") >$tmp/out
-  rm -f $tmp/stdin
-  if test x"$ac_file" != x-; then
-    mv $tmp/out $ac_file
-  else
-    cat $tmp/out
-    rm -f $tmp/out
-  fi
-
-done
-_ACEOF
-cat >>$CONFIG_STATUS <<\_ACEOF
+s&@configure_input@&$configure_input&;t t
+s&@top_builddir@&$ac_top_builddir_sub&;t t
+s&@srcdir@&$ac_srcdir&;t t
+s&@abs_srcdir@&$ac_abs_srcdir&;t t
+s&@top_srcdir@&$ac_top_srcdir&;t t
+s&@abs_top_srcdir@&$ac_abs_top_srcdir&;t t
+s&@builddir@&$ac_builddir&;t t
+s&@abs_builddir@&$ac_abs_builddir&;t t
+s&@abs_top_builddir@&$ac_abs_top_builddir&;t t
+s&@INSTALL@&$ac_INSTALL&;t t
+$ac_datarootdir_hack
+" $ac_file_inputs | sed -f "$tmp/subs-1.sed" | sed -f "$tmp/subs-2.sed" | sed -f "$tmp/subs-3.sed" | sed -f "$tmp/subs-4.sed" | sed -f "$tmp/subs-5.sed" >$tmp/out
+
+test -z "$ac_datarootdir_hack$ac_datarootdir_seen" &&
+  { ac_out=`sed -n '/\${datarootdir}/p' "$tmp/out"`; test -n "$ac_out"; } &&
+  { ac_out=`sed -n '/^[	 ]*datarootdir[	 ]*:*=/p' "$tmp/out"`; test -z "$ac_out"; } &&
+  { echo "$as_me:$LINENO: WARNING: $ac_file contains a reference to the variable \`datarootdir'
+which seems to be undefined.  Please make sure it is defined." >&5
+echo "$as_me: WARNING: $ac_file contains a reference to the variable \`datarootdir'
+which seems to be undefined.  Please make sure it is defined." >&2;}
 
+  rm -f "$tmp/stdin"
+  case $ac_file in
+  -) cat "$tmp/out"; rm -f "$tmp/out";;
+  *) rm -f "$ac_file"; mv "$tmp/out" $ac_file;;
+  esac
+ ;;
+  :H)
 #
-# CONFIG_HEADER section.
+  # CONFIG_HEADER
 #
+_ACEOF
 
-# These sed commands are passed to sed as "A NAME B NAME C VALUE D", where
-# NAME is the cpp macro being defined and VALUE is the value it is being given.
-#
-# ac_d sets the value in "#define NAME VALUE" lines.
-ac_dA='s,^\([	 ]*\)#\([	 ]*define[	 ][	 ]*\)'
-ac_dB='[	 ].*$,\1#\2'
+# Transform confdefs.h into a sed script `conftest.defines', that
+# substitutes the proper values into config.h.in to produce config.h.
+rm -f conftest.defines conftest.tail
+# First, append a space to every undef/define line, to ease matching.
+echo 's/$/ /' >conftest.defines
+# Then, protect against being on the right side of a sed subst, or in
+# an unquoted here document, in config.status.  If some macros were
+# called several times there might be several #defines for the same
+# symbol, which is useless.  But do not sort them, since the last
+# AC_DEFINE must be honored.
+ac_word_re=[_$as_cr_Letters][_$as_cr_alnum]*
+# These sed commands are passed to sed as "A NAME B PARAMS C VALUE D", where
+# NAME is the cpp macro being defined, VALUE is the value it is being given.
+# PARAMS is the parameter list in the macro definition--in most cases, it's
+# just an empty string.
+ac_dA='s,^\\([	 #]*\\)[^	 ]*\\([	 ]*'
+ac_dB='\\)[	 (].*,\\1define\\2'
 ac_dC=' '
-ac_dD=',;t'
-# ac_u turns "#undef NAME" without trailing blanks into "#define NAME VALUE".
-ac_uA='s,^\([	 ]*\)#\([	 ]*\)undef\([	 ][	 ]*\)'
-ac_uB='$,\1#\2define\3'
-ac_uC=' '
-ac_uD=',;t'
+ac_dD=' ,'
 
-for ac_file in : $CONFIG_HEADERS; do test "x$ac_file" = x: && continue
-  # Support "outfile[:infile[:infile...]]", defaulting infile="outfile.in".
-  case $ac_file in
-  - | *:- | *:-:* ) # input from stdin
-	cat >$tmp/stdin
-	ac_file_in=`echo "$ac_file" | sed 's,[^:]*:,,'`
-	ac_file=`echo "$ac_file" | sed 's,:.*,,'` ;;
-  *:* ) ac_file_in=`echo "$ac_file" | sed 's,[^:]*:,,'`
-	ac_file=`echo "$ac_file" | sed 's,:.*,,'` ;;
-  * )   ac_file_in=$ac_file.in ;;
-  esac
-
-  test x"$ac_file" != x- && { echo "$as_me:$LINENO: creating $ac_file" >&5
-echo "$as_me: creating $ac_file" >&6;}
-
-  # First look for the input files in the build tree, otherwise in the
-  # src tree.
-  ac_file_inputs=`IFS=:
-    for f in $ac_file_in; do
-      case $f in
-      -) echo $tmp/stdin ;;
-      [\\/$]*)
-	 # Absolute (can't be DOS-style, as IFS=:)
-	 test -f "$f" || { { echo "$as_me:$LINENO: error: cannot find input file: $f" >&5
-echo "$as_me: error: cannot find input file: $f" >&2;}
-   { (exit 1); exit 1; }; }
-	 # Do quote $f, to prevent DOS paths from being IFS'd.
-	 echo "$f";;
-      *) # Relative
-	 if test -f "$f"; then
-	   # Build tree
-	   echo "$f"
-	 elif test -f "$srcdir/$f"; then
-	   # Source tree
-	   echo "$srcdir/$f"
-	 else
-	   # /dev/null tree
-	   { { echo "$as_me:$LINENO: error: cannot find input file: $f" >&5
-echo "$as_me: error: cannot find input file: $f" >&2;}
-   { (exit 1); exit 1; }; }
-	 fi;;
-      esac
-    done` || { (exit 1); exit 1; }
-  # Remove the trailing spaces.
-  sed 's/[	 ]*$//' $ac_file_inputs >$tmp/in
-
-_ACEOF
-
-# Transform confdefs.h into two sed scripts, `conftest.defines' and
-# `conftest.undefs', that substitutes the proper values into
-# config.h.in to produce config.h.  The first handles `#define'
-# templates, and the second `#undef' templates.
-# And first: Protect against being on the right side of a sed subst in
-# config.status.  Protect against being in an unquoted here document
-# in config.status.
-rm -f conftest.defines conftest.undefs
-# Using a here document instead of a string reduces the quoting nightmare.
-# Putting comments in sed scripts is not portable.
-#
-# `end' is used to avoid that the second main sed command (meant for
-# 0-ary CPP macros) applies to n-ary macro definitions.
-# See the Autoconf documentation for `clear'.
-cat >confdef2sed.sed <<\_ACEOF
+uniq confdefs.h |
+  sed -n '
+	t rset
+	:rset
+	s/^[	 ]*#[	 ]*define[	 ][	 ]*//
+	t ok
+	d
+	:ok
 s/[\\&,]/\\&/g
-s,[\\$`],\\&,g
-t clear
-: clear
-s,^[	 ]*#[	 ]*define[	 ][	 ]*\([^	 (][^	 (]*\)\(([^)]*)\)[	 ]*\(.*\)$,${ac_dA}\1${ac_dB}\1\2${ac_dC}\3${ac_dD},gp
-t end
-s,^[	 ]*#[	 ]*define[	 ][	 ]*\([^	 ][^	 ]*\)[	 ]*\(.*\)$,${ac_dA}\1${ac_dB}\1${ac_dC}\2${ac_dD},gp
-: end
-_ACEOF
-# If some macros were called several times there might be several times
-# the same #defines, which is useless.  Nevertheless, we may not want to
-# sort them, since we want the *last* AC-DEFINE to be honored.
-uniq confdefs.h | sed -n -f confdef2sed.sed >conftest.defines
-sed 's/ac_d/ac_u/g' conftest.defines >conftest.undefs
-rm -f confdef2sed.sed
+	s/^\('"$ac_word_re"'\)\(([^()]*)\)[	 ]*\(.*\)/ '"$ac_dA"'\1'"$ac_dB"'\2'"${ac_dC}"'\3'"$ac_dD"'/p
+	s/^\('"$ac_word_re"'\)[	 ]*\(.*\)/'"$ac_dA"'\1'"$ac_dB$ac_dC"'\2'"$ac_dD"'/p
+  ' >>conftest.defines
 
-# This sed command replaces #undef with comments.  This is necessary, for
+# Remove the space that was appended to ease matching.
+# Then replace #undef with comments.  This is necessary, for
 # example, in the case of _POSIX_SOURCE, which is predefined and required
 # on some systems where configure will not decide to define it.
-cat >>conftest.undefs <<\_ACEOF
-s,^[	 ]*#[	 ]*undef[	 ][	 ]*[a-zA-Z_][a-zA-Z_0-9]*,/* & */,
-_ACEOF
+# (The regexp can be short, since the line contains either #define or #undef.)
+echo 's/ $//
+s,^[	 #]*u.*,/* & */,' >>conftest.defines
+
+# Break up conftest.defines:
+ac_max_sed_lines=50
+
+# First sed command is:	 sed -f defines.sed $ac_file_inputs >"$tmp/out1"
+# Second one is:	 sed -f defines.sed "$tmp/out1" >"$tmp/out2"
+# Third one will be:	 sed -f defines.sed "$tmp/out2" >"$tmp/out1"
+# et cetera.
+ac_in='$ac_file_inputs'
+ac_out='"$tmp/out1"'
+ac_nxt='"$tmp/out2"'
 
-# Break up conftest.defines because some shells have a limit on the size
-# of here documents, and old seds have small limits too (100 cmds).
-echo '  # Handle all the #define templates only if necessary.' >>$CONFIG_STATUS
-echo '  if grep "^[	 ]*#[	 ]*define" $tmp/in >/dev/null; then' >>$CONFIG_STATUS
-echo '  # If there are no defines, we may have an empty if/fi' >>$CONFIG_STATUS
-echo '  :' >>$CONFIG_STATUS
-rm -f conftest.tail
-while grep . conftest.defines >/dev/null
-do
-  # Write a limited-size here document to $tmp/defines.sed.
-  echo '  cat >$tmp/defines.sed <<CEOF' >>$CONFIG_STATUS
-  # Speed up: don't consider the non `#define' lines.
-  echo '/^[	 ]*#[	 ]*define/!b' >>$CONFIG_STATUS
-  # Work around the forget-to-reset-the-flag bug.
-  echo 't clr' >>$CONFIG_STATUS
-  echo ': clr' >>$CONFIG_STATUS
-  sed ${ac_max_here_lines}q conftest.defines >>$CONFIG_STATUS
+while :
+do
+  # Write a here document:
+    cat >>$CONFIG_STATUS <<_ACEOF
+    # First, check the format of the line:
+    cat >"\$tmp/defines.sed" <<\\CEOF
+/^[	 ]*#[	 ]*undef[	 ][	 ]*$ac_word_re[	 ]*\$/b def
+/^[	 ]*#[	 ]*define[	 ][	 ]*$ac_word_re[(	 ]/b def
+b
+:def
+_ACEOF
+  sed ${ac_max_sed_lines}q conftest.defines >>$CONFIG_STATUS
   echo 'CEOF
-  sed -f $tmp/defines.sed $tmp/in >$tmp/out
-  rm -f $tmp/in
-  mv $tmp/out $tmp/in
-' >>$CONFIG_STATUS
-  sed 1,${ac_max_here_lines}d conftest.defines >conftest.tail
+    sed -f "$tmp/defines.sed"' "$ac_in >$ac_out" >>$CONFIG_STATUS
+  ac_in=$ac_out; ac_out=$ac_nxt; ac_nxt=$ac_in
+  sed 1,${ac_max_sed_lines}d conftest.defines >conftest.tail
+  grep . conftest.tail >/dev/null || break
   rm -f conftest.defines
   mv conftest.tail conftest.defines
 done
-rm -f conftest.defines
-echo '  fi # grep' >>$CONFIG_STATUS
-echo >>$CONFIG_STATUS
-
-# Break up conftest.undefs because some shells have a limit on the size
-# of here documents, and old seds have small limits too (100 cmds).
-echo '  # Handle all the #undef templates' >>$CONFIG_STATUS
-rm -f conftest.tail
-while grep . conftest.undefs >/dev/null
-do
-  # Write a limited-size here document to $tmp/undefs.sed.
-  echo '  cat >$tmp/undefs.sed <<CEOF' >>$CONFIG_STATUS
-  # Speed up: don't consider the non `#undef'
-  echo '/^[	 ]*#[	 ]*undef/!b' >>$CONFIG_STATUS
-  # Work around the forget-to-reset-the-flag bug.
-  echo 't clr' >>$CONFIG_STATUS
-  echo ': clr' >>$CONFIG_STATUS
-  sed ${ac_max_here_lines}q conftest.undefs >>$CONFIG_STATUS
-  echo 'CEOF
-  sed -f $tmp/undefs.sed $tmp/in >$tmp/out
-  rm -f $tmp/in
-  mv $tmp/out $tmp/in
-' >>$CONFIG_STATUS
-  sed 1,${ac_max_here_lines}d conftest.undefs >conftest.tail
-  rm -f conftest.undefs
-  mv conftest.tail conftest.undefs
-done
-rm -f conftest.undefs
+rm -f conftest.defines conftest.tail
 
+echo "ac_result=$ac_in" >>$CONFIG_STATUS
 cat >>$CONFIG_STATUS <<\_ACEOF
-  # Let's still pretend it is `configure' which instantiates (i.e., don't
-  # use $as_me), people would be surprised to read:
-  #    /* config.h.  Generated by config.status.  */
-  if test x"$ac_file" = x-; then
-    echo "/* Generated by configure.  */" >$tmp/config.h
-  else
-    echo "/* $ac_file.  Generated by configure.  */" >$tmp/config.h
-  fi
-  cat $tmp/in >>$tmp/config.h
-  rm -f $tmp/in
   if test x"$ac_file" != x-; then
-    if diff $ac_file $tmp/config.h >/dev/null 2>&1; then
+    echo "/* $configure_input  */" >"$tmp/config.h"
+    cat "$ac_result" >>"$tmp/config.h"
+    if diff $ac_file "$tmp/config.h" >/dev/null 2>&1; then
       { echo "$as_me:$LINENO: $ac_file is unchanged" >&5
 echo "$as_me: $ac_file is unchanged" >&6;}
     else
-      ac_dir=`(dirname "$ac_file") 2>/dev/null ||
-$as_expr X"$ac_file" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
-	 X"$ac_file" : 'X\(//\)[^/]' \| \
-	 X"$ac_file" : 'X\(//\)$' \| \
-	 X"$ac_file" : 'X\(/\)' \| \
-	 .     : '\(.\)' 2>/dev/null ||
-echo X"$ac_file" |
-    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
-  	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
-  	  /^X\(\/\/\)$/{ s//\1/; q; }
-  	  /^X\(\/\).*/{ s//\1/; q; }
-  	  s/.*/./; q'`
-      { if $as_mkdir_p; then
-    mkdir -p "$ac_dir"
-  else
-    as_dir="$ac_dir"
-    as_dirs=
-    while test ! -d "$as_dir"; do
-      as_dirs="$as_dir $as_dirs"
-      as_dir=`(dirname "$as_dir") 2>/dev/null ||
-$as_expr X"$as_dir" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
-	 X"$as_dir" : 'X\(//\)[^/]' \| \
-	 X"$as_dir" : 'X\(//\)$' \| \
-	 X"$as_dir" : 'X\(/\)' \| \
-	 .     : '\(.\)' 2>/dev/null ||
-echo X"$as_dir" |
-    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
-  	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
-  	  /^X\(\/\/\)$/{ s//\1/; q; }
-  	  /^X\(\/\).*/{ s//\1/; q; }
-  	  s/.*/./; q'`
-    done
-    test ! -n "$as_dirs" || mkdir $as_dirs
-  fi || { { echo "$as_me:$LINENO: error: cannot create directory \"$ac_dir\"" >&5
-echo "$as_me: error: cannot create directory \"$ac_dir\"" >&2;}
-   { (exit 1); exit 1; }; }; }
-
       rm -f $ac_file
-      mv $tmp/config.h $ac_file
-    fi
-  else
-    cat $tmp/config.h
-    rm -f $tmp/config.h
-  fi
-done
-_ACEOF
-cat >>$CONFIG_STATUS <<\_ACEOF
-
-#
-# CONFIG_COMMANDS section.
-#
-for ac_file in : $CONFIG_COMMANDS; do test "x$ac_file" = x: && continue
-  ac_dest=`echo "$ac_file" | sed 's,:.*,,'`
-  ac_source=`echo "$ac_file" | sed 's,[^:]*:,,'`
-  ac_dir=`(dirname "$ac_dest") 2>/dev/null ||
-$as_expr X"$ac_dest" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
-	 X"$ac_dest" : 'X\(//\)[^/]' \| \
-	 X"$ac_dest" : 'X\(//\)$' \| \
-	 X"$ac_dest" : 'X\(/\)' \| \
-	 .     : '\(.\)' 2>/dev/null ||
-echo X"$ac_dest" |
-    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
-  	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
-  	  /^X\(\/\/\)$/{ s//\1/; q; }
-  	  /^X\(\/\).*/{ s//\1/; q; }
-  	  s/.*/./; q'`
-  { if $as_mkdir_p; then
-    mkdir -p "$ac_dir"
-  else
-    as_dir="$ac_dir"
-    as_dirs=
-    while test ! -d "$as_dir"; do
-      as_dirs="$as_dir $as_dirs"
-      as_dir=`(dirname "$as_dir") 2>/dev/null ||
-$as_expr X"$as_dir" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
-	 X"$as_dir" : 'X\(//\)[^/]' \| \
-	 X"$as_dir" : 'X\(//\)$' \| \
-	 X"$as_dir" : 'X\(/\)' \| \
-	 .     : '\(.\)' 2>/dev/null ||
-echo X"$as_dir" |
-    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
-  	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
-  	  /^X\(\/\/\)$/{ s//\1/; q; }
-  	  /^X\(\/\).*/{ s//\1/; q; }
-  	  s/.*/./; q'`
-    done
-    test ! -n "$as_dirs" || mkdir $as_dirs
-  fi || { { echo "$as_me:$LINENO: error: cannot create directory \"$ac_dir\"" >&5
-echo "$as_me: error: cannot create directory \"$ac_dir\"" >&2;}
-   { (exit 1); exit 1; }; }; }
-
-  #ac_builddir=. # Useless!
-ac_builddir=$builddir
-if test -n "$ac_file_in"; then
-   ac_dir_in=`(dirname "$ac_file_in") 2>/dev/null ||
-$as_expr X"$ac_file_in" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
-	 X"$ac_file_in" : 'X\(//\)[^/]' \| \
-	 X"$ac_file_in" : 'X\(//\)$' \| \
-	 X"$ac_file_in" : 'X\(/\)' \| \
-	 .     : '\(.\)' 2>/dev/null ||
-echo X"$ac_file_in" |
-    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
-  	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
-  	  /^X\(\/\/\)$/{ s//\1/; q; }
-  	  /^X\(\/\).*/{ s//\1/; q; }
-  	  s/.*/./; q'`
-else
-   ac_dir_in="$ac_dir"
+      mv "$tmp/config.h" $ac_file
 fi
-
-if test $ac_dir_in != .; then
-  ac_dir_suffix=`echo $ac_dir_in | sed 's,^\.[\\/],,'`
-  # A "../" for each directory in $ac_dir_suffix.
-  ac_top_builddir=../`echo "$ac_dir_suffix" | sed 's,/[^\\/]*,../,g'`
 else
-  ac_dir_suffix= ac_top_builddir=
+    echo "/* $configure_input  */"
+    cat "$ac_result"
 fi
+  rm -f "$tmp/out12"
+ ;;
 
-case $srcdir in
-  .)  # No --srcdir option.  We are building in place.
-    ac_srcdir=.
-    if test -z "$ac_top_builddir"; then
-       ac_top_srcdir=.
-    else
-       ac_top_srcdir=`echo $ac_top_builddir | sed 's,/$,,'`
-    fi ;;
-  [\\/]* | ?:[\\/]* )  # Absolute path.
-    ac_srcdir=$srcdir/$ac_dir_suffix;
-    ac_top_srcdir=$srcdir ;;
-  *) # Relative path.
-    ac_srcdir=$ac_top_builddir$srcdir/$ac_dir_suffix
-    ac_top_srcdir=$ac_top_builddir$srcdir ;;
-esac
-# Do not use `cd foo && pwd` to compute absolute paths, because
-# the directories may not exist.
-case $builddir in
-.) ac_abs_builddir="$ac_dir";;
-*)
-  case "$ac_dir" in
-  .) ac_abs_builddir=$builddir;;
-  [\\/]* | ?:[\\/]* ) ac_abs_builddir="$ac_dir";;
-  *) ac_abs_builddir=$builddir/"$ac_dir";;
-  esac;;
-esac
-case $ac_abs_builddir in
-.) ac_abs_top_builddir=${ac_top_builddir}.;;
-*)
-  case ${ac_top_builddir}. in
-  .) ac_abs_top_builddir=$ac_abs_builddir;;
-  [\\/]* | ?:[\\/]* ) ac_abs_top_builddir=${ac_top_builddir}.;;
-  *) ac_abs_top_builddir=$ac_abs_builddir/${ac_top_builddir}.;;
-  esac;;
-esac
-case $ac_dir_in in
-.) ac_abs_top_srcdir=$real_srcdir;;
-*)
-  case $real_srcdir in
-  .) ac_abs_top_srcdir=$ac_dir_in;;
-  [\\/]* | ?:[\\/]* ) ac_abs_top_srcdir=$real_srcdir;;
-  *) ac_abs_top_srcdir=$ac_dir_in/$real_srcdir;;
-  esac;;
-esac
-case $ac_abs_top_srcdir in
-.) ac_abs_srcdir=$ac_dir_suffix;;
-*)
-  case $ac_dir_suffix in
-  .) ac_abs_srcdir=$ac_abs_top_srcdir;;
-  [\\/]* | ?:[\\/]* ) ac_abs_srcdir=$ac_dir_suffix;;
-  *) ac_abs_srcdir=$ac_abs_top_srcdir/$ac_dir_suffix;;
-  esac;;
+  :C)  { echo "$as_me:$LINENO: executing $ac_file commands" >&5
+echo "$as_me: executing $ac_file commands" >&6;}
+ ;;
 esac
 
 
-  { echo "$as_me:$LINENO: executing $ac_dest commands" >&5
-echo "$as_me: executing $ac_dest commands" >&6;}
-  case $ac_dest in
-    default )
+  case $ac_file$ac_mode in
+    "default":C)
 find "$build_root/." -name '*.sh' -print | while read x_file ; do
    chmod a+x "$x_file"
 done
@@ -36601,7 +41781,9 @@
 
 cat << EOCONF
 ===============================================================================
-NCBI C++ Toolkit documentation:  doc/index.html,  doc/config.html#ref_Running
+NCBI C++ Toolkit documentation:
+  Online:   http://www.ncbi.nlm.nih.gov/toolkit/doc/book/
+  Local:    ./doc/public/index.html
 For the available configuration flags run:  ./configure --help
 
 CFLAGS   = $CFLAGS
@@ -36628,11 +41810,10 @@
 ******* CONFIGURATION SUCCESSFUL *******
 EOCONF
  ;;
+
   esac
-done
-_ACEOF
+done # for ac_tag
 
-cat >>$CONFIG_STATUS <<\_ACEOF
 
 { (exit 0); exit 0; }
 _ACEOF
